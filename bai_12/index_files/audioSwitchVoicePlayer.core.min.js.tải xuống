/**
 * audioSwitchVoicePlayer - v0.0.1 - 11:32:31 13-12-2022
 */
var a={window:window,document:document};(function(){var define=void 0,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?module.exports=b():"function"==typeof define&&define.amd?define("aes-wasm",[],b):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports["aes-wasm"]=b():a["aes-wasm"]=b()}("undefined"==typeof self?void 0:self,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=1)}([function(a){"use strict";function b(a){var b,c,d,f,g,h=.75*a.length,i=a.length,j=0;"="===a[a.length-1]&&(h--,"="===a[a.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(b=0;b<i;b+=4)c=e[a.charCodeAt(b)],d=e[a.charCodeAt(b+1)],f=e[a.charCodeAt(b+2)],g=e[a.charCodeAt(b+3)],l[j++]=c<<2|d>>4,l[j++]=(15&d)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}for(var c="AGFzbQEAAAABKwdgAABgAX8AYAJ/fwBgA39/fwBgBH9/f38AYAV/f39/fwBgBn9/f39/fwACEAEBYQZtZW1vcnkCAYACgAIDCAcEAwEFBgIABgkBfwFB4NHAAgsHFQUBYQAGAWIAAQFjAAUBZAAEAWUAAwryPQf+EgEKfyAAKAIEIgVBEGohBCACKAAMIAUoAgxzIQYgAigACCAFKAIIcyEHIAIoAAQgBSgCBHMhCCACKAAAIAUoAgBzIQIgACgCACEAAn8gAUUEQCAAQQROBEAgAEEBdiEJA0AgCEEWdkH8B3FBwCJqKAIAIAdBDnZB/AdxQcAaaigCACAGQQZ2QfwHcUHAEmooAgAgAkH/AXFBAnRBwApqKAIAIAQoAgBzc3NzIgBBFnZB/AdxQcAiaigCACAHQRZ2QfwHcUHAImooAgAgBkEOdkH8B3FBwBpqKAIAIAJBBnZB/AdxQcASaigCACAIQf8BcUECdEHACmooAgAgBCgCBHNzc3MiAUEOdkH8B3FBwBpqKAIAIAZBFnZB/AdxQcAiaigCACACQQ52QfwHcUHAGmooAgAgCEEGdkH8B3FBwBJqKAIAIAdB/wFxQQJ0QcAKaigCACAEKAIIc3NzcyIFQQZ2QfwHcUHAEmooAgAgAkEWdkH8B3FBwCJqKAIAIAhBDnZB/AdxQcAaaigCACAHQQZ2QfwHcUHAEmooAgAgBkH/AXFBAnRBwApqKAIAIAQoAgxzc3NzIgJB/wFxQQJ0QcAKaigCACAEKAIcc3NzcyEGIAJBFnZB/AdxQcAiaigCACAAQQ52QfwHcUHAGmooAgAgAUEGdkH8B3FBwBJqKAIAIAVB/wFxQQJ0QcAKaigCACAEKAIYc3NzcyEHIAVBFnZB/AdxQcAiaigCACACQQ52QfwHcUHAGmooAgAgAEEGdkH8B3FBwBJqKAIAIAFB/wFxQQJ0QcAKaigCACAEKAIUc3NzcyEIIAFBFnZB/AdxQcAiaigCACAFQQ52QfwHcUHAGmooAgAgAkEGdkH8B3FBwBJqKAIAIABB/wFxQQJ0QcAKaigCACAEKAIQc3NzcyECIARBIGohBCAJQQJKIQAgCUF/aiEJIAANAAsLQcAqIQUgB0EWdkH8B3FBwCJqKAIAIAZBDnZB/AdxQcAaaigCACACQQZ2QfwHcUHAEmooAgAgCEH/AXFBAnRBwApqKAIAIAQoAgRzc3NzIgAhASAIQRZ2QfwHcUHAImooAgAgB0EOdkH8B3FBwBpqKAIAIAZBBnZB/AdxQcASaigCACACQf8BcUECdEHACmooAgAgBCgCAHNzc3MiCSEKIAJBFnZB/AdxQcAiaigCACAIQQ52QfwHcUHAGmooAgAgB0EGdkH8B3FBwBJqKAIAIAZB/wFxQQJ0QcAKaigCACAEKAIMc3NzcyILIQwgBkEWdkH8B3FBwCJqKAIAIAJBDnZB/AdxQcAaaigCACAIQQZ2QfwHcUHAEmooAgAgB0H/AXFBAnRBwApqKAIAIAQoAghzc3NzIg0MAQsgAEEETgRAIABBAXYhCQNAIAhBFnZB/AdxQcDEAGooAgAgAkEOdkH8B3FBwDxqKAIAIAZBBnZB/AdxQcA0aigCACAHQf8BcUECdEHALGooAgAgBCgCCHNzc3MiAEEWdkH8B3FBwMQAaigCACACQRZ2QfwHcUHAxABqKAIAIAZBDnZB/AdxQcA8aigCACAHQQZ2QfwHcUHANGooAgAgCEH/AXFBAnRBwCxqKAIAIAQoAgRzc3NzIgFBDnZB/AdxQcA8aigCACAGQRZ2QfwHcUHAxABqKAIAIAdBDnZB/AdxQcA8aigCACAIQQZ2QfwHcUHANGooAgAgAkH/AXFBAnRBwCxqKAIAIAQoAgBzc3NzIgVBBnZB/AdxQcA0aigCACAHQRZ2QfwHcUHAxABqKAIAIAhBDnZB/AdxQcA8aigCACACQQZ2QfwHcUHANGooAgAgBkH/AXFBAnRBwCxqKAIAIAQoAgxzc3NzIgJB/wFxQQJ0QcAsaigCACAEKAIcc3NzcyEGIAFBFnZB/AdxQcDEAGooAgAgBUEOdkH8B3FBwDxqKAIAIAJBBnZB/AdxQcA0aigCACAAQf8BcUECdEHALGooAgAgBCgCGHNzc3MhByAFQRZ2QfwHcUHAxABqKAIAIAJBDnZB/AdxQcA8aigCACAAQQZ2QfwHcUHANGooAgAgAUH/AXFBAnRBwCxqKAIAIAQoAhRzc3NzIQggAkEWdkH8B3FBwMQAaigCACAAQQ52QfwHcUHAPGooAgAgAUEGdkH8B3FBwDRqKAIAIAVB/wFxQQJ0QcAsaigCACAEKAIQc3NzcyECIARBIGohBCAJQQJKIQAgCUF/aiEJIAANAAsLQbAIIQUgAkEWdkH8B3FBwMQAaigCACAGQQ52QfwHcUHAPGooAgAgB0EGdkH8B3FBwDRqKAIAIAhB/wFxQQJ0QcAsaigCACAEKAIEc3NzcyILIQEgCEEWdkH8B3FBwMQAaigCACACQQ52QfwHcUHAPGooAgAgBkEGdkH8B3FBwDRqKAIAIAdB/wFxQQJ0QcAsaigCACAEKAIIc3NzcyINIQogB0EWdkH8B3FBwMQAaigCACAIQQ52QfwHcUHAPGooAgAgAkEGdkH8B3FBwDRqKAIAIAZB/wFxQQJ0QcAsaigCACAEKAIMc3NzcyIAIQwgBkEWdkH8B3FBwMQAaigCACAHQQ52QfwHcUHAPGooAgAgCEEGdkH8B3FBwDRqKAIAIAJB/wFxQQJ0QcAsaigCACAEKAIAc3NzcyIJCyECIAQoAhAhBiAEKAIUIQcgBCgCGCEIIAMgBCgCHCIEIAUgDEH/AXFqLQAAczoADCADIAggBSANQf8BcWotAABzOgAIIAMgByAFIAFB/wFxai0AAHM6AAQgAyAGIAUgCUH/AXFqLQAAczoAACADIAQgBSAKQRh2ai0AAEEYdHNBGHY6AA8gAyAIIAUgC0EYdmotAABBGHRzQRh2OgALIAMgByAFIAJBGHZqLQAAQRh0c0EYdjoAByADIAYgBSAAQRh2ai0AAEEYdHNBGHY6AAMgAyAEIAUgAUEQdkH/AXFqLQAAQRB0c0EQdjoADiADIAQgBSACQQh2Qf8BcWotAABBCHRzQQh2OgANIAMgCCAFIAlBEHZB/wFxai0AAEEQdHNBEHY6AAogAyAIIAUgAEEIdkH/AXFqLQAAQQh0c0EIdjoACSADIAcgBSAMQRB2Qf8BcWotAABBEHRzQRB2OgAGIAMgByAFIApBCHZB/wFxai0AAEEIdHNBCHY6AAUgAyAGIAUgDUEQdkH/AXFqLQAAQRB0c0EQdjoAAiADIAYgBSALQQh2Qf8BcWotAABBCHRzQQh2OgABC74WAQZ/AkAgAAJ/QQogAkGAAUYNABogAkGAAkcEQCACQcABRw0CQQwMAQtBDgsiBDYCACAAIABBCGoiAzYCBCACQQV2IgJBASACQQFLGyEGQQAhAgNAIAAgAkECdCIFaiABIAVqLQAAIAEgBUEBcmotAABBCHRyIAEgBUECcmotAABBEHRyIAEgBUEDcmotAABBGHRyNgIIIAJBAWoiAiAGRw0ACwJAAkACQCAEQXZqDgUBAwADAgMLIAAgACgCCCAAKAIcIgFBCHZB/wFxQbAIai0AAHMgAUEQdkH/AXFBsAhqLQAAQQh0cyABQRh2QbAIai0AAEEQdHMgAUH/AXFBsAhqLQAAQRh0c0EBcyICNgIgIAAgAiAAKAIMcyIDNgIkIAAgACgCECIHIANzIgQ2AiggACAAKAIUIARzIgQ2AiwgACAAKAIYIgYgBHMiBTYCMCAAIAEgBXMiATYCNCAAIAIgAUEIdkH/AXFBsAhqLQAAcyABQRB2Qf8BcUGwCGotAABBCHRzIAFBGHZBsAhqLQAAQRB0cyABQf8BcUGwCGotAABBGHRzQQJzIgU2AjggAEFAayAFIAdzIgI2AgAgACADIAVzIgg2AjwgACACIAZzIgc2AkggACACIARzNgJEIAAgASAHcyIDNgJMIAAgBSADQQh2Qf8BcUGwCGotAABzIANBEHZB/wFxQbAIai0AAEEIdHMgA0EYdkGwCGotAABBEHRzIANB/wFxQbAIai0AAEEYdHNBBHMiAzYCUCAAIAMgCHMiBTYCVCAAIAQgBXMiBDYCXCAAIAIgBXM2AlggACABIARzIgE2AmQgACAEIAdzNgJgIAAgAyABQQh2Qf8BcUGwCGotAABzIAFBEHZB/wFxQbAIai0AAEEIdHMgAUEYdkGwCGotAABBEHRzIAFB/wFxQbAIai0AAEEYdHNBCHMiAzYCaCAAIAMgBnMiBjYCeCAAIAIgA3MiAjYCcCAAIAMgBXMiBTYCbCAAIAEgBnMiATYCfCAAIAIgBHMiBzYCdCAAIAMgAUEIdkH/AXFBsAhqLQAAcyABQRB2Qf8BcUGwCGotAABBCHRzIAFBGHZBsAhqLQAAQRB0cyABQf8BcUGwCGotAABBGHRzQRBzIgM2AoABIAAgAyAFcyIENgKEASAAIAIgBHMiAjYCiAEgACACIAdzIgU2AowBIAAgBSAGcyIGNgKQASAAIAEgBnMiATYClAEgACADIAFBCHZB/wFxQbAIai0AAHMgAUEQdkH/AXFBsAhqLQAAQQh0cyABQRh2QbAIai0AAEEQdHMgAUH/AXFBsAhqLQAAQRh0c0EgcyIDNgKYASAAIAMgBHMiBDYCnAEgACACIARzIgI2AqABIAAgAiAFcyIFNgKkASAAIAUgBnMiBjYCqAEgACABIAZzIgE2AqwBIAAgAyABQQh2Qf8BcUGwCGotAABzIAFBEHZB/wFxQbAIai0AAEEIdHMgAUEYdkGwCGotAABBEHRzIAFB/wFxQbAIai0AAEEYdHNBwABzIgM2ArABIAAgAyAEcyIENgK0ASAAIAIgBHMiAjYCuAEgACACIAVzIgU2ArwBIAAgBSAGcyIGNgLAASAAIAEgBnMiATYCxAEgACADIAFBCHZB/wFxQbAIai0AAHMgAUEQdkH/AXFBsAhqLQAAQQh0cyABQRh2QbAIai0AAEEQdHMgAUH/AXFBsAhqLQAAQRh0c0GAAXMiAzYCyAEgACADIARzIgM2AswBIAAgAiADcyICNgLQASAAIAIgBXMiAjYC1AEgACACIAZzIgI2AtgBIAAgASACczYC3AEPCyAAIAAoAgggACgCFCIBQQh2Qf8BcUGwCGotAABzIAFBEHZB/wFxQbAIai0AAEEIdHMgAUEYdkGwCGotAABBEHRzIAFB/wFxQbAIai0AAEEYdHNBAXMiAjYCGCAAIAIgACgCDHMiAzYCHCAAIAAoAhAgA3MiBDYCICAAIAEgBHMiATYCJCAAIAIgAUEIdkH/AXFBsAhqLQAAcyABQRB2Qf8BcUGwCGotAABBCHRzIAFBGHZBsAhqLQAAQRB0cyABQf8BcUGwCGotAABBGHRzQQJzIgI2AiggACACIANzIgM2AiwgACADIARzIgQ2AjAgACABIARzIgE2AjQgACACIAFBCHZB/wFxQbAIai0AAHMgAUEQdkH/AXFBsAhqLQAAQQh0cyABQRh2QbAIai0AAEEQdHMgAUH/AXFBsAhqLQAAQRh0c0EEcyICNgI4IAAgAiADcyIDNgI8IABBQGsgAyAEcyIENgIAIAAgASAEcyIBNgJEIAAgAiABQQh2Qf8BcUGwCGotAABzIAFBEHZB/wFxQbAIai0AAEEIdHMgAUEYdkGwCGotAABBEHRzIAFB/wFxQbAIai0AAEEYdHNBCHMiAjYCSCAAIAIgA3MiAzYCTCAAIAMgBHMiBDYCUCAAIAEgBHMiATYCVCAAIAIgAUEIdkH/AXFBsAhqLQAAcyABQRB2Qf8BcUGwCGotAABBCHRzIAFBGHZBsAhqLQAAQRB0cyABQf8BcUGwCGotAABBGHRzQRBzIgI2AlggACACIANzIgM2AlwgACADIARzIgQ2AmAgACABIARzIgE2AmQgACACIAFBCHZB/wFxQbAIai0AAHMgAUEQdkH/AXFBsAhqLQAAQQh0cyABQRh2QbAIai0AAEEQdHMgAUH/AXFBsAhqLQAAQRh0c0EgcyICNgJoIAAgAiADcyIDNgJsIAAgAyAEcyIENgJwIAAgASAEcyIBNgJ0IAAgAiABQQh2Qf8BcUGwCGotAABzIAFBEHZB/wFxQbAIai0AAEEIdHMgAUEYdkGwCGotAABBEHRzIAFB/wFxQbAIai0AAEEYdHNBwABzIgI2AnggACACIANzIgM2AnwgACADIARzIgQ2AoABIAAgASAEcyIBNgKEASAAIAIgAUEIdkH/AXFBsAhqLQAAcyABQRB2Qf8BcUGwCGotAABBCHRzIAFBGHZBsAhqLQAAQRB0cyABQf8BcUGwCGotAABBGHRzQYABcyICNgKIASAAIAIgA3MiAzYCjAEgACADIARzIgQ2ApABIAAgASAEcyIBNgKUASAAIAIgAUEIdkH/AXFBsAhqLQAAcyABQRB2Qf8BcUGwCGotAABBCHRzIAFBGHZBsAhqLQAAQRB0cyABQf8BcUGwCGotAABBGHRzQRtzIgI2ApgBIAAgAiADcyIDNgKcASAAIAMgBHMiBDYCoAEgACABIARzIgE2AqQBIAAgAiABQQh2Qf8BcUGwCGotAABzIAFBEHZB/wFxQbAIai0AAEEIdHMgAUEYdkGwCGotAABBEHRzIAFB/wFxQbAIai0AAEEYdHNBNnMiAjYCqAEgACACIANzIgI2AqwBIAAgAiAEcyICNgKwASAAIAEgAnM2ArQBDwsgAygCACECQQAhAANAIAMgAygCHCIBQQh2Qf8BcUGwCGotAAAgAEECdEGACGooAgAgAnNzIAFBEHZB/wFxQbAIai0AAEEIdHMgAUEYdkGwCGotAABBEHRzIAFB/wFxQbAIai0AAEEYdHMiAjYCICADIAIgAygCBHMiBDYCJCADIAMoAgggBHMiBDYCKCADIAMoAgwgBHMiBDYCLCADIAMoAhAgBEH/AXFBsAhqLQAAcyAEQQh2Qf8BcUGwCGotAABBCHRzIARBEHZB/wFxQbAIai0AAEEQdHMgBEEYdkGwCGotAABBGHRzIgQ2AjAgAyAEIAMoAhRzIgQ2AjQgAyADKAIYIARzIgQ2AjggAyABIARzNgI8IANBIGohAyAAQQFqIgBBB0cNAAsLC74CAQJ/IABBmAJqIgFBf2pBADoAACAAQQA6AAAgAUF+akEAOgAAIABBADoAASABQX1qQQA6AAAgAEEAOgACIAFBfGpBADoAACAAQQA6AAMgAEEAIABrQQNxIgFqIgBBADYCACAAQZgCIAFrQXxxIgJqIgFBfGpBADYCAAJAIAJBCUkNACAAQQA2AgggAEEANgIEIAFBeGpBADYCACABQXRqQQA2AgAgAkEZSQ0AIABBADYCGCAAQQA2AhQgAEEANgIQIABBADYCDCABQXBqQQA2AgAgAUFsakEANgIAIAFBaGpBADYCACABQWRqQQA2AgAgAiAAQQRxQRhyIgJrIgFBIEkNACAAIAJqIQADQCAAQgA3AxggAEIANwMQIABCADcDCCAAQgA3AwAgAEEgaiEAIAFBYGoiAUEfSw0ACwsLwgYBEn8jAEEQayIFJAAgAUEBTgRAIAJBAWohFiACQQJqIQggAkEDaiEJIAJBBGohCiACQQVqIQsgAkEGaiEMIAJBB2ohDSACQQhqIQ4gAkEJaiEPIAJBCmohECACQQtqIREgAkEMaiESIAJBDWohEyACQQ5qIRQgAkEPaiEVA0AgAEEBIAIgBRAAIAQgBS0AACADLQAAczoAACAEIAUtAAEgAy0AAXM6AAEgBCAFLQACIAMtAAJzOgACIAQgBS0AAyADLQADczoAAyAEIAUtAAQgAy0ABHM6AAQgBCAFLQAFIAMtAAVzOgAFIAQgBS0ABiADLQAGczoABiAEIAUtAAcgAy0AB3M6AAcgBCAFLQAIIAMtAAhzOgAIIAQgBS0ACSADLQAJczoACSAEIAUtAAogAy0ACnM6AAogBCAFLQALIAMtAAtzOgALIAQgBS0ADCADLQAMczoADCAEIAUtAA0gAy0ADXM6AA0gBCAFLQAOIAMtAA5zOgAOIAQgBS0ADyADLQAPczoADyAVIQYCQAJAIAItAA8iB0H/AUcNACAVQQA6AAAgFCEGIBQtAAAiB0H/AUcNACAUQQA6AAAgEyEGIBMtAAAiB0H/AUcNACATQQA6AAAgEiEGIBItAAAiB0H/AUcNACASQQA6AAAgESEGIBEtAAAiB0H/AUcNACARQQA6AAAgECEGIBAtAAAiB0H/AUcNACAQQQA6AAAgDyEGIA8tAAAiB0H/AUcNACAPQQA6AAAgDiEGIA4tAAAiB0H/AUcNACAOQQA6AAAgDSEGIA0tAAAiB0H/AUcNACANQQA6AAAgDCEGIAwtAAAiB0H/AUcNACAMQQA6AAAgCyEGIAstAAAiB0H/AUcNACALQQA6AAAgCiEGIAotAAAiB0H/AUcNACAKQQA6AAAgCSEGIAktAAAiB0H/AUcNACAJQQA6AAAgCCEGIAgtAAAiB0H/AUcNACAIQQA6AAAgFiIGLQAAIgdB/wFHDQAgAkEAOgABIAIhBiACLQAAIgdB/wFHDQAgAkEAOgAADAELIAYgB0EBajoAAAsgBEEQaiEEIANBEGohAyABQRBKIQYgAUFwaiEBIAYNAAsLIAVBEGokAAvCBQECfyMAQRBrIgYkAAJAIAEEQCACQQFIDQEDQCAFIAMtAAAgBC0AAHM6AAAgBSADLQABIAQtAAFzOgABIAUgAy0AAiAELQACczoAAiAFIAMtAAMgBC0AA3M6AAMgBSADLQAEIAQtAARzOgAEIAUgAy0ABSAELQAFczoABSAFIAMtAAYgBC0ABnM6AAYgBSADLQAHIAQtAAdzOgAHIAUgAy0ACCAELQAIczoACCAFIAMtAAkgBC0ACXM6AAkgBSADLQAKIAQtAApzOgAKIAUgAy0ACyAELQALczoACyAFIAMtAAwgBC0ADHM6AAwgBSADLQANIAQtAA1zOgANIAUgAy0ADiAELQAOczoADiAFIAMtAA8gBC0AD3M6AA8gACABIAUgBRAAIAMgBSkACDcACCADIAUpAAA3AAAgBUEQaiEFIARBEGohBCACQRBKIQcgAkFwaiECIAcNAAsMAQsgAkEBSA0AA0AgBiAEKQAANwMAIAYgBCkACDcDCCAAQQAgBCAFEAAgBSADLQAAIAUtAABzOgAAIAUgAy0AASAFLQABczoAASAFIAMtAAIgBS0AAnM6AAIgBSADLQADIAUtAANzOgADIAUgAy0ABCAFLQAEczoABCAFIAMtAAUgBS0ABXM6AAUgBSADLQAGIAUtAAZzOgAGIAUgAy0AByAFLQAHczoAByAFIAMtAAggBS0ACHM6AAggBSADLQAJIAUtAAlzOgAJIAUgAy0ACiAFLQAKczoACiAFIAMtAAsgBS0AC3M6AAsgBSADLQAMIAUtAAxzOgAMIAUgAy0ADSAFLQANczoADSAFIAMtAA4gBS0ADnM6AA4gBSADLQAPIAUtAA9zOgAPIAMgBikDCDcACCADIAYpAwA3AAAgBUEQaiEFIARBEGohBCACQRBKIQEgAkFwaiECIAENAAsLIAZBEGokAAvjBQEEfyMAQbACayIDJAAgA0G4CikDADcDCCADQbAKKQMANwMAAkAgAAJ/QQogAUGAAUYNABogAUGAAkcEQCABQcABRw0CQQwMAQtBDgs2AgAgACAAQQhqNgIEIANBGGogAyABEAEgACADKAIcIAMoAhhBBHRqIgQoAgA2AgggACAEKAIENgIMIAAgBCgCCDYCECAAIAQoAgw2AhQgAEEYaiEBIARBcGohAgJ/IARBEGogACgCACIFQQJIDQAaA0AgASACIgAoAgAiAkEIdkH/AXFBsAhqLQAAQQJ0QcASaigCACACQf8BcUGwCGotAABBAnRBwApqKAIAcyACQRB2Qf8BcUGwCGotAABBAnRBwBpqKAIAcyACQRh2QbAIai0AAEECdEHAImooAgBzNgIAIAEgACgCBCICQQh2Qf8BcUGwCGotAABBAnRBwBJqKAIAIAJB/wFxQbAIai0AAEECdEHACmooAgBzIAJBEHZB/wFxQbAIai0AAEECdEHAGmooAgBzIAJBGHZBsAhqLQAAQQJ0QcAiaigCAHM2AgQgASAAKAIIIgJBCHZB/wFxQbAIai0AAEECdEHAEmooAgAgAkH/AXFBsAhqLQAAQQJ0QcAKaigCAHMgAkEQdkH/AXFBsAhqLQAAQQJ0QcAaaigCAHMgAkEYdkGwCGotAABBAnRBwCJqKAIAczYCCCABIAAoAgwiAkEIdkH/AXFBsAhqLQAAQQJ0QcASaigCACACQf8BcUGwCGotAABBAnRBwApqKAIAcyACQRB2Qf8BcUGwCGotAABBAnRBwBpqKAIAcyACQRh2QbAIai0AAEECdEHAImooAgBzNgIMIABBcGohAiABQRBqIQEgBUECSiEEIAVBf2ohBSAEDQALIABBEGoLIQAgASACKAIANgIAIAEgAEFkaigCADYCBCABIABBaGooAgA2AgggASAAQWxqKAIANgIMIANBGGoQAgsgA0GwAmokAAsDAAELC8NEAgBBgAgLJQEAAAACAAAABAAAAAgAAAAQAAAAIAAAAEAAAACAAAAAGwAAADYAQbAIC5BEY3x3e/Jrb8UwAWcr/terdsqCyX36WUfwrdSir5ykcsC3/ZMmNj/3zDSl5fFx2DEVBMcjwxiWBZoHEoDi6yeydQmDLBobblqgUjvWsynjL4RT0QDtIPyxW2rLvjlKTFjP0O+q+0NNM4VF+QJ/UDyfqFGjQI+SnTj1vLbaIRD/89LNDBPsX5dEF8Snfj1kXRlzYIFP3CIqkIhG7rgU3l4L2+AyOgpJBiRcwtOsYpGV5HnnyDdtjdVOqWxW9Opleq4IunglLhymtMbo3XQfS72LinA+tWZIA/YOYTVXuYbBHZ7h+JgRadmOlJseh+nOVSjfjKGJDb/mQmhBmS0PsFS7FlR4NVNMalIyMU5STGxxZVZR9KdQfkFlUxoXpMM6J16WO6tryx+dRfGs+lirS+MDkyAw+lWtdm32iMx2kfUCTCVP5df8xSrL1yY1RIC1YqOP3rFaSSW6G2dF6g6YXf7A4cMvdQKBTPASjUaXo2vT+cYDj1/nFZKclb9teuuVUlna1L6DLVh0IdNJ4GkpjsnIRHXCiWr0jnl4mVg+aye5cd2+4U+28IitF8kgrGZ9zjq0Y99KGOUaMYKXUTNgYlN/RbFkd+C7a66E/oGgHPkIK5RwSGhYj0X9GZTebIdSe/i3q3PTI3JLAuLjH49XZlWrKrLrKAcvtcIDhsV7mtM3CKUwKIfyI7+lsgIDarrtFoJcis8cK6d5tJLzB/LwTmnioWXa9M0GBb7V0TRiH8Sm/oo0LlOdovNVoAWK4TKk9ut1C4PsOUBg76pecZ8GvW4QUT4hivmW3QY93T4Frk3mvUaRVI21ccRdBQQG1G9gUBX/GZj7JNa96ZeJQEPMZ9med7DoQr0HiYuI5xlbOHnI7tuhfApHfEIP6fiEHskAAAAACYCGgzIr7UgeEXCsbFpyTv0O//sPhThWPa7VHjYtOScKD9lkaFymIZtbVNEkNi46DApnsZNX5w+07pbSG5uRnoDAxU9h3CCiWndLaRwSGhbik7oKwKAq5Twi4EMSGxcdDgkNC/KLx60ttqi5FB6pyFfxGYWvdQdM7pndu6N/YP33ASafXHL1vERmO8Vb+340i0Mpdssjxty27fxouOTxY9cx3MpCY4UQE5ciQITGESCFSiR90rs9+K75MhHHKaFtHZ4vS9yyMPMNhlLsd8Hj0CuzFmypcLmZEZRI+kfpZCKo/IzEoPA/GlZ9LNgiM5Dvh0lOx9k40cGMyqL+mNQLNqb1gc+let4o2reOJj+tv6QsOp3kUHiSDWpfzJtUfkZi9o0TwpDYuOguOfdegsOv9Z9dgL5p0JN8b9Utqc8lErPIrJk7EBh9p+icY27bO7t7zSZ4CW5ZGPTsmrcBg0+aqOaVbmWq/+Z+IbzPCO8V6Oa655vZSm82zuqfCdQpsHzWMaSyryo/IzHGpZQwNaJmwHROvDf8gsqm4JDQsDOn2BXxBJhKQeza93/NUA4XkfYvdk3WjUPvsE3Mqk1U5JYE357RteNMaogbwSwfuEZlUX+dXuoEAYw1XfqHdHP7C0Eus2cdWpLb0lLpEFYzbdZHE5rXYYw3oQx6WfgUjusTPInOqSfut2HJNeEc5e16R7E8nNLfWVXycz8YFM55c8c3v1P3zepf/apb3z1vFHhE24bKr/OBuWjEPjgkNCzCo0BfFh3DcrziJQwoPEmL/w2VQTmoAXEIDLPe2LTknGRWwZB7y4Rh1TK2cEhsXHTQuFdCUFH0p1N+QWXDGhekljonXss7q2vxH51Fq6z6WJNL4wNVIDD69q12bZGIzHYl9QJM/E/l19fFKsuAJjVEj7Vio0nesVpnJbobmEXqDuFd/sACwy91EoFM8KONRpfGa9P55wOPX5UVkpzrv2162pVSWS3UvoPTWHQhKUngaUSOychqdcKJePSOeWuZWD7dJ7lxtr7hTxfwiK1mySCstH3OOhhj30qC5RoxYJdRM0ViU3/gsWR3hLtrrhz+gaCU+QgrWHBIaBmPRf2HlN5st1J7+COrc9PicksCV+MfjypmVasHsusoAy+1wpqGxXul0zcI8jAoh7Ijv6W6AgNqXO0WgiuKzxySp3m08PMH8qFOaeLNZdr01QYFvh/RNGKKxKb+nTQuU6Ci81UyBYrhdaT26zkLg+yqQGDvBl5xn1G9bhD5PiGKPZbdBq7dPgVGTea9tZFUjQVxxF1vBAbU/2BQFSQZmPuX1r3pzIlAQ3dn2Z69sOhCiAeJizjnGVvbecjuR6F8Cul8Qg/J+IQeAAAAAIMJgIZIMivtrB4RcE5sWnL7/Q7/Vg+FOB49rtUnNi05ZAoP2SFoXKbRm1tUOiQ2LrEMCmcPk1fn0rTulp4bm5FPgMDFomHcIGlad0sWHBIaCuKTuuXAoCpDPCLgHRIbFwsOCQ2t8ovHuS22qMgUHqmFV/EZTK91B7vumd39o39gn/cBJrxccvXFRGY7NFv7fnaLQyncyyPGaLbt/GO45PHK1zHcEEJjhUATlyIghMYRfYVKJPjSuz0RrvkybccpoUsdni/z3LIw7A2GUtB3weNsK7MWmalwufoRlEgiR+lkxKj8jBqg8D/YVn0s7yIzkMeHSU7B2TjR/ozKojaY1AvPpvWBKKV63ibat46kP62/5Cw6nQ1QeJKbal/MYlR+RsL2jRPokNi4Xi459/WCw6++n12AfGnQk6lv1S2zzyUSO8ismacQGH1u6Jxje9s7uwnNJnj0blkYAeyat6iDT5pl5pVufqr/5gghvM/m7xXo2brnm85KbzbU6p8J1imwfK8xpLIxKj8jMMallMA1omY3dE68pvyCyrDgkNAVM6fYSvEEmPdB7NoOf81QLxeR9o12TdZNQ++wVMyqTd/klgTjntG1G0xqiLjBLB9/RmVRBJ1e6l0BjDVz+od0LvsLQVqzZx1SktvSM+kQVhNt1keMmtdhejehDI5Z+BSJ6xM87s6pJzW3Ycnt4RzlPHpHsVmc0t8/VfJzeRgUzr9zxzfqU/fNW1/9qhTfPW+GeETbgcqv8z65aMQsOCQ0X8KjQHIWHcMMvOIliyg8SUH/DZVxOagB3ggMs5zYtOSQZFbBYXvLhHDVMrZ0SGxcQtC4V6dQUfRlU35BpMMaF16WOidryzurRfEfnVirrPoDk0vj+lUgMG32rXZ2kYjMTCX1Atf8T+XL18UqRIAmNaOPtWJaSd6xG2clug6YRerA4V3+dQLDL/ASgUyXo41G+cZr01/nA4+clRWSeuu/bVnalVKDLdS+IdNYdGkpSeDIRI7JiWp1wnl49I4+a5lYcd0nuU+2vuGtF/CIrGbJIDq0fc5KGGPfMYLlGjNgl1F/RWJTd+CxZK6Eu2ugHP6BK5T5CGhYcEj9GY9FbIeU3vi3UnvTI6tzAuJyS49X4x+rKmZVKAey68IDL7V7mobFCKXTN4fyMCilsiO/aroCA4Jc7RYcK4rPtJKnefLw8wfioU5p9M1l2r7VBgViH9E0/orEplOdNC5VoKLz4TIFiut1pPbsOQuD76pAYJ8GXnEQUb1uivk+IQY9lt0Frt0+vUZN5o21kVRdBXHE1G8EBhX/YFD7JBmY6ZfWvUPMiUCed2fZQr2w6IuIB4lbOOcZ7tt5yApHoXwP6XxCHsn4hAAAAACGgwmA7UgyK3CsHhFyTmxa//v9DjhWD4XVHj2uOSc2LdlkCg+mIWhcVNGbWy46JDZnsQwK5w+TV5bStO6RnhubxU+AwCCiYdxLaVp3GhYcEroK4pMq5cCg4EM8IhcdEhsNCw4Jx63yi6i5LbapyBQeGYVX8QdMr3Xdu+6ZYP2jfyaf9wH1vFxyO8VEZn40W/spdotDxtzLI/xotu3xY7jk3MrXMYUQQmMiQBOXESCExiR9hUo9+NK7MhGu+aFtxykvSx2eMPPcslLsDYbj0HfBFmwrs7mZqXBI+hGUZCJH6YzEqPw/GqDwLNhWfZDvIjNOx4dJ0cHZOKL+jMoLNpjUgc+m9d4opXqOJtq3v6Q/rZ3kLDqSDVB4zJtqX0ZiVH4TwvaNuOiQ2PdeLjmv9YLDgL6fXZN8adAtqW/VErPPJZk7yKx9pxAYY27onLt72zt4Cc0mGPRuWbcB7JqaqINPbmXmleZ+qv/PCCG86ObvFZvZuuc2zkpvCdTqn3zWKbCyrzGkIzEqP5QwxqVmwDWivDd0Tsqm/ILQsOCQ2BUzp5hK8QTa90HsUA5/zfYvF5HWjXZNsE1D701UzKoE3+SWteOe0YgbTGofuMEsUX9GZeoEnV41XQGMdHP6h0Eu+wsdWrNn0lKS21Yz6RBHE23WYYya1wx6N6EUjln4PInrEyfuzqnJNbdh5e3hHLE8ekffWZzScz9V8s55GBQ3v3PHzepT96pbX/1vFN8924Z4RPOByq/EPrloNCw4JEBfwqPDchYdJQy84kmLKDyVQf8NAXE5qLPeCAzknNi0wZBkVoRhe8u2cNUyXHRIbFdC0Lj0p1BRQWVTfhekwxonXpY6q2vLO51F8R/6WKus4wOTSzD6VSB2bfatzHaRiAJMJfXl1/xPKsvXxTVEgCZio4+1sVpJ3robZyXqDphF/sDhXS91AsNM8BKBRpejjdP5xmuPX+cDkpyVFW16679SWdqVvoMt1HQh01jgaSlJychEjsKJanWOeXj0WD5rmblx3SfhT7a+iK0X8CCsZsnOOrR930oYYxoxguVRM2CXU39FYmR34LFrroS7gaAc/ggrlPlIaFhwRf0Zj95sh5R7+LdSc9Mjq0sC4nIfj1fjVasqZusoB7K1wgMvxXuahjcIpdMoh/Iwv6WyIwNqugIWglztzxwrinm0kqcH8vDzaeKhTtr0zWUFvtUGNGIf0ab+isQuU50081WgoorhMgX263Wkg+w5C2DvqkBxnwZebhBRvSGK+T7dBj2WPgWu3ea9Rk1UjbWRxF0FcQbUbwRQFf9gmPskGb3pl9ZAQ8yJ2Z53Z+hCvbCJi4gHGVs458ju23l8CkehQg/pfIQeyfgAAAAAgIaDCSvtSDIRcKweWnJObA7/+/2FOFYPrtUePS05JzYP2WQKXKYhaFtU0Zs2LjokCmexDFfnD5PultK0m5GeG8DFT4DcIKJhd0tpWhIaFhyTugrioCrlwCLgQzwbFx0SCQ0LDovHrfK2qLktHqnIFPEZhVd1B0yvmd277n9g/aMBJp/3cvW8XGY7xUT7fjRbQyl2iyPG3Mvt/Gi25PFjuDHcytdjhRBClyJAE8YRIIRKJH2Fuz340vkyEa4poW3Hni9LHbIw89yGUuwNwePQd7MWbCtwuZmplEj6EelkIkf8jMSo8D8aoH0s2FYzkO8iSU7HhzjRwdnKov6M1As2mPWBz6Z63iilt44m2q2/pD86neQseJINUF/Mm2p+RmJUjRPC9ti46JA5914uw6/1gl2Avp/Qk3xp1S2pbyUSs8+smTvIGH2nEJxjbug7u3vbJngJzVkY9G6atwHsT5qog5VuZeb/5n6qvM8IIRXo5u/nm9m6bzbOSp8J1OqwfNYppLKvMT8jMSqllDDGombANU68N3SCyqb8kNCw4KfYFTMEmErx7Nr3Qc1QDn+R9i8XTdaNdu+wTUOqTVTMlgTf5NG1455qiBtMLB+4wWVRf0Ze6gSdjDVdAYd0c/oLQS77Zx1as9vSUpIQVjPp1kcTbddhjJqhDHo3+BSOWRM8ieupJ+7OYck1txzl7eFHsTx60t9ZnPJzP1UUznkYxze/c/fN6lP9qltfPW8U30Tbhniv84HKaMQ+uSQ0LDijQF/CHcNyFuIlDLw8SYsoDZVB/6gBcTkMs94ItOSc2FbBkGTLhGF7MrZw1WxcdEi4V0LQUglq1TA2pTi/QKOegfPX+3zjOYKbL/+HNI5DRMTe6ctUe5QypsIjPe5MlQtC+sNOCC6hZijZJLJ2W6JJbYvRJXL49mSGaJgW1KRczF1ltpJscEhQ/e252l4VRlenjZ2EkNirAIy80wr35FgFuLNFBtAsHo/KPw8Cwa+9AwETims6kRFBT2fc6pfyz87wtOZzlqx0IuetNYXi+TfoHHXfbkfxGnEdKcWJb7diDqoYvhv8Vj5LxtJ5IJrbwP54zVr0H92oM4gHxzGxEhBZJ4DsX2BRf6kZtUoNLeV6n5PJnO+g4DtNrir1sMjruzyDU5lhFysEfrp31ibhaRRjVSEMfcZjY6X4fHyE7nd3mfZ7e43/8vIN1mtrvd5vb7GRxcVUYDAwUAIBAQPOZ2epVisrfef+/hm119diTaur5ux2dpqPyspFH4KCnYnJyUD6fX2H7/r6FbJZWeuOR0fJ+/DwC0Gtreyz1NRnX6Ki/UWvr+ojnJy/U6Sk9+RycpabwMBbdbe3wuH9/Rw9k5OuTCYmamw2Nlp+Pz9B9ff3AoPMzE9oNDRcUaWl9NHl5TT58fEI4nFxk6vY2HNiMTFTKhUVPwgEBAyVx8dSRiMjZZ3Dw14wGBgoN5aWoQoFBQ8vmpq1DgcHCSQSEjYbgICb3+LiPc3r6yZOJydpf7Kyzep1dZ8SCQkbHYODnlgsLHQ0GhouNhsbLdxubrK0WlruW6Cg+6RSUvZ2OztNt9bWYX2zs85SKSl73ePjPl4vL3EThISXplNT9bnR0WgAAAAAwe3tLEAgIGDj/PwfebGxyLZbW+3Uamq+jcvLRme+vtlyOTlLlEpK3phMTNSwWFjohc/PSrvQ0GvF7+8qT6qq5e37+xaGQ0PFmk1N12YzM1URhYWUikVFz+n5+RAEAgIG/n9/gaBQUPB4PDxEJZ+fukuoqOOiUVHzXaOj/oBAQMAFj4+KP5KSrSGdnbxwODhI8fX1BGO8vN93trbBr9radUIhIWMgEBAw5f//Gv3z8w6/0tJtgc3NTBgMDBQmExM1w+zsL75fX+E1l5eiiEREzC4XFzmTxMRXVaen8vx+foJ6PT1HyGRkrLpdXecyGRkr5nNzlcBgYKAZgYGYnk9P0aPc3H9EIiJmVCoqfjuQkKsLiIiDjEZGysfu7ilruLjTKBQUPKfe3nm8Xl7iFgsLHa3b23bb4OA7ZDIyVnQ6Ok4UCgoekklJ2wwGBgpIJCRsuFxc5J/Cwl2909NuQ6ys78RiYqY5kZGoMZWVpNPk5DfyeXmL1efnMovIyENuNzdZ2m1ttwGNjYyx1dVknE5O0kmpqeDYbGy0rFZW+vP09AfP6uolymVlr/R6eo5Hrq7pEAgIGG+6utXweHiISiUlb1wuLnI4HBwkV6am8XO0tMeXxsZRy+joI6Hd3XzodHScPh8fIZZLS91hvb3cDYuLhg+KioXgcHCQfD4+QnG1tcTMZmaqkEhI2AYDAwX39vYBHA4OEsJhYaNqNTVfrldX+Wm5udAXhoaRmcHBWDodHScnnp652eHhOOv4+BMrmJizIhERM9Jpabup2dlwB46OiTOUlKctm5u2PB4eIhWHh5LJ6ekgh87OSapVVf9QKCh4pd/fegOMjI9ZoaH4CYmJgBoNDRdlv7/a1+bmMYRCQsbQaGi4gkFBwymZmbBaLS13Hg8PEXuwsMuoVFT8bbu71iwWFjqlxmNjhPh8fJnud3eN9nt7Df/y8r3Wa2ux3m9vVJHFxVBgMDADAgEBqc5nZ31WKysZ5/7+YrXX1+ZNq6ua7HZ2RY/Kyp0fgoJAicnJh/p9fRXv+vrrsllZyY5HRwv78PDsQa2tZ7PU1P1foqLqRa+vvyOcnPdTpKSW5HJyW5vAwMJ1t7cc4f39rj2Tk2pMJiZabDY2QX4/PwL19/dPg8zMXGg0NPRRpaU00eXlCPnx8ZPicXFzq9jYU2IxMT8qFRUMCAQEUpXHx2VGIyNencPDKDAYGKE3lpYPCgUFtS+amgkOBwc2JBISmxuAgD3f4uImzevraU4nJ81/srKf6nV1GxIJCZ4dg4N0WCwsLjQaGi02Gxuy3G5u7rRaWvtboKD2pFJSTXY7O2G31tbOfbOze1IpKT7d4+NxXi8vlxOEhPWmU1NoudHRAAAAACzB7e1gQCAgH+P8/Mh5sbHttltbvtRqakaNy8vZZ76+S3I5Od6USkrUmExM6LBYWEqFz89ru9DQKsXv7+VPqqoW7fv7xYZDQ9eaTU1VZjMzlBGFhc+KRUUQ6fn5BgQCAoH+f3/woFBQRHg8PLoln5/jS6io86JRUf5do6PAgEBAigWPj60/kpK8IZ2dSHA4OATx9fXfY7y8wXe2tnWv2tpjQiEhMCAQEBrl//8O/fPzbb/S0kyBzc0UGAwMNSYTEy/D7Ozhvl9fojWXl8yIREQ5LhcXV5PExPJVp6eC/H5+R3o9PazIZGTnul1dKzIZGZXmc3OgwGBgmBmBgdGeT09/o9zcZkQiIn5UKiqrO5CQgwuIiMqMRkYpx+7u02u4uDwoFBR5p97e4rxeXh0WCwt2rdvbO9vg4FZkMjJOdDo6HhQKCtuSSUkKDAYGbEgkJOS4XFxdn8LCbr3T0+9DrKymxGJiqDmRkaQxlZU30+Tki/J5eTLV5+dDi8jIWW43N7fabW2MAY2NZLHV1dKcTk7gSamptNhsbPqsVlYH8/T0Jc/q6q/KZWWO9Hp66UeurhgQCAjVb7q6iPB4eG9KJSVyXC4uJDgcHPFXpqbHc7S0UZfGxiPL6Oh8od3dnOh0dCE+Hx/dlktL3GG9vYYNi4uFD4qKkOBwcEJ8Pj7EcbW1qsxmZtiQSEgFBgMDAff29hIcDg6jwmFhX2o1NfmuV1fQabm5kReGhliZwcEnOh0duSeenjjZ4eET6/j4syuYmDMiERG70mlpcKnZ2YkHjo6nM5SUti2bmyI8Hh6SFYeHIMnp6UmHzs7/qlVVeFAoKHql39+PA4yM+FmhoYAJiYkXGg0N2mW/vzHX5ubGhEJCuNBoaMOCQUGwKZmZd1otLREeDw/Le7Cw/KhUVNZtu7s6LBYWY6XGY3yE+Hx3me53e432e/IN//JrvdZrb7Heb8VUkcUwUGAwAQMCAWepzmcrfVYr/hnn/tditder5k2rdprsdspFj8qCnR+CyUCJyX2H+n36Fe/6WeuyWUfJjkfwC/vwrexBrdRns9Si/V+ir+pFr5y/I5yk91OkcpbkcsBbm8C3wnW3/Rzh/ZOuPZMmakwmNlpsNj9Bfj/3AvX3zE+DzDRcaDSl9FGl5TTR5fEI+fFxk+Jx2HOr2DFTYjEVPyoVBAwIBMdSlccjZUYjw16dwxgoMBiWoTeWBQ8KBZq1L5oHCQ4HEjYkEoCbG4DiPd/i6ybN6ydpTieyzX+ydZ/qdQkbEgmDnh2DLHRYLBouNBobLTYbbrLcblrutFqg+1ugUvakUjtNdjvWYbfWs859syl7UinjPt3jL3FeL4SXE4RT9aZT0Wi50QAAAADtLMHtIGBAIPwf4/yxyHmxW+22W2q+1GrLRo3LvtlnvjlLcjlK3pRKTNSYTFjosFjPSoXP0Gu70O8qxe+q5U+q+xbt+0PFhkNN15pNM1VmM4WUEYVFz4pF+RDp+QIGBAJ/gf5/UPCgUDxEeDyfuiWfqONLqFHzolGj/l2jQMCAQI+KBY+SrT+SnbwhnThIcDj1BPH1vN9jvLbBd7bada/aIWNCIRAwIBD/GuX/8w7989Jtv9LNTIHNDBQYDBM1JhPsL8PsX+G+X5eiNZdEzIhEFzkuF8RXk8Sn8lWnfoL8fj1Hej1krMhkXee6XRkrMhlzleZzYKDAYIGYGYFP0Z5P3H+j3CJmRCIqflQqkKs7kIiDC4hGyoxG7inH7rjTa7gUPCgU3nmn3l7ivF4LHRYL23at2+A72+AyVmQyOk50OgoeFApJ25JJBgoMBiRsSCRc5Lhcwl2fwtNuvdOs70OsYqbEYpGoOZGVpDGV5DfT5HmL8nnnMtXnyEOLyDdZbjdtt9ptjYwBjdVksdVO0pxOqeBJqWy02GxW+qxW9Afz9Oolz+plr8pleo70eq7pR64IGBAIutVvuniI8Hglb0olLnJcLhwkOBym8VemtMdztMZRl8boI8vo3Xyh3XSc6HQfIT4fS92WS73cYb2Lhg2LioUPinCQ4HA+Qnw+tcRxtWaqzGZI2JBIAwUGA/YB9/YOEhwOYaPCYTVfajVX+a5XudBpuYaRF4bBWJnBHSc6HZ65J57hONnh+BPr+JizK5gRMyIRabvSadlwqdmOiQeOlKczlJu2LZseIjweh5IVh+kgyenOSYfOVf+qVSh4UCjfeqXfjI8DjKH4WaGJgAmJDRcaDb/aZb/mMdfmQsaEQmi40GhBw4JBmbApmS13Wi0PER4PsMt7sFT8qFS71m27FjosFmNjpcZ8fIT4d3eZ7nt7jfby8g3/a2u91m9vsd7FxVSRMDBQYAEBAwJnZ6nOKyt9Vv7+GefX12K1q6vmTXZ2muzKykWPgoKdH8nJQIl9fYf6+voV71lZ67JHR8mO8PAL+62t7EHU1GezoqL9X6+v6kWcnL8jpKT3U3JyluTAwFubt7fCdf39HOGTk649JiZqTDY2Wmw/P0F+9/cC9czMT4M0NFxopaX0UeXlNNHx8Qj5cXGT4tjYc6sxMVNiFRU/KgQEDAjHx1KVIyNlRsPDXp0YGCgwlpahNwUFDwqamrUvBwcJDhISNiSAgJsb4uI93+vrJs0nJ2lOsrLNf3V1n+oJCRsSg4OeHSwsdFgaGi40GxstNm5ustxaWu60oKD7W1JS9qQ7O0121tZht7Ozzn0pKXtS4+M+3S8vcV6EhJcTU1P1ptHRaLkAAAAA7e0swSAgYED8/B/jsbHIeVtb7bZqar7Uy8tGjb6+2Wc5OUtySkrelExM1JhYWOiwz89KhdDQa7vv7yrFqqrlT/v7Fu1DQ8WGTU3XmjMzVWaFhZQRRUXPivn5EOkCAgYEf3+B/lBQ8KA8PER4n5+6Jaio40tRUfOio6P+XUBAwICPj4oFkpKtP52dvCE4OEhw9fUE8by832O2tsF32tp1ryEhY0IQEDAg//8a5fPzDv3S0m2/zc1MgQwMFBgTEzUm7Owvw19f4b6Xl6I1RETMiBcXOS7ExFeTp6fyVX5+gvw9PUd6ZGSsyF1d57oZGSsyc3OV5mBgoMCBgZgZT0/Rntzcf6MiImZEKip+VJCQqzuIiIMLRkbKjO7uKce4uNNrFBQ8KN7eeadeXuK8CwsdFtvbdq3g4DvbMjJWZDo6TnQKCh4USUnbkgYGCgwkJGxIXFzkuMLCXZ/T0269rKzvQ2JipsSRkag5lZWkMeTkN9N5eYvy5+cy1cjIQ4s3N1lubW232o2NjAHV1WSxTk7SnKmp4ElsbLTYVlb6rPT0B/Pq6iXPZWWvynp6jvSurulHCAgYELq61W94eIjwJSVvSi4uclwcHCQ4pqbxV7S0x3PGxlGX6Ogjy93dfKF0dJzoHx8hPktL3Za9vdxhi4uGDYqKhQ9wcJDgPj5CfLW1xHFmZqrMSEjYkAMDBQb29gH3Dg4SHGFho8I1NV9qV1f5rrm50GmGhpEXwcFYmR0dJzqenrkn4eE42fj4E+uYmLMrEREzImlpu9LZ2XCpjo6JB5SUpzObm7YtHh4iPIeHkhXp6SDJzs5Jh1VV/6ooKHhQ3996pYyMjwOhofhZiYmACQ0NFxq/v9pl5uYx10JCxoRoaLjQQUHDgpmZsCktLXdaDw8RHrCwy3tUVPyou7vWbRYWOiw=",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),f=0;f<d.length;f++)e[d.charCodeAt(f)]=f;var g=WebAssembly,h=(g.Module,g.instantiate),i=g.Memory,j=g.Table;a.exports=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{global:{},env:{memory:new i({initial:10,limit:100}),table:new j({initial:0,element:"anyfunc"})}};return h(b(c),a)}},function(a,b,c){a.exports=c(2)},function(a,b,c){"use strict";function d(a){return parseInt(a)===a}function e(a){if(!d(a.length))return!1;for(var b=0;b<a.length;b++)if(!d(a[b])||0>a[b]||255<a[b])return!1;return!0}function f(a,b){if(a.buffer&&ArrayBuffer.isView(a))return b&&(a=a.slice?a.slice():Array.prototype.slice.call(a)),a;if(Array.isArray(a)){if(!e(a))throw new Error("Array contains invalid value: "+a);return new Uint8Array(a)}if(d(a.length)&&e(a))return new Uint8Array(a);throw new Error("unsupported array-like object")}function g(){var a=new WebAssembly.Memory({initial:256,maximum:256});return{a:{memory:a,STACKTOP:0}}}function h(){var a=16384;return function(b){return a+=b,a-b}}Object.defineProperty(b,"__esModule",{value:!0});var i=function(a,b){return function(){var c=h(),d=g();return a(d).then(function(a){function e(a){var b=f(a);h.set(b,l)}var g=a.instance,h=new Uint8Array(d.a.memory.buffer),i=c(276),j=c(276),k=c(16),l=c(0),m=void 0;return{init:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CBC";h.set(a,k),g.exports.c(j,b),m=c},encrypt:function(a){return e(a),"CBC"===m?g.exports.d(i,1,a.length,k,l,l):g.exports.e(i,a.length,k,l,l),h.subarray(l,l+a.length).slice()},decrypt:function(a){return e(a),"CBC"===m?g.exports.d(j,0,a.length,k,l,l):g.exports.e(i,a.length,k,l,l),h.subarray(l,l+a.length).slice()}}})}},j=c(0),k=c.n(j),l=i(k.a,128),m=i(k.a,192),n=i(k.a,256);c.d(b,"aes128",function(){return l}),c.d(b,"aes192",function(){return m}),c.d(b,"aes256",function(){return n})}])}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.React={}))}(this,function(a){function b(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(a,b,c){this.props=a,this.context=b,this.refs=S,this.updater=c||R}function d(){}function e(a,b,c){this.props=a,this.context=b,this.refs=S,this.updater=c||R}function f(a,b,c){var d,e={},f=null,g=null;if(null!=b)for(d in void 0!==b.ref&&(g=b.ref),void 0!==b.key&&(f=""+b.key),b)V.call(b,d)&&!W.hasOwnProperty(d)&&(e[d]=b[d]);var h=arguments.length-2;if(1===h)e.children=c;else if(1<h){for(var i=Array(h),j=0;j<h;j++)i[j]=arguments[j+2];e.children=i}if(a&&a.defaultProps)for(d in h=a.defaultProps)void 0===e[d]&&(e[d]=h[d]);return{$$typeof:B,type:a,key:f,ref:g,props:e,_owner:U.current}}function g(a,b){return{$$typeof:B,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function h(a){return"object"==typeof a&&null!==a&&a.$$typeof===B}function i(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}function j(a,b,c,d){if(Y.length){var e=Y.pop();return e.result=a,e.keyPrefix=b,e.func=c,e.context=d,e.count=0,e}return{result:a,keyPrefix:b,func:c,context:d,count:0}}function k(a){a.result=null,a.keyPrefix=null,a.func=null,a.context=null,a.count=0,10>Y.length&&Y.push(a)}function l(a,c,d,e){var f=typeof a;"undefined"!==f&&"boolean"!==f||(a=null);var g=!1;if(null===a)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(a.$$typeof){case B:case C:g=!0}}if(g)return d(e,a,""===c?"."+n(a,0):c),1;if(g=0,c=""===c?".":c+":",Array.isArray(a))for(var h=0;h<a.length;h++){f=a[h];var i=c+n(f,h);g+=l(f,i,d,e)}else if(null===a||"object"!=typeof a?i=null:(i=M&&a[M]||a["@@iterator"],i="function"==typeof i?i:null),"function"==typeof i)for(a=i.call(a),h=0;!(f=a.next()).done;)f=f.value,i=c+n(f,h++),g+=l(f,i,d,e);else if("object"===f)throw d=""+a,Error(b(31,"[object Object]"===d?"object with keys {"+Object.keys(a).join(", ")+"}":d,""));return g}function m(a,b,c){return null==a?0:l(a,"",b,c)}function n(a,b){return"object"==typeof a&&null!==a&&null!=a.key?i(a.key):b.toString(36)}function o(a,b,c){a.func.call(a.context,b,a.count++)}function p(a,b,c){var d=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++),Array.isArray(a)?q(a,d,c,function(a){return a}):null!=a&&(h(a)&&(a=g(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(X,"$&/")+"/")+c)),d.push(a))}function q(a,b,c,d,e){var f="";null!=c&&(f=(""+c).replace(X,"$&/")+"/"),b=j(b,f,d,e),m(a,p,b),k(b)}function r(){var a=Z.current;if(null===a)throw Error(b(321));return a}function s(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(!(void 0!==e&&0<v(e,b)))break a;a[d]=b,a[c]=e,c=d}}function t(a){return a=a[0],void 0===a?null:a}function u(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var f=2*(d+1)-1,g=a[f],h=f+1,i=a[h];if(void 0!==g&&0>v(g,c))void 0!==i&&0>v(i,g)?(a[d]=i,a[h]=c,d=h):(a[d]=g,a[f]=c,d=f);else{if(!(void 0!==i&&0>v(i,c)))break a;a[d]=i,a[h]=c,d=h}}}return b}return null}function v(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}function w(a){for(var b=t(ua);null!==b;){if(null===b.callback)u(ua);else{if(!(b.startTime<=a))break;u(ua),b.sortIndex=b.expirationTime,s(ta,b)}b=t(ua)}}function x(a){if(Aa=!1,w(a),!za)if(null!==t(ta))za=!0,da(y);else{var b=t(ua);null!==b&&ea(x,b.startTime-a)}}function y(a,b){za=!1,Aa&&(Aa=!1,fa()),ya=!0;var c=xa;try{for(w(b),wa=t(ta);null!==wa&&(!(wa.expirationTime>b)||a&&!ga());){var d=wa.callback;if(null!==d){wa.callback=null,xa=wa.priorityLevel;var e=d(wa.expirationTime<=b);b=ca(),"function"==typeof e?wa.callback=e:wa===t(ta)&&u(ta),w(b)}else u(ta);wa=t(ta)}if(null!==wa)var f=!0;else{var g=t(ua);null!==g&&ea(x,g.startTime-b),f=!1}return f}finally{wa=null,xa=c,ya=!1}}function z(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var A="function"==typeof Symbol&&Symbol.for,B=A?Symbol.for("react.element"):60103,C=A?Symbol.for("react.portal"):60106,D=A?Symbol.for("react.fragment"):60107,E=A?Symbol.for("react.strict_mode"):60108,F=A?Symbol.for("react.profiler"):60114,G=A?Symbol.for("react.provider"):60109,H=A?Symbol.for("react.context"):60110,I=A?Symbol.for("react.forward_ref"):60112,J=A?Symbol.for("react.suspense"):60113,K=A?Symbol.for("react.memo"):60115,L=A?Symbol.for("react.lazy"):60116,M="function"==typeof Symbol&&Symbol.iterator,N=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,Q=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},c)).join("")}catch(a){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");for(var c,d=Object(a),e=1;e<arguments.length;e++){var f=Object(arguments[e]);for(var g in f)O.call(f,g)&&(d[g]=f[g]);if(N){c=N(f);for(var h=0;h<c.length;h++)P.call(f,c[h])&&(d[c[h]]=f[c[h]])}}return d},R={isMounted:function(a){return!1},enqueueForceUpdate:function(a,b,c){},enqueueReplaceState:function(a,b,c,d){},enqueueSetState:function(a,b,c,d){}},S={};c.prototype.isReactComponent={},c.prototype.setState=function(a,c){if("object"!=typeof a&&"function"!=typeof a&&null!=a)throw Error(b(85));this.updater.enqueueSetState(this,a,c,"setState")},c.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},d.prototype=c.prototype,A=e.prototype=new d,A.constructor=e,Q(A,c.prototype),
A.isPureReactComponent=!0;var T,U={current:null},V=Object.prototype.hasOwnProperty,W={key:!0,ref:!0,__self:!0,__source:!0},X=/\/+/g,Y=[],Z={current:null};if("undefined"==typeof window||"function"!=typeof MessageChannel){var $=null,_=null,aa=function(){if(null!==$)try{var a=ca();$(!0,a),$=null}catch(a){throw setTimeout(aa,0),a}},ba=Date.now(),ca=function(){return Date.now()-ba},da=function(a){null!==$?setTimeout(da,0,a):($=a,setTimeout(aa,0))},ea=function(a,b){_=setTimeout(a,b)},fa=function(){clearTimeout(_)},ga=function(){return!1};A=T=function(){}}else{var ha=window.performance,ia=window.Date,ja=window.setTimeout,ka=window.clearTimeout;if("undefined"!=typeof console&&(A=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&void 0,"function"!=typeof A&&void 0),"object"==typeof ha&&"function"==typeof ha.now)ca=function(){return ha.now()};else{var la=ia.now();ca=function(){return ia.now()-la}}var ma=!1,na=null,oa=-1,pa=5,qa=0;ga=function(){return ca()>=qa},A=function(){},T=function(a){0>a||125<a?void 0:pa=0<a?Math.floor(1e3/a):5};var ra=new MessageChannel,sa=ra.port2;ra.port1.onmessage=function(){if(null!==na){var a=ca();qa=a+pa;try{na(!0,a)?sa.postMessage(null):(ma=!1,na=null)}catch(a){throw sa.postMessage(null),a}}else ma=!1},da=function(a){na=a,ma||(ma=!0,sa.postMessage(null))},ea=function(a,b){oa=ja(function(){a(ca())},b)},fa=function(){ka(oa),oa=-1}}var ta=[],ua=[],va=1,wa=null,xa=3,ya=!1,za=!1,Aa=!1,Ba=0;ra={ReactCurrentDispatcher:Z,ReactCurrentOwner:U,IsSomeRendererActing:{current:!1},assign:Q},Q(ra,{Scheduler:{__proto__:null,unstable_ImmediatePriority:1,unstable_UserBlockingPriority:2,unstable_NormalPriority:3,unstable_IdlePriority:5,unstable_LowPriority:4,unstable_runWithPriority:function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=xa;xa=a;try{return b()}finally{xa=c}},unstable_next:function(a){switch(xa){case 1:case 2:case 3:var b=3;break;default:b=xa}var c=xa;xa=b;try{return a()}finally{xa=c}},unstable_scheduleCallback:function(a,b,c){var d=ca();if("object"==typeof c&&null!==c){var e=c.delay;e="number"==typeof e&&0<e?d+e:d,c="number"==typeof c.timeout?c.timeout:z(a)}else c=z(a),e=d;return c=e+c,a={id:va++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1},e>d?(a.sortIndex=e,s(ua,a),null===t(ta)&&a===t(ua)&&(Aa?fa():Aa=!0,ea(x,e-d))):(a.sortIndex=c,s(ta,a),za||ya||(za=!0,da(y))),a},unstable_cancelCallback:function(a){a.callback=null},unstable_wrapCallback:function(a){var b=xa;return function(){var c=xa;xa=b;try{return a.apply(this,arguments)}finally{xa=c}}},unstable_getCurrentPriorityLevel:function(){return xa},unstable_shouldYield:function(){var a=ca();w(a);var b=t(ta);return b!==wa&&null!==wa&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<wa.expirationTime||ga()},unstable_requestPaint:A,unstable_continueExecution:function(){za||ya||(za=!0,da(y))},unstable_pauseExecution:function(){},unstable_getFirstCallbackNode:function(){return t(ta)},get unstable_now(){return ca},get unstable_forceFrameRate(){return T},unstable_Profiling:null},SchedulerTracing:{__proto__:null,__interactionsRef:null,__subscriberRef:null,unstable_clear:function(a){return a()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++Ba},unstable_trace:function(a,b,c){return c()},unstable_wrap:function(a){return a},unstable_subscribe:function(a){},unstable_unsubscribe:function(a){}}}),a.Children={map:function(a,b,c){if(null==a)return a;var d=[];return q(a,d,null,b,c),d},forEach:function(a,b,c){return null==a?a:(b=j(null,null,b,c),m(a,o,b),void k(b))},count:function(a){return m(a,function(){return null},null)},toArray:function(a){var b=[];return q(a,b,null,function(a){return a}),b},only:function(a){if(!h(a))throw Error(b(143));return a}},a.Component=c,a.Fragment=D,a.Profiler=F,a.PureComponent=e,a.StrictMode=E,a.Suspense=J,a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ra,a.cloneElement=function(a,c,d){if(null===a||void 0===a)throw Error(b(267,a));var e=Q({},a.props),f=a.key,g=a.ref,h=a._owner;if(null!=c){if(void 0!==c.ref&&(g=c.ref,h=U.current),void 0!==c.key&&(f=""+c.key),a.type&&a.type.defaultProps)var i=a.type.defaultProps;for(j in c)V.call(c,j)&&!W.hasOwnProperty(j)&&(e[j]=void 0===c[j]&&void 0!==i?i[j]:c[j])}var j=arguments.length-2;if(1===j)e.children=d;else if(1<j){i=Array(j);for(var k=0;k<j;k++)i[k]=arguments[k+2];e.children=i}return{$$typeof:B,type:a.type,key:f,ref:g,props:e,_owner:h}},a.createContext=function(a,b){return void 0===b&&(b=null),a={$$typeof:H,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null},a.Provider={$$typeof:G,_context:a},a.Consumer=a},a.createElement=f,a.createFactory=function(a){var b=f.bind(null,a);return b.type=a,b},a.createRef=function(){return{current:null}},a.forwardRef=function(a){return{$$typeof:I,render:a}},a.isValidElement=h,a.lazy=function(a){return{$$typeof:L,_ctor:a,_status:-1,_result:null}},a.memo=function(a,b){return{$$typeof:K,type:a,compare:void 0===b?null:b}},a.useCallback=function(a,b){return r().useCallback(a,b)},a.useContext=function(a,b){return r().useContext(a,b)},a.useDebugValue=function(a,b){},a.useEffect=function(a,b){return r().useEffect(a,b)},a.useImperativeHandle=function(a,b,c){return r().useImperativeHandle(a,b,c)},a.useLayoutEffect=function(a,b){return r().useLayoutEffect(a,b)},a.useMemo=function(a,b){return r().useMemo(a,b)},a.useReducer=function(a,b,c){return r().useReducer(a,b,c)},a.useRef=function(a){return r().useRef(a)},a.useState=function(a){return r().useState(a)},a.version="16.13.1"}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],b):(a=a||self,b(a.ReactDOM={},a.React))}(this,function(a,b){function c(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(a,b,c,d,e,f,g,h,i){Be=!1,Ce=null,Ae.apply(Fe,arguments)}function e(a,b,e,f,g,h,i,j,k){if(d.apply(this,arguments),Be){if(!Be)throw Error(c(198));var l=Ce;Be=!1,Ce=null,De||(De=!0,Ee=l)}}function f(a,b,c){var d=a.type||"unknown-event";a.currentTarget=Ie(c),e(d,b,void 0,a),a.currentTarget=null}function g(){if(Je)for(var a in Ke){var b=Ke[a],d=Je.indexOf(a);if(!(-1<d))throw Error(c(96,a));if(!Le[d]){if(!b.extractEvents)throw Error(c(97,a));Le[d]=b,d=b.eventTypes;for(var e in d){var f=void 0,g=d[e],i=b,j=e;if(Me.hasOwnProperty(j))throw Error(c(99,j));Me[j]=g;var k=g.phasedRegistrationNames;if(k){for(f in k)k.hasOwnProperty(f)&&h(k[f],i,j);f=!0}else g.registrationName?(h(g.registrationName,i,j),f=!0):f=!1;if(!f)throw Error(c(98,e,a))}}}}function h(a,b,d){if(Ne[a])throw Error(c(100,a));Ne[a]=b,Oe[a]=b.eventTypes[d].dependencies}function i(a){var b,d=!1;for(b in a)if(a.hasOwnProperty(b)){var e=a[b];if(!Ke.hasOwnProperty(b)||Ke[b]!==e){if(Ke[b])throw Error(c(102,b));Ke[b]=e,d=!0}}d&&g()}function j(a){if(a=He(a)){if("function"!=typeof Re)throw Error(c(280));var b=a.stateNode;b&&(b=Ge(b),Re(a.stateNode,a.type,b))}}function k(a){Se?Te?Te.push(a):Te=[a]:Se=a}function l(){if(Se){var a=Se,b=Te;if(Te=Se=null,j(a),b)for(a=0;a<b.length;a++)j(b[a])}}function m(){null===Se&&null===Te||(We(),l())}function n(a,b,c){if(Ze)return a(b,c);Ze=!0;try{return Xe(a,b,c)}finally{Ze=!1,m()}}function o(a){return!!nf.call(pf,a)||!nf.call(of,a)&&(mf.test(a)?pf[a]=!0:(of[a]=!0,!1))}function p(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return!d&&(null!==c?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),"data-"!==a&&"aria-"!==a));default:return!1}}function q(a,b,c,d){if(null===b||"undefined"==typeof b||p(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function r(a,b,c,d,e,f){this.acceptsBooleans=2===b||3===b||4===b,this.attributeName=d,this.attributeNamespace=e,this.mustUseProperty=c,this.propertyName=a,this.type=b,this.sanitizeURL=f}function s(a,b,c,d){var e=qf.hasOwnProperty(b)?qf[b]:null,f=null!==e?0===e.type:!d&&(2<b.length&&("o"===b[0]||"O"===b[0])&&("n"===b[1]||"N"===b[1]));f||(q(b,c,e,d)&&(c=null),d||null===e?o(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3!==e.type&&"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function t(a){return null===a||"object"!=typeof a?null:(a=Lf&&a[Lf]||a["@@iterator"],"function"==typeof a?a:null)}function u(a){if(-1===a._status){a._status=0;var b=a._ctor;b=b(),a._result=b,b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}}function v(a){if(null==a)return null;if("function"==typeof a)return a.displayName||a.name||null;if("string"==typeof a)return a;switch(a){case zf:return"Fragment";case yf:return"Portal";case Bf:return"Profiler";case Af:return"StrictMode";case Gf:return"Suspense";case Hf:return"SuspenseList"}if("object"==typeof a)switch(a.$$typeof){case Df:return"Context.Consumer";case Cf:return"Context.Provider";case Ff:var b=a.render;return b=b.displayName||b.name||"",a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case If:return v(a.type);case Kf:return v(a.render);case Jf:if(a=1===a._status?a._result:null)return v(a)}return null}function w(a){var b="";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c="";break a;default:var d=a._debugOwner,e=a._debugSource,f=v(a.type);c=null,d&&(c=v(d.type)),d=f,f="",e?f=" (at "+e.fileName.replace(vf,"")+":"+e.lineNumber+")":c&&(f=" (created by "+c+")"),c="\n    in "+(d||"Unknown")+f}b+=c,a=a.return}while(a);return b}function x(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function y(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function z(a){var b=y(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!=typeof c&&"function"==typeof c.get&&"function"==typeof c.set){var e=c.get,f=c.set;return Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a,f.call(this,a)}}),Object.defineProperty(a,b,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null,delete a[b]}}}}function A(a){a._valueTracker||(a._valueTracker=z(a))}function B(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue(),d="";return a&&(d=y(a)?a.checked?"true":"false":a.value),a=d,a!==c&&(b.setValue(a),!0)}function C(a,b){var c=b.checked;return Qe({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function D(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=x(null!=b.value?b.value:c),a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function E(a,b){b=b.checked,null!=b&&s(a,"checked",b,!1)}function F(a,b){E(a,b);var c=x(b.value),d=b.type;if(null!=c)"number"===d?(0===c&&""===a.value||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d)return void a.removeAttribute("value");b.hasOwnProperty("value")?H(a,b.type,c):b.hasOwnProperty("defaultValue")&&H(a,b.type,x(b.defaultValue)),null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function G(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue,c||b===a.value||(a.value=b),a.defaultValue=b}c=a.name,""!==c&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,""!==c&&(a.name=c)}function H(a,b,c){"number"===b&&a.ownerDocument.activeElement===a||(null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}function I(a){var c="";return b.Children.forEach(a,function(a){null!=a&&(c+=a)}),c}function J(a,b){return a=Qe({children:void 0},b),(b=I(b.children))&&(a.children=b),a}function K(a,b,c,d){if(a=a.options,b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{for(c=""+x(c),b=null,e=0;e<a.length;e++){if(a[e].value===c)return a[e].selected=!0,void(d&&(a[e].defaultSelected=!0));null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function L(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(c(91));return Qe({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function M(a,b){var d=b.value;if(null==d){if(d=b.children,b=b.defaultValue,null!=d){if(null!=b)throw Error(c(92));if(Array.isArray(d)){if(!(1>=d.length))throw Error(c(93));d=d[0]}b=d}null==b&&(b=""),d=b}a._wrapperState={initialValue:x(d)}}function N(a,b){var c=x(b.value),d=x(b.defaultValue);null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c)),null!=d&&(a.defaultValue=""+d)}function O(a,b){b=a.textContent,b===a._wrapperState.initialValue&&""!==b&&null!==b&&(a.value=b)}function P(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?P(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function R(a,b){var c={};return c[a.toLowerCase()]=b.toLowerCase(),c["Webkit"+a]="webkit"+b,c["Moz"+a]="moz"+b,c}function S(a){if(Pf[a])return Pf[a];if(!Of[a])return a;var b,c=Of[a];for(b in c)if(c.hasOwnProperty(b)&&b in Qf)return Pf[a]=c[b];return a}function T(a){var b=Wf.get(a);return void 0===b&&(b=new Map,Wf.set(a,b)),b}function U(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(1026&b.effectTag)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function V(a){if(13===a.tag){var b=a.memoizedState;if(null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState)),null!==b)return b.dehydrated}return null}function W(a){if(U(a)!==a)throw Error(c(188))}function X(a){var b=a.alternate;if(!b){if(b=U(a),null===b)throw Error(c(188));return b!==a?null:a}for(var d=a,e=b;;){var f=d.return;if(null===f)break;var g=f.alternate;if(null===g){if(e=f.return,null!==e){d=e;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===d)return W(f),a;if(g===e)return W(f),b;g=g.sibling}throw Error(c(188))}if(d.return!==e.return)d=f,e=g;else{for(var h=!1,i=f.child;i;){if(i===d){h=!0,d=f,e=g;break}if(i===e){h=!0,e=f,d=g;break}i=i.sibling}if(!h){for(i=g.child;i;){if(i===d){h=!0,d=g,e=f;break}if(i===e){h=!0,e=g,d=f;break}i=i.sibling}if(!h)throw Error(c(189))}}if(d.alternate!==e)throw Error(c(190))}if(3!==d.tag)throw Error(c(188));return d.stateNode.current===d?a:b}function Y(a){if(a=X(a),!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}function Z(a,b){if(null==b)throw Error(c(30));return null==a?b:Array.isArray(a)?Array.isArray(b)?(a.push.apply(a,b),a):(a.push(b),a):Array.isArray(b)?[a].concat(b):[a,b]}function $(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}function _(a){if(null!==a&&(Xf=Z(Xf,a)),a=Xf,Xf=null,a){if($(a,Yf),Xf)throw Error(c(95));if(De)throw a=Ee,De=!1,Ee=null,a}}function aa(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),3===a.nodeType?a.parentNode:a}function ba(a){if(!Pe)return!1;a="on"+a;var b=a in document;return b||(b=document.createElement("div"),b.setAttribute(a,"return;"),b="function"==typeof b[a]),b}function ca(a){a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>Zf.length&&Zf.push(a)}function da(a,b,c,d){if(Zf.length){var e=Zf.pop();return e.topLevelType=a,e.eventSystemFlags=d,e.nativeEvent=b,e.targetInst=c,e}return{topLevelType:a,eventSystemFlags:d,nativeEvent:b,targetInst:c,ancestors:[]}}function ea(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d=c;if(3===d.tag)d=d.stateNode.containerInfo;else{for(;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo}if(!d)break;b=c.tag,5!==b&&6!==b||a.ancestors.push(c),c=Oa(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=aa(a.nativeEvent);d=a.topLevelType;var f=a.nativeEvent,g=a.eventSystemFlags;0===c&&(g|=64);for(var h=null,i=0;i<Le.length;i++){var j=Le[i];j&&(j=j.extractEvents(d,b,f,e,g))&&(h=Z(h,j))}_(h)}}function fa(a,b,c){if(!c.has(a)){switch(a){case"scroll":ta(b,"scroll",!0);break;case"focus":case"blur":ta(b,"focus",!0),ta(b,"blur",!0),c.set("blur",null),c.set("focus",null);break;case"cancel":case"close":ba(a)&&ta(b,a,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Vf.indexOf(a)&&sa(a,b)}c.set(a,null)}}function ga(a,b){var c=T(b);gg.forEach(function(a){fa(a,b,c)}),hg.forEach(function(a){fa(a,b,c)})}function ha(a,b,c,d,e){return{blockedOn:a,topLevelType:b,eventSystemFlags:32|c,nativeEvent:e,container:d}}function ia(a,b){switch(a){case"focus":case"blur":ag=null;break;case"dragenter":case"dragleave":bg=null;break;case"mouseover":case"mouseout":cg=null;break;case"pointerover":case"pointerout":dg.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":eg.delete(b.pointerId)}}function ja(a,b,c,d,e,f){return null===a||a.nativeEvent!==f?(a=ha(b,c,d,e,f),null!==b&&(b=Pa(b),null!==b&&Aj(b)),a):(a.eventSystemFlags|=d,a)}function ka(a,b,c,d,e){switch(b){case"focus":return ag=ja(ag,a,b,c,d,e),!0;case"dragenter":return bg=ja(bg,a,b,c,d,e),!0;case"mouseover":return cg=ja(cg,a,b,c,d,e),!0;case"pointerover":var f=e.pointerId;return dg.set(f,ja(dg.get(f)||null,a,b,c,d,e)),!0;case"gotpointercapture":return f=e.pointerId,eg.set(f,ja(eg.get(f)||null,a,b,c,d,e)),!0}return!1}function la(a){var b=Oa(a.target);if(null!==b){var c=U(b);if(null!==c)if(b=c.tag,13===b){if(b=V(c),null!==b)return a.blockedOn=b,void ef(a.priority,function(){Bj(c)})}else if(3===b&&c.stateNode.hydrate)return void(a.blockedOn=3===c.tag?c.stateNode.containerInfo:null)}a.blockedOn=null}function ma(a){if(null!==a.blockedOn)return!1;var b=xa(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);if(null!==b){var c=Pa(b);return null!==c&&Aj(c),a.blockedOn=b,!1}return!0}function na(a,b,c){ma(a)&&c.delete(b)}function oa(){for($f=!1;0<_f.length;){var a=_f[0];if(null!==a.blockedOn){a=Pa(a.blockedOn),null!==a&&zj(a);break}var b=xa(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);null!==b?a.blockedOn=b:_f.shift()}null!==ag&&ma(ag)&&(ag=null),null!==bg&&ma(bg)&&(bg=null),null!==cg&&ma(cg)&&(cg=null),dg.forEach(na),eg.forEach(na)}function pa(a,b){a.blockedOn===b&&(a.blockedOn=null,$f||($f=!0,bf(jf,oa)))}function qa(a){if(0<_f.length){pa(_f[0],a);for(var b=1;b<_f.length;b++){var c=_f[b];c.blockedOn===a&&(c.blockedOn=null)}}for(null!==ag&&pa(ag,a),null!==bg&&pa(bg,a),null!==cg&&pa(cg,a),b=function(b){return pa(b,a)},dg.forEach(b),eg.forEach(b),b=0;b<fg.length;b++)c=fg[b],c.blockedOn===a&&(c.blockedOn=null);for(;0<fg.length&&(b=fg[0],null===b.blockedOn);)la(b),null===b.blockedOn&&fg.shift()}function ra(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1],f="on"+(e[0].toUpperCase()+e.slice(1));f={phasedRegistrationNames:{bubbled:f,captured:f+"Capture"},dependencies:[d],eventPriority:b},kg.set(d,b),jg.set(d,f),ig[e]=f}}function sa(a,b){ta(b,a,!1)}function ta(a,b,c){var d=kg.get(b);switch(void 0===d?2:d){case 0:d=ua.bind(null,b,1,a);break;case 1:d=va.bind(null,b,1,a);break;default:d=wa.bind(null,b,1,a)}c?a.addEventListener(b,d,!0):a.addEventListener(b,d,!1)}function ua(a,b,c,d){Ye||We();var e=wa,f=Ye;Ye=!0;try{Ve(e,a,b,c,d)}finally{(Ye=f)||m()}}function va(a,b,c,d){ng(mg,wa.bind(null,a,b,c,d))}function wa(a,b,c,d){if(og)if(0<_f.length&&-1<gg.indexOf(a))a=ha(null,a,b,c,d),_f.push(a);else{var e=xa(a,b,c,d);if(null===e)ia(a,d);else if(-1<gg.indexOf(a))a=ha(e,a,b,c,d),_f.push(a);else if(!ka(e,a,b,c,d)){ia(a,d),a=da(a,d,null,b);try{n(ea,a)}finally{ca(a)}}}}function xa(a,b,c,d){if(c=aa(d),c=Oa(c),null!==c){var e=U(c);if(null===e)c=null;else{var f=e.tag;if(13===f){if(c=V(e),null!==c)return c;c=null}else if(3===f){if(e.stateNode.hydrate)return 3===e.tag?e.stateNode.containerInfo:null;c=null}else e!==c&&(c=null)}}a=da(a,d,c,b);try{n(ea,a)}finally{ca(a)}return null}function ya(a,b,c){return null==b||"boolean"==typeof b||""===b?"":c||"number"!=typeof b||0===b||pg.hasOwnProperty(a)&&pg[a]?(""+b).trim():b+"px"}function za(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=ya(c,b[c],d);"float"===c&&(c="cssFloat"),d?a.setProperty(c,e):a[c]=e}}function Aa(a,b){if(b){if(rg[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(c(137,a,""));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(c(60));if(!("object"==typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML))throw Error(c(61))}if(null!=b.style&&"object"!=typeof b.style)throw Error(c(62,""))}}function Ba(a,b){if(-1===a.indexOf("-"))return"string"==typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ca(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=T(a);b=Oe[b];for(var d=0;d<b.length;d++)fa(b[d],a,c)}function Da(){}function Ea(a){if(a=a||("undefined"!=typeof document?document:void 0),"undefined"==typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Fa(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ga(a,b){var c=Fa(a);a=0;for(var d;c;){if(3===c.nodeType){if(d=a+c.textContent.length,a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Fa(c)}}function Ha(a,b){return!(!a||!b)&&(a===b||(!a||3!==a.nodeType)&&(b&&3===b.nodeType?Ha(a,b.parentNode):"contains"in a?a.contains(b):!!a.compareDocumentPosition&&!!(16&a.compareDocumentPosition(b))))}function Ia(){for(var a=window,b=Ea();b instanceof a.HTMLIFrameElement;){try{var c="string"==typeof b.contentWindow.location.href}catch(a){c=!1}if(!c)break;a=b.contentWindow,b=Ea(a.document)}return b}function Ja(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function Ka(a,b){switch(a){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}function La(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"==typeof b.children||"number"==typeof b.children||"object"==typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}function Ma(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function Na(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(c===sg||c===vg||c===ug){if(0===b)return a;b--}else c===tg&&b++}a=a.previousSibling}return null}function Oa(a){var b=a[Bg];if(b)return b;for(var c=a.parentNode;c;){if(b=c[Dg]||c[Bg]){if(c=b.alternate,null!==b.child||null!==c&&null!==c.child)for(a=Na(a);null!==a;){if(c=a[Bg])return c;a=Na(a)}return b}a=c,c=a.parentNode}return null}function Pa(a){return a=a[Bg]||a[Dg],!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function Qa(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(c(33))}function Ra(a){return a[Cg]||null}function Sa(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}function Ta(a,b){var d=a.stateNode;if(!d)return null;var e=Ge(d);if(!e)return null;d=e[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(e=!e.disabled)||(a=a.type,e=!("button"===a||"input"===a||"select"===a||"textarea"===a)),a=!e;break a;default:a=!1}if(a)return null;if(d&&"function"!=typeof d)throw Error(c(231,b,typeof d));return d}function Ua(a,b,c){(b=Ta(a,c.dispatchConfig.phasedRegistrationNames[b]))&&(c._dispatchListeners=Z(c._dispatchListeners,b),c._dispatchInstances=Z(c._dispatchInstances,a))}function Va(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=Sa(b);for(b=c.length;0<b--;)Ua(c[b],"captured",a);for(b=0;b<c.length;b++)Ua(c[b],"bubbled",a)}}function Wa(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Ta(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=Z(c._dispatchListeners,b),c._dispatchInstances=Z(c._dispatchInstances,a))}function Xa(a){a&&a.dispatchConfig.registrationName&&Wa(a._targetInst,null,a)}function Ya(a){$(a,Va)}function Za(){if(Gg)return Gg;var a,b,c=Fg,d=c.length,e="value"in Eg?Eg.value:Eg.textContent,f=e.length;for(a=0;a<d&&c[a]===e[a];a++);var g=d-a;for(b=1;b<=g&&c[d-b]===e[f-b];b++);return Gg=e.slice(a,1<b?1-b:void 0)}function $a(){return!0}function _a(){return!1}function ab(a,b,c,d){this.dispatchConfig=a,this._targetInst=b,this.nativeEvent=c,a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);return this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?$a:_a,this.isPropagationStopped=_a,this}function bb(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();return this.call(e,a,b,c,d),e}return new this(a,b,c,d)}function cb(a){if(!(a instanceof this))throw Error(c(279));a.destructor(),10>this.eventPool.length&&this.eventPool.push(a)}function db(a){a.eventPool=[],a.getPooled=bb,a.release=cb}function eb(a,b){switch(a){case"keyup":return-1!==Jg.indexOf(b.keyCode);case"keydown":return 229!==b.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function fb(a){return a=a.detail,"object"==typeof a&&"data"in a?a.data:null}function gb(a,b){switch(a){case"compositionend":return fb(b);case"keypress":return 32!==b.which?null:(Qg=!0,Og);case"textInput":return a=b.data,a===Og&&Qg?null:a;default:return null}}function hb(a,b){if(Rg)return"compositionend"===a||!Kg&&eb(a,b)?(a=Za(),Gg=Fg=Eg=null,Rg=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return Ng&&"ko"!==b.locale?null:b.data;default:return null}}function ib(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Tg[a.type]:"textarea"===b}function jb(a,b,c){return a=ab.getPooled(Ug.change,a,b,c),a.type="change",k(c),Ya(a),a}function kb(a){_(a)}function lb(a){var b=Qa(a);if(B(b))return a}function mb(a,b){if("change"===a)return b}function nb(){Vg&&(Vg.detachEvent("onpropertychange",ob),Wg=Vg=null)}function ob(a){if("value"===a.propertyName&&lb(Wg))if(a=jb(Wg,a,aa(a)),Ye)_(a);else{Ye=!0;try{Ue(kb,a)}finally{Ye=!1,m()}}}function pb(a,b,c){"focus"===a?(nb(),Vg=b,Wg=c,Vg.attachEvent("onpropertychange",ob)):"blur"===a&&nb()}function qb(a,b){if("selectionchange"===a||"keyup"===a||"keydown"===a)return lb(Wg)}function rb(a,b){if("click"===a)return lb(b)}function sb(a,b){if("input"===a||"change"===a)return lb(b)}function tb(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):!!(a=$g[a])&&!!b[a]}function ub(a){return tb}function vb(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}function wb(a,b){if(hh(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!ih.call(b,c[d])||!hh(a[c[d]],b[c[d]]))return!1;return!0}function xb(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;return oh||null==lh||lh!==Ea(c)?null:(c=lh,"selectionStart"in c&&Ja(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),nh&&wb(nh,c)?null:(nh=c,a=ab.getPooled(kh.select,mh,a,b),a.type="select",a.target=lh,Ya(a),a))}function yb(a){var b=a.keyCode;return"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b,10===a&&(a=13),32<=a||13===a?a:0}function zb(a,b){0>Ch||(a.current=Bh[Ch],Bh[Ch]=null,Ch--)}function Ab(a,b,c){Ch++,Bh[Ch]=a.current,a.current=b}function Bb(a,b){var c=a.type.contextTypes;if(!c)return Dh;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e,f={};for(e in c)f[e]=b[e];return d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=f),f}function Cb(a){return a=a.childContextTypes,null!==a&&void 0!==a}function Db(a,b,d){if(Eh.current!==Dh)throw Error(c(168));Ab(Eh,b),Ab(Fh,d)}function Eb(a,b,d){var e=a.stateNode;if(a=b.childContextTypes,"function"!=typeof e.getChildContext)return d;e=e.getChildContext();for(var f in e)if(!(f in a))throw Error(c(108,v(b)||"Unknown",f));return Qe({},d,{},e)}function Fb(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Dh,Gh=Eh.current,Ab(Eh,a),Ab(Fh,Fh.current),!0}function Gb(a,b,d){var e=a.stateNode;if(!e)throw Error(c(169));d?(a=Eb(a,b,Gh),e.__reactInternalMemoizedMergedChildContext=a,zb(Fh),zb(Eh),Ab(Eh,a)):zb(Fh),Ab(Fh,d)}function Hb(){switch(Kh()){case Lh:return 99;case Mh:return 98;case Nh:return 97;case Oh:return 96;case Ph:return 95;default:throw Error(c(332))}}function Ib(a){switch(a){case 99:return Lh;case 98:return Mh;case 97:return Nh;case 96:return Oh;case 95:return Ph;default:throw Error(c(332))}}function Jb(a,b){return a=Ib(a),Hh(a,b)}function Kb(a,b,c){return a=Ib(a),Ih(a,b,c)}function Lb(a){return null===Th?(Th=[a],Uh=Ih(Lh,Nb)):Th.push(a),Qh}function Mb(){if(null!==Uh){var a=Uh;Uh=null,Jh(a)}Nb()}function Nb(){if(!Vh&&null!==Th){Vh=!0;var a=0;try{var b=Th;Jb(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}}),Th=null}catch(b){throw null!==Th&&(Th=Th.slice(a+1)),Ih(Lh,Mb),b}finally{Vh=!1}}}function Ob(a,b,c){return c/=10,1073741821-(((1073741821-a+b/10)/c|0)+1)*c}function Pb(a,b){if(a&&a.defaultProps){b=Qe({},b),a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}function Qb(){_h=$h=Zh=null}function Rb(a){var b=Yh.current;zb(Yh),a.type._context._currentValue=b}function Sb(a,b){for(;null!==a;){var c=a.alternate;if(a.childExpirationTime<b)a.childExpirationTime=b,null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);else{if(!(null!==c&&c.childExpirationTime<b))break;c.childExpirationTime=b}a=a.return}}function Tb(a,b){Zh=a,_h=$h=null,a=a.dependencies,null!==a&&null!==a.firstContext&&(a.expirationTime>=b&&(Di=!0),a.firstContext=null)}function Ub(a,b){if(_h!==a&&!1!==b&&0!==b)if("number"==typeof b&&1073741823!==b||(_h=a,b=1073741823),b={context:a,observedBits:b,next:null},null===$h){if(null===Zh)throw Error(c(308));$h=b,Zh.dependencies={expirationTime:0,firstContext:b,responders:null}}else $h=$h.next=b;return a._currentValue}function Vb(a){a.updateQueue={baseState:a.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Wb(a,b){a=a.updateQueue,b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,
baseQueue:a.baseQueue,shared:a.shared,effects:a.effects})}function Xb(a,b){return a={expirationTime:a,suspenseConfig:b,tag:ai,payload:null,callback:null,next:null},a.next=a}function Yb(a,b){if(a=a.updateQueue,null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b),a.pending=b}}function Zb(a,b){var c=a.alternate;null!==c&&Wb(c,a),a=a.updateQueue,c=a.baseQueue,null===c?(a.baseQueue=b.next=b,b.next=b):(b.next=c.next,c.next=b)}function $b(a,b,c,d){var e=a.updateQueue;ci=!1;var f=e.baseQueue,g=e.shared.pending;if(null!==g){if(null!==f){var h=f.next;f.next=g.next,g.next=h}f=g,e.shared.pending=null,h=a.alternate,null!==h&&(h=h.updateQueue,null!==h&&(h.baseQueue=g))}if(null!==f){h=f.next;var i=e.baseState,j=0,k=null,l=null,m=null;if(null!==h)for(var n=h;;){if(g=n.expirationTime,g<d){var o={expirationTime:n.expirationTime,suspenseConfig:n.suspenseConfig,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===m?(l=m=o,k=i):m=m.next=o,g>j&&(j=g)}else{null!==m&&(m=m.next={expirationTime:1073741823,suspenseConfig:n.suspenseConfig,tag:n.tag,payload:n.payload,callback:n.callback,next:null}),Od(g,n.suspenseConfig);a:{var p=a,q=n;switch(g=b,o=c,q.tag){case 1:if(p=q.payload,"function"==typeof p){i=p.call(o,i,g);break a}i=p;break a;case 3:p.effectTag=p.effectTag&-4097|64;case ai:if(p=q.payload,g="function"==typeof p?p.call(o,i,g):p,null===g||void 0===g)break a;i=Qe({},i,g);break a;case bi:ci=!0}}null!==n.callback&&(a.effectTag|=32,g=e.effects,null===g?e.effects=[n]:g.push(n))}if(n=n.next,null===n||n===h){if(g=e.shared.pending,null===g)break;n=f.next=g.next,g.next=h,e.baseQueue=f=g,e.shared.pending=null}}null===m?k=i:m.next=l,e.baseState=k,e.baseQueue=m,Pd(j),a.expirationTime=j,a.memoizedState=i}}function _b(a,b,d){if(a=b.effects,b.effects=null,null!==a)for(b=0;b<a.length;b++){var e=a[b],f=e.callback;if(null!==f){if(e.callback=null,e=f,f=d,"function"!=typeof e)throw Error(c(191,e));e.call(f)}}}function ac(a,b,c,d){b=a.memoizedState,c=c(d,b),c=null===c||void 0===c?b:Qe({},b,c),a.memoizedState=c,0===a.expirationTime&&(a.updateQueue.baseState=c)}function bc(a,b,c,d,e,f,g){return a=a.stateNode,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):!b.prototype||!b.prototype.isPureReactComponent||(!wb(c,d)||!wb(e,f))}function cc(a,b,c){var d=!1,e=Dh,f=b.contextType;return"object"==typeof f&&null!==f?f=Ub(f):(e=Cb(b)?Gh:Eh.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Bb(a,e):Dh),b=new b(c,f),a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null,b.updater=fi,a.stateNode=b,b._reactInternalFiber=a,d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f),b}function dc(a,b,c,d){a=b.state,"function"==typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d),"function"==typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d),b.state!==a&&fi.enqueueReplaceState(b,b.state,null)}function ec(a,b,c,d){var e=a.stateNode;e.props=c,e.state=a.memoizedState,e.refs=ei,Vb(a);var f=b.contextType;"object"==typeof f&&null!==f?e.context=Ub(f):(f=Cb(b)?Gh:Eh.current,e.context=Bb(a,f)),$b(a,c,e,d),e.state=a.memoizedState,f=b.getDerivedStateFromProps,"function"==typeof f&&(ac(a,b,f,c),e.state=a.memoizedState),"function"==typeof b.getDerivedStateFromProps||"function"==typeof e.getSnapshotBeforeUpdate||"function"!=typeof e.UNSAFE_componentWillMount&&"function"!=typeof e.componentWillMount||(b=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&fi.enqueueReplaceState(e,e.state,null),$b(a,c,e,d),e.state=a.memoizedState),"function"==typeof e.componentDidMount&&(a.effectTag|=4)}function fc(a,b,d){if(a=d.ref,null!==a&&"function"!=typeof a&&"object"!=typeof a){if(d._owner){if(d=d._owner){if(1!==d.tag)throw Error(c(309));var e=d.stateNode}if(!e)throw Error(c(147,a));var f=""+a;return null!==b&&null!==b.ref&&"function"==typeof b.ref&&b.ref._stringRef===f?b.ref:(b=function(a){var b=e.refs;b===ei&&(b=e.refs={}),null===a?delete b[f]:b[f]=a},b._stringRef=f,b)}if("string"!=typeof a)throw Error(c(284));if(!d._owner)throw Error(c(290,a))}return a}function gc(a,b){if("textarea"!==a.type)throw Error(c(31,"[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,""))}function hc(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c,c.nextEffect=null,c.effectTag=8}}function d(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function e(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function f(a,b){return a=ge(a,b),a.index=0,a.sibling=null,a}function g(b,c,d){return b.index=d,a?(d=b.alternate,null!==d?(d=d.index,d<c?(b.effectTag=2,c):d):(b.effectTag=2,c)):c}function h(b){return a&&null===b.alternate&&(b.effectTag=2),b}function i(a,b,c,d){return null===b||6!==b.tag?(b=je(c,a.mode,d),b.return=a,b):(b=f(b,c),b.return=a,b)}function j(a,b,c,d){return null!==b&&b.elementType===c.type?(d=f(b,c.props),d.ref=fc(a,b,c),d.return=a,d):(d=he(c.type,c.key,c.props,null,a.mode,d),d.ref=fc(a,b,c),d.return=a,d)}function k(a,b,c,d){return null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation?(b=ke(c,a.mode,d),b.return=a,b):(b=f(b,c.children||[]),b.return=a,b)}function l(a,b,c,d,e){return null===b||7!==b.tag?(b=ie(c,a.mode,d,e),b.return=a,b):(b=f(b,c),b.return=a,b)}function m(a,b,c){if("string"==typeof b||"number"==typeof b)return b=je(""+b,a.mode,c),b.return=a,b;if("object"==typeof b&&null!==b){switch(b.$$typeof){case xf:return c=he(b.type,b.key,b.props,null,a.mode,c),c.ref=fc(a,null,b),c.return=a,c;case yf:return b=ke(b,a.mode,c),b.return=a,b}if(gi(b)||t(b))return b=ie(b,a.mode,c,null),b.return=a,b;gc(a,b)}return null}function n(a,b,c,d){var e=null!==b?b.key:null;if("string"==typeof c||"number"==typeof c)return null!==e?null:i(a,b,""+c,d);if("object"==typeof c&&null!==c){switch(c.$$typeof){case xf:return c.key===e?c.type===zf?l(a,b,c.props.children,d,e):j(a,b,c,d):null;case yf:return c.key===e?k(a,b,c,d):null}if(gi(c)||t(c))return null!==e?null:l(a,b,c,d,null);gc(a,c)}return null}function o(a,b,c,d,e){if("string"==typeof d||"number"==typeof d)return a=a.get(c)||null,i(b,a,""+d,e);if("object"==typeof d&&null!==d){switch(d.$$typeof){case xf:return a=a.get(null===d.key?c:d.key)||null,d.type===zf?l(b,a,d.props.children,e,d.key):j(b,a,d,e);case yf:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e)}if(gi(d)||t(d))return a=a.get(c)||null,l(b,a,d,e,null);gc(b,d)}return null}function p(c,f,h,i){for(var j=null,k=null,l=f,p=f=0,q=null;null!==l&&p<h.length;p++){l.index>p?(q=l,l=null):q=l.sibling;var r=n(c,l,h[p],i);if(null===r){null===l&&(l=q);break}a&&l&&null===r.alternate&&b(c,l),f=g(r,f,p),null===k?j=r:k.sibling=r,k=r,l=q}if(p===h.length)return d(c,l),j;if(null===l){for(;p<h.length;p++)l=m(c,h[p],i),null!==l&&(f=g(l,f,p),null===k?j=l:k.sibling=l,k=l);return j}for(l=e(c,l);p<h.length;p++)q=o(l,c,p,h[p],i),null!==q&&(a&&null!==q.alternate&&l.delete(null===q.key?p:q.key),f=g(q,f,p),null===k?j=q:k.sibling=q,k=q);return a&&l.forEach(function(a){return b(c,a)}),j}function q(f,h,i,j){var k=t(i);if("function"!=typeof k)throw Error(c(150));if(i=k.call(i),null==i)throw Error(c(151));for(var l=k=null,p=h,q=h=0,r=null,s=i.next();null!==p&&!s.done;q++,s=i.next()){p.index>q?(r=p,p=null):r=p.sibling;var u=n(f,p,s.value,j);if(null===u){null===p&&(p=r);break}a&&p&&null===u.alternate&&b(f,p),h=g(u,h,q),null===l?k=u:l.sibling=u,l=u,p=r}if(s.done)return d(f,p),k;if(null===p){for(;!s.done;q++,s=i.next())s=m(f,s.value,j),null!==s&&(h=g(s,h,q),null===l?k=s:l.sibling=s,l=s);return k}for(p=e(f,p);!s.done;q++,s=i.next())s=o(p,f,q,s.value,j),null!==s&&(a&&null!==s.alternate&&p.delete(null===s.key?q:s.key),h=g(s,h,q),null===l?k=s:l.sibling=s,l=s);return a&&p.forEach(function(a){return b(f,a)}),k}return function(a,e,g,i){var j="object"==typeof g&&null!==g&&g.type===zf&&null===g.key;j&&(g=g.props.children);var k="object"==typeof g&&null!==g;if(k)switch(g.$$typeof){case xf:a:{for(k=g.key,j=e;null!==j;){if(j.key===k){switch(j.tag){case 7:if(g.type===zf){d(a,j.sibling),e=f(j,g.props.children),e.return=a,a=e;break a}break;default:if(j.elementType===g.type){d(a,j.sibling),e=f(j,g.props),e.ref=fc(a,j,g),e.return=a,a=e;break a}}d(a,j);break}b(a,j),j=j.sibling}g.type===zf?(e=ie(g.props.children,a.mode,i,g.key),e.return=a,a=e):(i=he(g.type,g.key,g.props,null,a.mode,i),i.ref=fc(a,e,g),i.return=a,a=i)}return h(a);case yf:a:{for(j=g.key;null!==e;){if(e.key===j){if(4===e.tag&&e.stateNode.containerInfo===g.containerInfo&&e.stateNode.implementation===g.implementation){d(a,e.sibling),e=f(e,g.children||[]),e.return=a,a=e;break a}d(a,e);break}b(a,e),e=e.sibling}e=ke(g,a.mode,i),e.return=a,a=e}return h(a)}if("string"==typeof g||"number"==typeof g)return g=""+g,null!==e&&6===e.tag?(d(a,e.sibling),e=f(e,g),e.return=a,a=e):(d(a,e),e=je(g,a.mode,i),e.return=a,a=e),h(a);if(gi(g))return p(a,e,g,i);if(t(g))return q(a,e,g,i);if(k&&gc(a,g),"undefined"==typeof g&&!j)switch(a.tag){case 1:case 0:throw a=a.type,Error(c(152,a.displayName||a.name||"Component"))}return d(a,e)}}function ic(a){if(a===ji)throw Error(c(174));return a}function jc(a,b){switch(Ab(mi,b),Ab(li,a),Ab(ki,ji),a=b.nodeType){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Q(null,"");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=Q(b,a)}zb(ki),Ab(ki,b)}function kc(a){zb(ki),zb(li),zb(mi)}function lc(a){ic(mi.current);var b=ic(ki.current),c=Q(b,a.type);b!==c&&(Ab(li,a),Ab(ki,c))}function mc(a){li.current===a&&(zb(ki),zb(li))}function nc(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||c.data===ug||c.data===vg))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(64&b.effectTag))return b}else if(null!==b.child){b.child.return=b,b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}function oc(a,b){return{responder:a,props:b}}function pc(){throw Error(c(321))}function qc(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!hh(a[c],b[c]))return!1;return!0}function rc(a,b,d,e,f,g){if(qi=g,ri=b,b.memoizedState=null,b.updateQueue=null,b.expirationTime=0,oi.current=null===a||null===a.memoizedState?wi:xi,a=d(e,f),b.expirationTime===qi){g=0;do{if(b.expirationTime=0,!(25>g))throw Error(c(301));g+=1,ti=si=null,b.updateQueue=null,oi.current=yi,a=d(e,f)}while(b.expirationTime===qi)}if(oi.current=vi,b=null!==si&&null!==si.next,qi=0,ti=si=ri=null,ui=!1,b)throw Error(c(300));return a}function sc(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ti?ri.memoizedState=ti=a:ti=ti.next=a,ti}function tc(){if(null===si){var a=ri.alternate;a=null!==a?a.memoizedState:null}else a=si.next;var b=null===ti?ri.memoizedState:ti.next;if(null!==b)ti=b,si=a;else{if(null===a)throw Error(c(310));si=a,a={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},null===ti?ri.memoizedState=ti=a:ti=ti.next=a}return ti}function uc(a,b){return"function"==typeof b?b(a):b}function vc(a,b,d){if(b=tc(),d=b.queue,null===d)throw Error(c(311));d.lastRenderedReducer=a;var e=si,f=e.baseQueue,g=d.pending;if(null!==g){if(null!==f){var h=f.next;f.next=g.next,g.next=h}e.baseQueue=f=g,d.pending=null}if(null!==f){f=f.next,e=e.baseState;var i=h=g=null,j=f;do{var k=j.expirationTime;if(k<qi){var l={expirationTime:j.expirationTime,suspenseConfig:j.suspenseConfig,action:j.action,eagerReducer:j.eagerReducer,eagerState:j.eagerState,next:null};null===i?(h=i=l,g=e):i=i.next=l,k>ri.expirationTime&&(ri.expirationTime=k,Pd(k))}else null!==i&&(i=i.next={expirationTime:1073741823,suspenseConfig:j.suspenseConfig,action:j.action,eagerReducer:j.eagerReducer,eagerState:j.eagerState,next:null}),Od(k,j.suspenseConfig),e=j.eagerReducer===a?j.eagerState:a(e,j.action);j=j.next}while(null!==j&&j!==f);null===i?g=e:i.next=h,hh(e,b.memoizedState)||(Di=!0),b.memoizedState=e,b.baseState=g,b.baseQueue=i,d.lastRenderedState=e}return[b.memoizedState,d.dispatch]}function wc(a,b,d){if(b=tc(),d=b.queue,null===d)throw Error(c(311));d.lastRenderedReducer=a;var e=d.dispatch,f=d.pending,g=b.memoizedState;if(null!==f){d.pending=null;var h=f=f.next;do g=a(g,h.action),h=h.next;while(h!==f);hh(g,b.memoizedState)||(Di=!0),b.memoizedState=g,null===b.baseQueue&&(b.baseState=g),d.lastRenderedState=g}return[g,e]}function xc(a){var b=sc();return"function"==typeof a&&(a=a()),b.memoizedState=b.baseState=a,a=b.queue={pending:null,dispatch:null,lastRenderedReducer:uc,lastRenderedState:a},a=a.dispatch=Mc.bind(null,ri,a),[b.memoizedState,a]}function yc(a,b,c,d){return a={tag:a,create:b,destroy:c,deps:d,next:null},b=ri.updateQueue,null===b?(b={lastEffect:null},ri.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a)),a}function zc(a){return tc().memoizedState}function Ac(a,b,c,d){var e=sc();ri.effectTag|=a,e.memoizedState=yc(1|b,c,void 0,void 0===d?null:d)}function Bc(a,b,c,d){var e=tc();d=void 0===d?null:d;var f=void 0;if(null!==si){var g=si.memoizedState;if(f=g.destroy,null!==d&&qc(d,g.deps))return void yc(b,c,f,d)}ri.effectTag|=a,e.memoizedState=yc(1|b,c,f,d)}function Cc(a,b){return Ac(516,4,a,b)}function Dc(a,b){return Bc(516,4,a,b)}function Ec(a,b){return Bc(4,2,a,b)}function Fc(a,b){return"function"==typeof b?(a=a(),b(a),function(){b(null)}):null!==b&&void 0!==b?(a=a(),b.current=a,function(){b.current=null}):void 0}function Gc(a,b,c){return c=null!==c&&void 0!==c?c.concat([a]):null,Bc(4,2,Fc.bind(null,b,a),c)}function Hc(a,b){}function Ic(a,b){return sc().memoizedState=[a,void 0===b?null:b],a}function Jc(a,b){var c=tc();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&qc(b,d[1])?d[0]:(c.memoizedState=[a,b],a)}function Kc(a,b){var c=tc();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&qc(b,d[1])?d[0]:(a=a(),c.memoizedState=[a,b],a)}function Lc(a,b,c){var d=Hb();Jb(98>d?98:d,function(){a(!0)}),Jb(97<d?97:d,function(){var d=pi.suspense;pi.suspense=void 0===b?null:b;try{a(!1),c()}finally{pi.suspense=d}})}function Mc(a,b,c){var d=Bd(),e=di.suspense;d=Cd(d,a,e),e={expirationTime:d,suspenseConfig:e,action:c,eagerReducer:null,eagerState:null,next:null};var f=b.pending;if(null===f?e.next=e:(e.next=f.next,f.next=e),b.pending=e,f=a.alternate,a===ri||null!==f&&f===ri)ui=!0,e.expirationTime=qi,ri.expirationTime=qi;else{if(0===a.expirationTime&&(null===f||0===f.expirationTime)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);if(e.eagerReducer=f,e.eagerState=h,hh(h,g))return}catch(a){}finally{}uj(a,d)}}function Nc(a,b){var c=yj(5,null,null,0);c.elementType="DELETED",c.type="DELETED",c.stateNode=b,c.return=a,c.effectTag=8,null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function Oc(a,b){switch(a.tag){case 5:var c=a.type;return b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b,null!==b&&(a.stateNode=b,!0);case 6:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b&&(a.stateNode=b,!0);case 13:return!1;default:return!1}}function Pc(a){if(Bi){var b=Ai;if(b){var c=b;if(!Oc(a,b)){if(b=Ma(c.nextSibling),!b||!Oc(a,b))return a.effectTag=a.effectTag&-1025|2,Bi=!1,void(zi=a);Nc(zi,c)}zi=a,Ai=Ma(b.firstChild)}else a.effectTag=a.effectTag&-1025|2,Bi=!1,zi=a}}function Qc(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;zi=a}function Rc(a){if(a!==zi)return!1;if(!Bi)return Qc(a),Bi=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!La(b,a.memoizedProps))for(b=Ai;b;)Nc(a,b),b=Ma(b.nextSibling);if(Qc(a),13===a.tag){if(a=a.memoizedState,a=null!==a?a.dehydrated:null,!a)throw Error(c(317));a:{for(a=a.nextSibling,b=0;a;){if(8===a.nodeType){var d=a.data;if(d===tg){if(0===b){Ai=Ma(a.nextSibling);break a}b--}else d!==sg&&d!==vg&&d!==ug||b++}a=a.nextSibling}Ai=null}}else Ai=zi?Ma(a.stateNode.nextSibling):null;return!0}function Sc(){Ai=zi=null,Bi=!1}function Tc(a,b,c,d){b.child=null===a?ii(b,null,c,d):hi(b,a.child,c,d)}function Uc(a,b,c,d,e){c=c.render;var f=b.ref;return Tb(b,e),d=rc(a,b,c,d,f,e),null===a||Di?(b.effectTag|=1,Tc(a,b,d,e),b.child):(b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),ed(a,b,e))}function Vc(a,b,c,d,e,f){if(null===a){var g=c.type;return"function"!=typeof g||ee(g)||void 0!==g.defaultProps||null!==c.compare||void 0!==c.defaultProps?(a=he(c.type,null,d,null,b.mode,f),a.ref=b.ref,a.return=b,b.child=a):(b.tag=15,b.type=g,Wc(a,b,g,d,e,f))}return g=a.child,e<f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:wb,c(e,d)&&a.ref===b.ref)?ed(a,b,f):(b.effectTag|=1,a=ge(g,d),a.ref=b.ref,a.return=b,b.child=a)}function Wc(a,b,c,d,e,f){return null!==a&&wb(a.memoizedProps,d)&&a.ref===b.ref&&(Di=!1,e<f)?(b.expirationTime=a.expirationTime,ed(a,b,f)):Yc(a,b,c,d,f)}function Xc(a,b){var c=b.ref;(null===a&&null!==c||null!==a&&a.ref!==c)&&(b.effectTag|=128)}function Yc(a,b,c,d,e){var f=Cb(c)?Gh:Eh.current;return f=Bb(b,f),Tb(b,e),c=rc(a,b,c,d,f,e),null===a||Di?(b.effectTag|=1,Tc(a,b,c,e),b.child):(b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),ed(a,b,e))}function Zc(a,b,c,d,e){if(Cb(c)){var f=!0;Fb(b)}else f=!1;if(Tb(b,e),null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),cc(b,c,d),ec(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var i=g.context,j=c.contextType;"object"==typeof j&&null!==j?j=Ub(j):(j=Cb(c)?Gh:Eh.current,j=Bb(b,j));var k=c.getDerivedStateFromProps,l="function"==typeof k||"function"==typeof g.getSnapshotBeforeUpdate;l||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==d||i!==j)&&dc(b,g,d,j),ci=!1;var m=b.memoizedState;g.state=m,$b(b,d,g,e),i=b.memoizedState,h!==d||m!==i||Fh.current||ci?("function"==typeof k&&(ac(b,c,k,d),i=b.memoizedState),(h=ci||bc(b,c,h,d,m,i,j))?(l||"function"!=typeof g.UNSAFE_componentWillMount&&"function"!=typeof g.componentWillMount||("function"==typeof g.componentWillMount&&g.componentWillMount(),"function"==typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"==typeof g.componentDidMount&&(b.effectTag|=4)):("function"==typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=i),g.props=d,g.state=i,g.context=j,d=h):("function"==typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,Wb(a,b),h=b.memoizedProps,g.props=b.type===b.elementType?h:Pb(b.type,h),i=g.context,j=c.contextType,"object"==typeof j&&null!==j?j=Ub(j):(j=Cb(c)?Gh:Eh.current,j=Bb(b,j)),k=c.getDerivedStateFromProps,(l="function"==typeof k||"function"==typeof g.getSnapshotBeforeUpdate)||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==d||i!==j)&&dc(b,g,d,j),ci=!1,i=b.memoizedState,g.state=i,$b(b,d,g,e),m=b.memoizedState,h!==d||i!==m||Fh.current||ci?("function"==typeof k&&(ac(b,c,k,d),m=b.memoizedState),(k=ci||bc(b,c,h,d,i,m,j))?(l||"function"!=typeof g.UNSAFE_componentWillUpdate&&"function"!=typeof g.componentWillUpdate||("function"==typeof g.componentWillUpdate&&g.componentWillUpdate(d,m,j),"function"==typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,m,j)),"function"==typeof g.componentDidUpdate&&(b.effectTag|=4),"function"==typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&i===a.memoizedState||(b.effectTag|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&i===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=m),g.props=d,g.state=m,g.context=j,d=k):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&i===a.memoizedState||(b.effectTag|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&i===a.memoizedState||(b.effectTag|=256),d=!1);return $c(a,b,c,d,f,e)}function $c(a,b,c,d,e,f){Xc(a,b);var g=0!==(64&b.effectTag);if(!d&&!g)return e&&Gb(b,c,!1),ed(a,b,f);d=b.stateNode,Ci.current=b;var h=g&&"function"!=typeof c.getDerivedStateFromError?null:d.render();return b.effectTag|=1,null!==a&&g?(b.child=hi(b,a.child,null,f),b.child=hi(b,null,h,f)):Tc(a,b,h,f),b.memoizedState=d.state,e&&Gb(b,c,!0),b.child}function _c(a){var b=a.stateNode;b.pendingContext?Db(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Db(a,b.context,!1),jc(a,b.containerInfo)}function ad(a,b,c){var d,e=b.mode,f=b.pendingProps,g=ni.current,h=!1;if((d=0!==(64&b.effectTag))||(d=0!==(2&g)&&(null===a||null!==a.memoizedState)),d?(h=!0,b.effectTag&=-65):null!==a&&null===a.memoizedState||void 0===f.fallback||!0===f.unstable_avoidThisFallback||(g|=1),Ab(ni,1&g),null===a){if(void 0!==f.fallback&&Pc(b),h){if(h=f.fallback,f=ie(null,e,0,null),f.return=b,0===(2&b.mode))for(a=null!==b.memoizedState?b.child.child:b.child,f.child=a;null!==a;)a.return=f,a=a.sibling;return c=ie(h,e,c,null),c.return=b,f.sibling=c,b.memoizedState=Ei,b.child=f,c}return e=f.children,b.memoizedState=null,b.child=ii(b,null,e,c)}if(null!==a.memoizedState){if(a=a.child,e=a.sibling,h){if(f=f.fallback,c=ge(a,a.pendingProps),c.return=b,0===(2&b.mode)&&(h=null!==b.memoizedState?b.child.child:b.child,h!==a.child))for(c.child=h;null!==h;)h.return=c,h=h.sibling;return e=ge(e,f),e.return=b,c.sibling=e,c.childExpirationTime=0,b.memoizedState=Ei,b.child=c,e}return c=hi(b,a.child,f.children,c),b.memoizedState=null,b.child=c}if(a=a.child,h){if(h=f.fallback,f=ie(null,e,0,null),f.return=b,f.child=a,null!==a&&(a.return=f),0===(2&b.mode))for(a=null!==b.memoizedState?b.child.child:b.child,f.child=a;null!==a;)a.return=f,a=a.sibling;return c=ie(h,e,c,null),c.return=b,f.sibling=c,c.effectTag|=2,f.childExpirationTime=0,b.memoizedState=Ei,b.child=f,c}return b.memoizedState=null,b.child=hi(b,a,f.children,c)}function bd(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b),Sb(a.return,b)}function cd(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailExpiration:0,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailExpiration=0,g.tailMode=e,g.lastEffect=f)}function dd(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;if(Tc(a,b,d.children,c),d=ni.current,0!==(2&d))d=1&d|2,b.effectTag|=64;else{if(null!==a&&0!==(64&a.effectTag))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&bd(a,c);else if(19===a.tag)bd(a,c);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}if(Ab(ni,d),0===(2&b.mode))b.memoizedState=null;else switch(e){case"forwards":for(c=b.child,e=null;null!==c;)a=c.alternate,null!==a&&null===nc(a)&&(e=c),c=c.sibling;c=e,null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null),cd(b,!1,e,c,f,b.lastEffect);break;case"backwards":for(c=null,e=b.child,b.child=null;null!==e;){if(a=e.alternate,null!==a&&null===nc(a)){b.child=e;break}a=e.sibling,e.sibling=c,c=e,e=a}cd(b,!0,c,null,f,b.lastEffect);break;case"together":cd(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}function ed(a,b,d){null!==a&&(b.dependencies=a.dependencies);var e=b.expirationTime;if(0!==e&&Pd(e),b.childExpirationTime<d)return null;if(null!==a&&b.child!==a.child)throw Error(c(153));if(null!==b.child){for(a=b.child,d=ge(a,a.pendingProps),b.child=d,d.return=b;null!==a.sibling;)a=a.sibling,d=d.sibling=ge(a,a.pendingProps),d.return=b;d.sibling=null}return b.child}function fd(a,b){switch(a.tailMode){case"hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}function gd(a,b,d){var e=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Cb(b.type)&&(zb(Fh),zb(Eh)),null;case 3:return kc(),zb(Fh),zb(Eh),d=b.stateNode,d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),null!==a&&null!==a.child||!Rc(b)||(b.effectTag|=4),Gi(b),null;case 5:mc(b),d=ic(mi.current);var f=b.type;if(null!==a&&null!=b.stateNode)Hi(a,b,f,e,d),a.ref!==b.ref&&(b.effectTag|=128);else{if(!e){if(null===b.stateNode)throw Error(c(166));return null}if(a=ic(ki.current),Rc(b)){e=b.stateNode,f=b.type;var g=b.memoizedProps;switch(e[Bg]=b,e[Cg]=g,f){case"iframe":case"object":case"embed":sa("load",e);break;case"video":case"audio":for(a=0;a<Vf.length;a++)sa(Vf[a],e);break;case"source":sa("error",e);break;case"img":case"image":case"link":sa("error",e),sa("load",e);break;case"form":sa("reset",e),sa("submit",e);break;case"details":sa("toggle",e);break;case"input":D(e,g),sa("invalid",e),Ca(d,"onChange");break;case"select":e._wrapperState={wasMultiple:!!g.multiple},sa("invalid",e),Ca(d,"onChange");break;case"textarea":M(e,g),sa("invalid",e),Ca(d,"onChange")}Aa(f,g),a=null;for(var h in g)if(g.hasOwnProperty(h)){var i=g[h];"children"===h?"string"==typeof i?e.textContent!==i&&(a=["children",i]):"number"==typeof i&&e.textContent!==""+i&&(a=["children",""+i]):Ne.hasOwnProperty(h)&&null!=i&&Ca(d,h)}switch(f){case"input":A(e),G(e,g,!0);break;case"textarea":A(e),O(e);break;case"select":case"option":break;default:"function"==typeof g.onClick&&(e.onclick=Da)}d=a,b.updateQueue=d,null!==d&&(b.effectTag|=4)}else{switch(h=9===d.nodeType?d:d.ownerDocument,"http://www.w3.org/1999/xhtml"===a&&(a=P(f)),"http://www.w3.org/1999/xhtml"===a?"script"===f?(a=h.createElement("div"),a.innerHTML="<script></script>",a=a.removeChild(a.firstChild)):"string"==typeof e.is?a=h.createElement(f,{is:e.is}):(a=h.createElement(f),"select"===f&&(h=a,e.multiple?h.multiple=!0:e.size&&(h.size=e.size))):a=h.createElementNS(a,f),a[Bg]=b,a[Cg]=e,Fi(a,b,!1,!1),b.stateNode=a,h=Ba(f,e),f){case"iframe":case"object":case"embed":sa("load",a),i=e;break;case"video":case"audio":for(i=0;i<Vf.length;i++)sa(Vf[i],a);i=e;break;case"source":sa("error",a),i=e;break;case"img":case"image":case"link":sa("error",a),sa("load",a),i=e;break;case"form":sa("reset",a),sa("submit",a),i=e;break;case"details":sa("toggle",a),i=e;break;case"input":D(a,e),i=C(a,e),sa("invalid",a),Ca(d,"onChange");break;case"option":i=J(a,e);break;case"select":a._wrapperState={wasMultiple:!!e.multiple},i=Qe({},e,{value:void 0}),sa("invalid",a),Ca(d,"onChange");break;case"textarea":M(a,e),i=L(a,e),sa("invalid",a),Ca(d,"onChange");break;default:i=e}Aa(f,i);var j=i;for(g in j)if(j.hasOwnProperty(g)){var k=j[g];"style"===g?za(a,k):"dangerouslySetInnerHTML"===g?(k=k?k.__html:void 0,null!=k&&Mf(a,k)):"children"===g?"string"==typeof k?("textarea"!==f||""!==k)&&Nf(a,k):"number"==typeof k&&Nf(a,""+k):"suppressContentEditableWarning"!==g&&"suppressHydrationWarning"!==g&&"autoFocus"!==g&&(Ne.hasOwnProperty(g)?null!=k&&Ca(d,g):null!=k&&s(a,g,k,h))}switch(f){case"input":A(a),G(a,e,!1);break;case"textarea":A(a),O(a);break;case"option":null!=e.value&&a.setAttribute("value",""+x(e.value));break;case"select":a.multiple=!!e.multiple,d=e.value,null!=d?K(a,!!e.multiple,d,!1):null!=e.defaultValue&&K(a,!!e.multiple,e.defaultValue,!0);break;default:"function"==typeof i.onClick&&(a.onclick=Da)}Ka(f,e)&&(b.effectTag|=4)}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(a&&null!=b.stateNode)Ii(a,b,a.memoizedProps,e);else{if("string"!=typeof e&&null===b.stateNode)throw Error(c(166));d=ic(mi.current),ic(ki.current),Rc(b)?(d=b.stateNode,e=b.memoizedProps,d[Bg]=b,d.nodeValue!==e&&(b.effectTag|=4)):(d=(9===d.nodeType?d:d.ownerDocument).createTextNode(e),d[Bg]=b,b.stateNode=d)}return null;case 13:return zb(ni),e=b.memoizedState,0!==(64&b.effectTag)?(b.expirationTime=d,b):(d=null!==e,e=!1,null===a?void 0!==b.memoizedProps.fallback&&Rc(b):(f=a.memoizedState,e=null!==f,d||null===f||(f=a.child.sibling,null!==f&&(g=b.firstEffect,null!==g?(b.firstEffect=f,f.nextEffect=g):(b.firstEffect=b.lastEffect=f,f.nextEffect=null),f.effectTag=8))),d&&!e&&0!==(2&b.mode)&&(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(1&ni.current)?aj===Si&&(aj=Vi):(aj!==Si&&aj!==Vi||(aj=Wi),0!==fj&&null!==Zi&&(ne(Zi,_i),oe(Zi,fj)))),(d||e)&&(b.effectTag|=4),null);case 4:return kc(),Gi(b),null;case 10:return Rb(b),null;case 17:return Cb(b.type)&&(zb(Fh),zb(Eh)),null;case 19:if(zb(ni),e=b.memoizedState,null===e)return null;if(f=0!==(64&b.effectTag),g=e.rendering,null===g){if(f)fd(e,!1);else if(aj!==Si||null!==a&&0!==(64&a.effectTag))for(g=b.child;null!==g;){if(a=nc(g),null!==a){for(b.effectTag|=64,fd(e,!1),f=a.updateQueue,null!==f&&(b.updateQueue=f,b.effectTag|=4),null===e.lastEffect&&(b.firstEffect=null),b.lastEffect=e.lastEffect,e=b.child;null!==e;)f=e,g=d,f.effectTag&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,a=f.alternate,null===a?(f.childExpirationTime=0,f.expirationTime=g,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null):(f.childExpirationTime=a.childExpirationTime,f.expirationTime=a.expirationTime,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,g=a.dependencies,f.dependencies=null===g?null:{expirationTime:g.expirationTime,firstContext:g.firstContext,responders:g.responders}),e=e.sibling;return Ab(ni,1&ni.current|2),b.child}g=g.sibling}}else{if(!f)if(a=nc(g),null!==a){if(b.effectTag|=64,f=!0,d=a.updateQueue,null!==d&&(b.updateQueue=d,b.effectTag|=4),fd(e,!0),null===e.tail&&"hidden"===e.tailMode&&!g.alternate)return b=b.lastEffect=e.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*Xh()-e.renderingStartTime>e.tailExpiration&&1<d&&(b.effectTag|=64,f=!0,fd(e,!1),b.expirationTime=b.childExpirationTime=d-1);e.isBackwards?(g.sibling=b.child,b.child=g):(d=e.last,null!==d?d.sibling=g:b.child=g,e.last=g)}return null!==e.tail?(0===e.tailExpiration&&(e.tailExpiration=Xh()+500),d=e.tail,e.rendering=d,e.tail=d.sibling,e.lastEffect=b.lastEffect,e.renderingStartTime=Xh(),d.sibling=null,b=ni.current,Ab(ni,f?1&b|2:1&b),d):null}throw Error(c(156,b.tag))}function hd(a,b){switch(a.tag){case 1:return Cb(a.type)&&(zb(Fh),zb(Eh)),b=a.effectTag,4096&b?(a.effectTag=b&-4097|64,a):null;case 3:if(kc(),zb(Fh),zb(Eh),b=a.effectTag,0!==(64&b))throw Error(c(285));return a.effectTag=b&-4097|64,a;case 5:return mc(a),null;case 13:return zb(ni),b=a.effectTag,4096&b?(a.effectTag=b&-4097|64,a):null;case 19:return zb(ni),null;case 4:return kc(),null;case 10:return Rb(a),null;default:return null}}function id(a,b){return{value:a,source:b,stack:w(b)}}function jd(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=w(c)),null!==c&&v(c.type),b=b.value,null!==a&&1===a.tag&&v(a.type);try{}catch(a){setTimeout(function(){throw a})}}function kd(a,b){try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(b){_d(a,b)}}function ld(a){var b=a.ref;if(null!==b)if("function"==typeof b)try{b(null)}catch(b){_d(a,b)}else b.current=null}function md(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&b.effectTag&&null!==a){var d=a.memoizedProps,e=a.memoizedState;a=b.stateNode,b=a.getSnapshotBeforeUpdate(b.elementType===b.type?d:Pb(b.type,d),e),a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(c(163))}function nd(a,b){if(b=b.updateQueue,b=null!==b?b.lastEffect:null,null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.destroy;c.destroy=void 0,void 0!==d&&d()}c=c.next}while(c!==b)}}function od(a,b){if(b=b.updateQueue,b=null!==b?b.lastEffect:null,null!==b){var c=b=b.next;
do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function pd(a,b,d,e){switch(d.tag){case 0:case 11:case 15:case 22:return void od(3,d);case 1:return a=d.stateNode,4&d.effectTag&&(null===b?a.componentDidMount():(e=d.elementType===d.type?b.memoizedProps:Pb(d.type,b.memoizedProps),a.componentDidUpdate(e,b.memoizedState,a.__reactInternalSnapshotBeforeUpdate))),b=d.updateQueue,void(null!==b&&_b(d,b,a));case 3:if(b=d.updateQueue,null!==b){if(a=null,null!==d.child)switch(d.child.tag){case 5:a=d.child.stateNode;break;case 1:a=d.child.stateNode}_b(d,b,a)}return;case 5:return a=d.stateNode,void(null===b&&4&d.effectTag&&Ka(d.type,d.memoizedProps)&&a.focus());case 6:return;case 4:return;case 12:return;case 13:return void(null===d.memoizedState&&(d=d.alternate,null!==d&&(d=d.memoizedState,null!==d&&(d=d.dehydrated,null!==d&&qa(d)))));case 19:case 17:case 20:case 21:return}throw Error(c(163))}function qd(a,b,c){switch("function"==typeof xj&&xj(b),b.tag){case 0:case 11:case 14:case 15:case 22:if(a=b.updateQueue,null!==a&&(a=a.lastEffect,null!==a)){var d=a.next;Jb(97<c?97:c,function(){var a=d;do{var c=a.destroy;if(void 0!==c){var e=b;try{c()}catch(a){_d(e,a)}}a=a.next}while(a!==d)})}break;case 1:ld(b),c=b.stateNode,"function"==typeof c.componentWillUnmount&&kd(b,c);break;case 5:ld(b);break;case 4:wd(a,b,c)}}function rd(a){var b=a.alternate;a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.alternate=null,a.firstEffect=null,a.lastEffect=null,a.pendingProps=null,a.memoizedProps=null,a.stateNode=null,null!==b&&rd(b)}function sd(a){return 5===a.tag||3===a.tag||4===a.tag}function td(a){a:{for(var b=a.return;null!==b;){if(sd(b)){var d=b;break a}b=b.return}throw Error(c(160))}switch(b=d.stateNode,d.tag){case 5:var e=!1;break;case 3:b=b.containerInfo,e=!0;break;case 4:b=b.containerInfo,e=!0;break;default:throw Error(c(161))}16&d.effectTag&&(Nf(b,""),d.effectTag&=-17);a:b:for(d=a;;){for(;null===d.sibling;){if(null===d.return||sd(d.return)){d=null;break a}d=d.return}for(d.sibling.return=d.return,d=d.sibling;5!==d.tag&&6!==d.tag&&18!==d.tag;){if(2&d.effectTag)continue b;if(null===d.child||4===d.tag)continue b;d.child.return=d,d=d.child}if(!(2&d.effectTag)){d=d.stateNode;break a}}e?ud(a,d,b):vd(a,d,b)}function ud(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Da));else if(4!==d&&(a=a.child,null!==a))for(ud(a,b,c),a=a.sibling;null!==a;)ud(a,b,c),a=a.sibling}function vd(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(vd(a,b,c),a=a.sibling;null!==a;)vd(a,b,c),a=a.sibling}function wd(a,b,d){for(var e,f,g=b,h=!1;;){if(!h){h=g.return;a:for(;;){if(null===h)throw Error(c(160));switch(e=h.stateNode,h.tag){case 5:f=!1;break a;case 3:e=e.containerInfo,f=!0;break a;case 4:e=e.containerInfo,f=!0;break a}h=h.return}h=!0}if(5===g.tag||6===g.tag){a:for(var i=a,j=g,k=d,l=j;;)if(qd(i,l,k),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===j)break a;for(;null===l.sibling;){if(null===l.return||l.return===j)break a;l=l.return}l.sibling.return=l.return,l=l.sibling}f?(i=e,j=g.stateNode,8===i.nodeType?i.parentNode.removeChild(j):i.removeChild(j)):e.removeChild(g.stateNode)}else if(4===g.tag){if(null!==g.child){e=g.stateNode.containerInfo,f=!0,g.child.return=g,g=g.child;continue}}else if(qd(a,g,d),null!==g.child){g.child.return=g,g=g.child;continue}if(g===b)break;for(;null===g.sibling;){if(null===g.return||g.return===b)return;g=g.return,4===g.tag&&(h=!1)}g.sibling.return=g.return,g=g.sibling}}function xd(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:return void nd(3,b);case 1:return;case 5:var d=b.stateNode;if(null!=d){var e=b.memoizedProps,f=null!==a?a.memoizedProps:e;a=b.type;var g=b.updateQueue;if(b.updateQueue=null,null!==g){for(d[Cg]=e,"input"===a&&"radio"===e.type&&null!=e.name&&E(d,e),Ba(a,f),b=Ba(a,e),f=0;f<g.length;f+=2){var h=g[f],i=g[f+1];"style"===h?za(d,i):"dangerouslySetInnerHTML"===h?Mf(d,i):"children"===h?Nf(d,i):s(d,h,i,b)}switch(a){case"input":F(d,e);break;case"textarea":N(d,e);break;case"select":b=d._wrapperState.wasMultiple,d._wrapperState.wasMultiple=!!e.multiple,a=e.value,null!=a?K(d,!!e.multiple,a,!1):b!==!!e.multiple&&(null!=e.defaultValue?K(d,!!e.multiple,e.defaultValue,!0):K(d,!!e.multiple,e.multiple?[]:"",!1))}}}return;case 6:if(null===b.stateNode)throw Error(c(162));return void(b.stateNode.nodeValue=b.memoizedProps);case 3:return b=b.stateNode,void(b.hydrate&&(b.hydrate=!1,qa(b.containerInfo)));case 12:return;case 13:if(d=b,null===b.memoizedState?e=!1:(e=!0,d=b.child,hj=Xh()),null!==d)a:for(a=d;;){if(5===a.tag)g=a.stateNode,e?(g=g.style,"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"):(g=a.stateNode,f=a.memoizedProps.style,f=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null,g.style.display=ya("display",f));else if(6===a.tag)a.stateNode.nodeValue=e?"":a.memoizedProps;else{if(13===a.tag&&null!==a.memoizedState&&null===a.memoizedState.dehydrated){g=a.child.sibling,g.return=a,a=g;continue}if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===d)break;for(;null===a.sibling;){if(null===a.return||a.return===d)break a;a=a.return}a.sibling.return=a.return,a=a.sibling}return void yd(b);case 19:return void yd(b);case 17:return}throw Error(c(163))}function yd(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ji),b.forEach(function(b){var d=be.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}function zd(a,b,c){c=Xb(c,null),c.tag=3,c.payload={element:null};var d=b.value;return c.callback=function(){kj||(kj=!0,lj=d),jd(a,b)},c}function Ad(a,b,c){c=Xb(c,null),c.tag=3;var d=a.type.getDerivedStateFromError;if("function"==typeof d){var e=b.value;c.payload=function(){return jd(a,b),d(e)}}var f=a.stateNode;return null!==f&&"function"==typeof f.componentDidCatch&&(c.callback=function(){"function"!=typeof d&&(null===mj?mj=new Set([this]):mj.add(this),jd(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})}),c}function Bd(){return(Yi&(Qi|Ri))!==Oi?1073741821-(Xh()/10|0):0!==tj?tj:tj=1073741821-(Xh()/10|0)}function Cd(a,b,d){if(b=b.mode,0===(2&b))return 1073741823;var e=Hb();if(0===(4&b))return 99===e?1073741823:1073741822;if((Yi&Qi)!==Oi)return _i;if(null!==d)a=Ob(a,0|d.timeoutMs||5e3,250);else switch(e){case 99:a=1073741823;break;case 98:a=Ob(a,150,100);break;case 97:case 96:a=Ob(a,5e3,250);break;case 95:a=2;break;default:throw Error(c(326))}return null!==Zi&&a===_i&&--a,a}function Dd(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){if(c=d.alternate,d.childExpirationTime<b&&(d.childExpirationTime=b),null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b),null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}return null!==e&&(Zi===e&&(Pd(b),aj===Wi&&ne(e,_i)),oe(e,b)),e}function Ed(a){var b=a.lastExpiredTime;if(0!==b)return b;if(b=a.firstPendingTime,!me(a,b))return b;var c=a.lastPingedTime;return a=a.nextKnownPendingLevel,a=c>a?c:a,2>=a&&b!==a?0:a}function Fd(a){if(0!==a.lastExpiredTime)a.callbackExpirationTime=1073741823,a.callbackPriority=99,a.callbackNode=Lb(Hd.bind(null,a));else{var b=Ed(a),c=a.callbackNode;if(0===b)null!==c&&(a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90);else{var d=Bd();if(1073741823===b?d=99:1===b||2===b?d=95:(d=10*(1073741821-b)-10*(1073741821-d),d=0>=d?99:250>=d?98:5250>=d?97:95),null!==c){var e=a.callbackPriority;if(a.callbackExpirationTime===b&&e>=d)return;c!==Qh&&Jh(c)}a.callbackExpirationTime=b,a.callbackPriority=d,b=1073741823===b?Lb(Hd.bind(null,a)):Kb(d,Gd.bind(null,a),{timeout:10*(1073741821-b)-Xh()}),a.callbackNode=b}}}function Gd(a,b){if(tj=0,b)return b=Bd(),pe(a,b),Fd(a),null;var d=Ed(a);if(0!==d){if(b=a.callbackNode,(Yi&(Qi|Ri))!==Oi)throw Error(c(327));if(Yd(),a===Zi&&d===_i||Ld(a,d),null!==$i){var e=Yi;Yi|=Qi;for(var f=Nd();;)try{Rd();break}catch(b){Md(a,b)}if(Qb(),Yi=e,Mi.current=f,aj===Ti)throw b=bj,Ld(a,d),ne(a,d),Fd(a),b;if(null===$i)switch(f=a.finishedWork=a.current.alternate,a.finishedExpirationTime=d,e=aj,Zi=null,e){case Si:case Ti:throw Error(c(345));case Ui:pe(a,2<d?2:d);break;case Vi:if(ne(a,d),e=a.lastSuspendedTime,d===e&&(a.nextKnownPendingLevel=Ud(f)),1073741823===cj&&(f=hj+ij-Xh(),10<f)){if(gj){var g=a.lastPingedTime;if(0===g||g>=d){a.lastPingedTime=d,Ld(a,d);break}}if(g=Ed(a),0!==g&&g!==d)break;if(0!==e&&e!==d){a.lastPingedTime=e;break}a.timeoutHandle=yg(Vd.bind(null,a),f);break}Vd(a);break;case Wi:if(ne(a,d),e=a.lastSuspendedTime,d===e&&(a.nextKnownPendingLevel=Ud(f)),gj&&(f=a.lastPingedTime,0===f||f>=d)){a.lastPingedTime=d,Ld(a,d);break}if(f=Ed(a),0!==f&&f!==d)break;if(0!==e&&e!==d){a.lastPingedTime=e;break}if(1073741823!==dj?e=10*(1073741821-dj)-Xh():1073741823===cj?e=0:(e=10*(1073741821-cj)-5e3,f=Xh(),d=10*(1073741821-d)-f,e=f-e,0>e&&(e=0),e=(120>e?120:480>e?480:1080>e?1080:1920>e?1920:3e3>e?3e3:4320>e?4320:1960*Li(e/1960))-e,d<e&&(e=d)),10<e){a.timeoutHandle=yg(Vd.bind(null,a),e);break}Vd(a);break;case Xi:if(1073741823!==cj&&null!==ej){g=cj;var h=ej;if(e=0|h.busyMinDurationMs,0>=e?e=0:(f=0|h.busyDelayMs,g=Xh()-(10*(1073741821-g)-(0|h.timeoutMs||5e3)),e=g<=f?0:f+e-g),10<e){ne(a,d),a.timeoutHandle=yg(Vd.bind(null,a),e);break}}Vd(a);break;default:throw Error(c(329))}if(Fd(a),a.callbackNode===b)return Gd.bind(null,a)}}return null}function Hd(a){var b=a.lastExpiredTime;if(b=0!==b?b:1073741823,(Yi&(Qi|Ri))!==Oi)throw Error(c(327));if(Yd(),a===Zi&&b===_i||Ld(a,b),null!==$i){var d=Yi;Yi|=Qi;for(var e=Nd();;)try{Qd();break}catch(b){Md(a,b)}if(Qb(),Yi=d,Mi.current=e,aj===Ti)throw d=bj,Ld(a,b),ne(a,b),Fd(a),d;if(null!==$i)throw Error(c(261));a.finishedWork=a.current.alternate,a.finishedExpirationTime=b,Zi=null,Vd(a),Fd(a)}return null}function Id(){if(null!==qj){var a=qj;qj=null,a.forEach(function(a,b){pe(b,a),Fd(b)}),Mb()}}function Jd(a,b){var c=Yi;Yi|=1;try{return a(b)}finally{Yi=c,Yi===Oi&&Mb()}}function Kd(a,b){var c=Yi;Yi&=-2,Yi|=Pi;try{return a(b)}finally{Yi=c,Yi===Oi&&Mb()}}function Ld(a,b){a.finishedWork=null,a.finishedExpirationTime=0;var c=a.timeoutHandle;if(-1!==c&&(a.timeoutHandle=-1,zg(c)),null!==$i)for(c=$i.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes,null!==d&&void 0!==d&&(zb(Fh),zb(Eh));break;case 3:kc(),zb(Fh),zb(Eh);break;case 5:mc(d);break;case 4:kc();break;case 13:zb(ni);break;case 19:zb(ni);break;case 10:Rb(d)}c=c.return}Zi=a,$i=ge(a.current,null),_i=b,aj=Si,bj=null,dj=cj=1073741823,ej=null,fj=0,gj=!1}function Md(a,b){for(;;){try{if(Qb(),oi.current=vi,ui)for(var c=ri.memoizedState;null!==c;){var d=c.queue;null!==d&&(d.pending=null),c=c.next}if(qi=0,ti=si=ri=null,ui=!1,null===$i||null===$i.return)return aj=Ti,bj=b,$i=null;a:{var e=a,f=$i.return,g=$i,h=b;if(b=_i,g.effectTag|=2048,g.firstEffect=g.lastEffect=null,null!==h&&"object"==typeof h&&"function"==typeof h.then){var i=h;if(0===(2&g.mode)){var j=g.alternate;j?(g.updateQueue=j.updateQueue,g.memoizedState=j.memoizedState,g.expirationTime=j.expirationTime):(g.updateQueue=null,g.memoizedState=null)}var k=0!==(1&ni.current),l=f;do{var m;if(m=13===l.tag){var n=l.memoizedState;if(null!==n)m=null!==n.dehydrated;else{var o=l.memoizedProps;m=void 0!==o.fallback&&(!0!==o.unstable_avoidThisFallback||!k)}}if(m){var p=l.updateQueue;if(null===p){var q=new Set;q.add(i),l.updateQueue=q}else p.add(i);if(0===(2&l.mode)){if(l.effectTag|=64,g.effectTag&=-2981,1===g.tag)if(null===g.alternate)g.tag=17;else{var r=Xb(1073741823,null);r.tag=bi,Yb(g,r)}g.expirationTime=1073741823;break a}h=void 0,g=b;var s=e.pingCache;if(null===s?(s=e.pingCache=new Ki,h=new Set,s.set(i,h)):(h=s.get(i),void 0===h&&(h=new Set,s.set(i,h))),!h.has(g)){h.add(g);var t=ae.bind(null,e,i,g);i.then(t,t)}l.effectTag|=4096,l.expirationTime=b;break a}l=l.return}while(null!==l);h=Error((v(g.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+w(g))}aj!==Xi&&(aj=Ui),h=id(h,g),l=f;do{switch(l.tag){case 3:i=h,l.effectTag|=4096,l.expirationTime=b;var u=zd(l,i,b);Zb(l,u);break a;case 1:i=h;var x=l.type,y=l.stateNode;if(0===(64&l.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===mj||!mj.has(y)))){l.effectTag|=4096,l.expirationTime=b;var z=Ad(l,i,b);Zb(l,z);break a}}l=l.return}while(null!==l)}$i=Td($i)}catch(a){b=a;continue}break}}function Nd(a){return a=Mi.current,Mi.current=vi,null===a?vi:a}function Od(a,b){a<cj&&2<a&&(cj=a),null!==b&&a<dj&&2<a&&(dj=a,ej=b)}function Pd(a){a>fj&&(fj=a)}function Qd(){for(;null!==$i;)$i=Sd($i)}function Rd(){for(;null!==$i&&!Rh();)$i=Sd($i)}function Sd(a){var b=vj(a.alternate,a,_i);return a.memoizedProps=a.pendingProps,null===b&&(b=Td(a)),Ni.current=null,b}function Td(a){$i=a;do{var b=$i.alternate;if(a=$i.return,0===(2048&$i.effectTag)){if(b=gd(b,$i,_i),1===_i||1!==$i.childExpirationTime){for(var c=0,d=$i.child;null!==d;){var e=d.expirationTime,f=d.childExpirationTime;e>c&&(c=e),f>c&&(c=f),d=d.sibling}$i.childExpirationTime=c}if(null!==b)return b;null!==a&&0===(2048&a.effectTag)&&(null===a.firstEffect&&(a.firstEffect=$i.firstEffect),null!==$i.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=$i.firstEffect),a.lastEffect=$i.lastEffect),1<$i.effectTag&&(null!==a.lastEffect?a.lastEffect.nextEffect=$i:a.firstEffect=$i,a.lastEffect=$i))}else{if(b=hd($i),null!==b)return b.effectTag&=2047,b;null!==a&&(a.firstEffect=a.lastEffect=null,a.effectTag|=2048)}if(b=$i.sibling,null!==b)return b;$i=a}while(null!==$i);return aj===Si&&(aj=Xi),null}function Ud(a){var b=a.expirationTime;return a=a.childExpirationTime,b>a?b:a}function Vd(a){var b=Hb();return Jb(99,Wd.bind(null,a,b)),null}function Wd(a,b){do Yd();while(null!==oj);if((Yi&(Qi|Ri))!==Oi)throw Error(c(327));var d=a.finishedWork,e=a.finishedExpirationTime;if(null===d)return null;if(a.finishedWork=null,a.finishedExpirationTime=0,d===a.current)throw Error(c(177));a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90,a.nextKnownPendingLevel=0;var f=Ud(d);if(a.firstPendingTime=f,e<=a.lastSuspendedTime?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:e<=a.firstSuspendedTime&&(a.firstSuspendedTime=e-1),e<=a.lastPingedTime&&(a.lastPingedTime=0),e<=a.lastExpiredTime&&(a.lastExpiredTime=0),a===Zi&&($i=Zi=null,_i=0),1<d.effectTag?null!==d.lastEffect?(d.lastEffect.nextEffect=d,f=d.firstEffect):f=d:f=d.firstEffect,null!==f){var g=Yi;Yi|=Ri,Ni.current=null,wg=og;var h=Ia();if(Ja(h)){if("selectionStart"in h)var i={start:h.selectionStart,end:h.selectionEnd};else a:{i=(i=h.ownerDocument)&&i.defaultView||window;var j=i.getSelection&&i.getSelection();if(j&&0!==j.rangeCount){i=j.anchorNode;var k=j.anchorOffset,l=j.focusNode;j=j.focusOffset;try{i.nodeType,l.nodeType}catch(a){i=null;break a}var m=0,n=-1,o=-1,p=0,q=0,r=h,s=null;b:for(;;){for(var t;r!==i||0!==k&&3!==r.nodeType||(n=m+k),r!==l||0!==j&&3!==r.nodeType||(o=m+j),3===r.nodeType&&(m+=r.nodeValue.length),null!==(t=r.firstChild);)s=r,r=t;for(;;){if(r===h)break b;if(s===i&&++p===k&&(n=m),s===l&&++q===j&&(o=m),null!==(t=r.nextSibling))break;r=s,s=r.parentNode}r=t}i=-1===n||-1===o?null:{start:n,end:o}}else i=null}i=i||{start:0,end:0}}else i=null;xg={activeElementDetached:null,focusedElem:h,selectionRange:i},og=!1,jj=f;do try{Xd()}catch(a){if(null===jj)throw Error(c(330));_d(jj,a),jj=jj.nextEffect}while(null!==jj);jj=f;do try{for(h=a,i=b;null!==jj;){var u=jj.effectTag;if(16&u&&Nf(jj.stateNode,""),128&u){var v=jj.alternate;if(null!==v){var w=v.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&u){case 2:td(jj),jj.effectTag&=-3;break;case 6:td(jj),jj.effectTag&=-3,xd(jj.alternate,jj);break;case 1024:jj.effectTag&=-1025;break;case 1028:jj.effectTag&=-1025,xd(jj.alternate,jj);break;case 4:xd(jj.alternate,jj);break;case 8:k=jj,wd(h,k,i),rd(k)}jj=jj.nextEffect}}catch(a){if(null===jj)throw Error(c(330));_d(jj,a),jj=jj.nextEffect}while(null!==jj);if(w=xg,v=Ia(),u=w.focusedElem,i=w.selectionRange,v!==u&&u&&u.ownerDocument&&Ha(u.ownerDocument.documentElement,u)){null!==i&&Ja(u)&&(v=i.start,w=i.end,void 0===w&&(w=v),"selectionStart"in u?(u.selectionStart=v,u.selectionEnd=Math.min(w,u.value.length)):(w=(v=u.ownerDocument||document)&&v.defaultView||window,w.getSelection&&(w=w.getSelection(),k=u.textContent.length,h=Math.min(i.start,k),i=void 0===i.end?h:Math.min(i.end,k),!w.extend&&h>i&&(k=i,i=h,h=k),k=Ga(u,h),l=Ga(u,i),k&&l&&(1!==w.rangeCount||w.anchorNode!==k.node||w.anchorOffset!==k.offset||w.focusNode!==l.node||w.focusOffset!==l.offset)&&(v=v.createRange(),v.setStart(k.node,k.offset),w.removeAllRanges(),h>i?(w.addRange(v),w.extend(l.node,l.offset)):(v.setEnd(l.node,l.offset),w.addRange(v)))))),v=[];for(w=u;w=w.parentNode;)1===w.nodeType&&v.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof u.focus&&u.focus(),u=0;u<v.length;u++)w=v[u],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}og=!!wg,xg=wg=null,a.current=d,jj=f;do try{for(u=a;null!==jj;){var x=jj.effectTag;if(36&x&&pd(u,jj.alternate,jj),128&x){v=void 0;var y=jj.ref;if(null!==y){var z=jj.stateNode;switch(jj.tag){case 5:v=z;break;default:v=z}"function"==typeof y?y(v):y.current=v}}jj=jj.nextEffect}}catch(a){if(null===jj)throw Error(c(330));_d(jj,a),jj=jj.nextEffect}while(null!==jj);jj=null,Sh(),Yi=g}else a.current=d;if(nj)nj=!1,oj=a,pj=b;else for(jj=f;null!==jj;)b=jj.nextEffect,jj.nextEffect=null,jj=b;if(b=a.firstPendingTime,0===b&&(mj=null),1073741823===b?a===sj?rj++:(rj=0,sj=a):rj=0,"function"==typeof wj&&wj(d.stateNode,e),Fd(a),kj)throw kj=!1,a=lj,lj=null,a;return(Yi&Pi)!==Oi?null:(Mb(),null)}function Xd(){for(;null!==jj;){var a=jj.effectTag;0!==(256&a)&&md(jj.alternate,jj),0===(512&a)||nj||(nj=!0,Kb(97,function(){return Yd(),null})),jj=jj.nextEffect}}function Yd(){if(90!==pj){var a=97<pj?97:pj;return pj=90,Jb(a,Zd)}}function Zd(){if(null===oj)return!1;var a=oj;if(oj=null,(Yi&(Qi|Ri))!==Oi)throw Error(c(331));var b=Yi;for(Yi|=Ri,a=a.current.firstEffect;null!==a;){try{var d=a;if(0!==(512&d.effectTag))switch(d.tag){case 0:case 11:case 15:case 22:nd(5,d),od(5,d)}}catch(b){if(null===a)throw Error(c(330));_d(a,b)}d=a.nextEffect,a.nextEffect=null,a=d}return Yi=b,Mb(),!0}function $d(a,b,c){b=id(c,b),b=zd(a,b,1073741823),Yb(a,b),a=Dd(a,1073741823),null!==a&&Fd(a)}function _d(a,b){if(3===a.tag)$d(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){$d(c,a,b);break}if(1===c.tag){var d=c.stateNode;if("function"==typeof c.type.getDerivedStateFromError||"function"==typeof d.componentDidCatch&&(null===mj||!mj.has(d))){a=id(b,a),a=Ad(c,a,1073741823),Yb(c,a),c=Dd(c,1073741823),null!==c&&Fd(c);break}}c=c.return}}function ae(a,b,c){var d=a.pingCache;null!==d&&d.delete(b),Zi===a&&_i===c?aj===Wi||aj===Vi&&1073741823===cj&&Xh()-hj<ij?Ld(a,_i):gj=!0:me(a,c)&&(b=a.lastPingedTime,0!==b&&b<c||(a.lastPingedTime=c,Fd(a)))}function be(a,b){var c=a.stateNode;null!==c&&c.delete(b),b=0,0===b&&(b=Bd(),b=Cd(b,a,null)),a=Dd(a,b),null!==a&&Fd(a)}function ce(a){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);wj=function(a,d){try{b.onCommitFiberRoot(c,a,void 0,64===(64&a.current.effectTag))}catch(a){}},xj=function(a){try{b.onCommitFiberUnmount(c,a)}catch(a){}}}catch(a){}return!0}function de(a,b,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ee(a){return a=a.prototype,!(!a||!a.isReactComponent)}function fe(a){if("function"==typeof a)return ee(a)?1:0;if(void 0!==a&&null!==a){if(a=a.$$typeof,a===Ff)return 11;if(a===If)return 14}return 2}function ge(a,b){var c=a.alternate;return null===c?(c=yj(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null),c.childExpirationTime=a.childExpirationTime,c.expirationTime=a.expirationTime,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,b=a.dependencies,c.dependencies=null===b?null:{expirationTime:b.expirationTime,firstContext:b.firstContext,responders:b.responders},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function he(a,b,d,e,f,g){var h=2;if(e=a,"function"==typeof a)ee(a)&&(h=1);else if("string"==typeof a)h=5;else a:switch(a){case zf:return ie(d.children,f,g,b);case Ef:h=8,f|=7;break;case Af:h=8,f|=1;break;case Bf:return a=yj(12,d,b,8|f),a.elementType=Bf,a.type=Bf,a.expirationTime=g,a;case Gf:return a=yj(13,d,b,f),a.type=Gf,a.elementType=Gf,a.expirationTime=g,a;case Hf:return a=yj(19,d,b,f),a.elementType=Hf,a.expirationTime=g,a;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case Cf:h=10;break a;case Df:h=9;break a;case Ff:h=11;break a;case If:h=14;break a;case Jf:h=16,e=null;break a;case Kf:h=22;break a}throw Error(c(130,null==a?a:typeof a,""))}return b=yj(h,d,b,f),b.elementType=a,b.type=e,b.expirationTime=g,b}function ie(a,b,c,d){return a=yj(7,a,d,b),a.expirationTime=c,a}function je(a,b,c){return a=yj(6,a,null,b),a.expirationTime=c,a}function ke(a,b,c){return b=yj(4,null!==a.children?a.children:[],a.key,b),b.expirationTime=c,b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},b}function le(a,b,c){this.tag=b,this.current=null,this.containerInfo=a,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=c,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function me(a,b){var c=a.firstSuspendedTime;return a=a.lastSuspendedTime,0!==c&&c>=b&&a<=b}function ne(a,b){var c=a.firstSuspendedTime,d=a.lastSuspendedTime;c<b&&(a.firstSuspendedTime=b),(d>b||0===c)&&(a.lastSuspendedTime=b),b<=a.lastPingedTime&&(a.lastPingedTime=0),b<=a.lastExpiredTime&&(a.lastExpiredTime=0)}function oe(a,b){b>a.firstPendingTime&&(a.firstPendingTime=b);var c=a.firstSuspendedTime;0!==c&&(b>=c?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:b>=a.lastSuspendedTime&&(a.lastSuspendedTime=b+1),b>a.nextKnownPendingLevel&&(a.nextKnownPendingLevel=b))}function pe(a,b){var c=a.lastExpiredTime;(0===c||c>b)&&(a.lastExpiredTime=b)}function qe(a,b,d,e){var f=b.current,g=Bd(),h=di.suspense;g=Cd(g,f,h);a:if(d){d=d._reactInternalFiber;b:{if(U(d)!==d||1!==d.tag)throw Error(c(170));var i=d;do{switch(i.tag){case 3:i=i.stateNode.context;break b;case 1:if(Cb(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break b}}i=i.return}while(null!==i);throw Error(c(171))}if(1===d.tag){var j=d.type;if(Cb(j)){d=Eb(d,j,i);break a}}d=i}else d=Dh;return null===b.context?b.context=d:b.pendingContext=d,b=Xb(g,h),b.payload={element:a},e=void 0===e?null:e,null!==e&&(b.callback=e),Yb(f,b),uj(f,g),g}function re(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function se(a,b){a=a.memoizedState,null!==a&&null!==a.dehydrated&&a.retryTime<b&&(a.retryTime=b)}function te(a,b){se(a,b),(a=a.alternate)&&se(a,b)}function ue(a,b,c){c=null!=c&&!0===c.hydrate;var d=new le(a,b,c),e=yj(3,null,null,2===b?7:1===b?3:0);d.current=e,e.stateNode=d,Vb(e),a[Dg]=d.current,c&&0!==b&&ga(a,9===a.nodeType?a:a.ownerDocument),this._internalRoot=d}function ve(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function we(a,b){if(b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot"))),!b)for(var c;c=a.lastChild;)a.removeChild(c);return new ue(a,0,b?{hydrate:!0}:void 0)}function xe(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if("function"==typeof e){var h=e;e=function(){var a=re(g);h.call(a)}}qe(b,g,a,e)}else{if(f=c._reactRootContainer=we(c,d),g=f._internalRoot,"function"==typeof e){var i=e;e=function(){var a=re(g);i.call(a)}}Kd(function(){qe(b,g,a,e)})}return re(g)}function ye(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:yf,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function ze(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ve(b))throw Error(c(200));return ye(a,b,null,d)}if(!b)throw Error(c(227));var Ae=function(a,b,c,d,e,f,g,h,i){var j=Array.prototype.slice.call(arguments,3);try{b.apply(c,j)}catch(a){this.onError(a)}},Be=!1,Ce=null,De=!1,Ee=null,Fe={onError:function(a){Be=!0,Ce=a}},Ge=null,He=null,Ie=null,Je=null,Ke={},Le=[],Me={},Ne={},Oe={},Pe=!("undefined"==typeof window||"undefined"==typeof window.document||"undefined"==typeof window.document.createElement),Qe=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,Re=null,Se=null,Te=null,Ue=function(a,b){return a(b)},Ve=function(a,b,c,d,e){return a(b,c,d,e)},We=function(){},Xe=Ue,Ye=!1,Ze=!1,$e=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Scheduler,_e=$e.unstable_cancelCallback,af=$e.unstable_now,bf=$e.unstable_scheduleCallback,cf=$e.unstable_shouldYield,df=$e.unstable_requestPaint,ef=$e.unstable_runWithPriority,ff=$e.unstable_getCurrentPriorityLevel,gf=$e.unstable_ImmediatePriority,hf=$e.unstable_UserBlockingPriority,jf=$e.unstable_NormalPriority,kf=$e.unstable_LowPriority,lf=$e.unstable_IdlePriority,mf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nf=Object.prototype.hasOwnProperty,of={},pf={},qf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){qf[a]=new r(a,0,!1,a,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];qf[b]=new r(b,1,!1,a[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){qf[a]=new r(a,2,!1,a.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){qf[a]=new r(a,2,!1,a,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){qf[a]=new r(a,3,!1,a.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(a){qf[a]=new r(a,3,!0,a,null,!1)}),["capture","download"].forEach(function(a){qf[a]=new r(a,4,!1,a,null,!1)}),["cols","rows","size","span"].forEach(function(a){qf[a]=new r(a,6,!1,a,null,!1)}),["rowSpan","start"].forEach(function(a){qf[a]=new r(a,5,!1,a.toLowerCase(),null,!1)});var rf=/[\-:]([a-z])/g,sf=function(a){return a[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(rf,sf);qf[b]=new r(b,1,!1,a,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(rf,sf);qf[b]=new r(b,1,!1,a,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(rf,sf);qf[b]=new r(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(a){qf[a]=new r(a,1,!1,a.toLowerCase(),null,!1)}),qf.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(a){qf[a]=new r(a,1,!1,a.toLowerCase(),null,!0)});var tf=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;tf.hasOwnProperty("ReactCurrentDispatcher")||(tf.ReactCurrentDispatcher={current:null}),tf.hasOwnProperty("ReactCurrentBatchConfig")||(tf.ReactCurrentBatchConfig={suspense:null});var uf,vf=/^(.*)[\\\/]/,wf="function"==typeof Symbol&&Symbol.for,xf=wf?Symbol.for("react.element"):60103,yf=wf?Symbol.for("react.portal"):60106,zf=wf?Symbol.for("react.fragment"):60107,Af=wf?Symbol.for("react.strict_mode"):60108,Bf=wf?Symbol.for("react.profiler"):60114,Cf=wf?Symbol.for("react.provider"):60109,Df=wf?Symbol.for("react.context"):60110,Ef=wf?Symbol.for("react.concurrent_mode"):60111,Ff=wf?Symbol.for("react.forward_ref"):60112,Gf=wf?Symbol.for("react.suspense"):60113,Hf=wf?Symbol.for("react.suspense_list"):60120,If=wf?Symbol.for("react.memo"):60115,Jf=wf?Symbol.for("react.lazy"):60116,Kf=wf?Symbol.for("react.block"):60121,Lf="function"==typeof Symbol&&Symbol.iterator,Mf=function(a){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{for(uf=uf||document.createElement("div"),uf.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=uf.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),Nf=function(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType)return void(c.nodeValue=b)}a.textContent=b},Of={animationend:R("Animation","AnimationEnd"),animationiteration:R("Animation","AnimationIteration"),animationstart:R("Animation","AnimationStart"),transitionend:R("Transition","TransitionEnd")},Pf={},Qf={};Pe&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete Of.animationend.animation,delete Of.animationiteration.animation,delete Of.animationstart.animation),"TransitionEvent"in window||delete Of.transitionend.transition);var Rf=S("animationend"),Sf=S("animationiteration"),Tf=S("animationstart"),Uf=S("transitionend"),Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wf=new("function"==typeof WeakMap?WeakMap:Map),Xf=null,Yf=function(a){
if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)f(a,b[d],c[d]);else b&&f(a,b,c);a._dispatchListeners=null,a._dispatchInstances=null,a.isPersistent()||a.constructor.release(a)}},Zf=[],$f=!1,_f=[],ag=null,bg=null,cg=null,dg=new Map,eg=new Map,fg=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),hg="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),ig={},jg=new Map,kg=new Map,lg=["abort","abort",Rf,"animationEnd",Sf,"animationIteration",Tf,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Uf,"transitionEnd","waiting","waiting"];ra("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ra("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ra(lg,2),function(a,b){for(var c=0;c<a.length;c++)kg.set(a[c],b)}("change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),0);var mg=hf,ng=ef,og=!0,pg={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qg=["Webkit","ms","Moz","O"];Object.keys(pg).forEach(function(a){qg.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1),pg[b]=pg[a]})});var rg=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),sg="$",tg="/$",ug="$?",vg="$!",wg=null,xg=null,yg="function"==typeof setTimeout?setTimeout:void 0,zg="function"==typeof clearTimeout?clearTimeout:void 0,Ag=Math.random().toString(36).slice(2),Bg="__reactInternalInstance$"+Ag,Cg="__reactEventHandlers$"+Ag,Dg="__reactContainere$"+Ag,Eg=null,Fg=null,Gg=null;Qe(ab.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!=typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!=typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){this.isPersistent=$a},isPersistent:_a,destructor:function(){var a,b=this.constructor.Interface;for(a in b)this[a]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=_a,this._dispatchInstances=this._dispatchListeners=null}}),ab.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ab.extend=function(a){function b(){return c.apply(this,arguments)}var c=this,d=function(){};return d.prototype=c.prototype,d=new d,Qe(d,b.prototype),b.prototype=d,b.prototype.constructor=b,b.Interface=Qe({},c.Interface,a),b.extend=c.extend,db(b),b},db(ab);var Hg=ab.extend({data:null}),Ig=ab.extend({data:null}),Jg=[9,13,27,32],Kg=Pe&&"CompositionEvent"in window,Lg=null;Pe&&"documentMode"in document&&(Lg=document.documentMode);var Mg=Pe&&"TextEvent"in window&&!Lg,Ng=Pe&&(!Kg||Lg&&8<Lg&&11>=Lg),Og=String.fromCharCode(32),Pg={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Qg=!1,Rg=!1,Sg={eventTypes:Pg,extractEvents:function(a,b,c,d,e){var f;if(Kg)a:{switch(a){case"compositionstart":var g=Pg.compositionStart;break a;case"compositionend":g=Pg.compositionEnd;break a;case"compositionupdate":g=Pg.compositionUpdate;break a}g=void 0}else Rg?eb(a,c)&&(g=Pg.compositionEnd):"keydown"===a&&229===c.keyCode&&(g=Pg.compositionStart);return g?(Ng&&"ko"!==c.locale&&(Rg||g!==Pg.compositionStart?g===Pg.compositionEnd&&Rg&&(f=Za()):(Eg=d,Fg="value"in Eg?Eg.value:Eg.textContent,Rg=!0)),e=Hg.getPooled(g,b,c,d),f?e.data=f:(f=fb(c),null!==f&&(e.data=f)),Ya(e),f=e):f=null,(a=Mg?gb(a,c):hb(a,c))?(b=Ig.getPooled(Pg.beforeInput,b,c,d),b.data=a,Ya(b)):b=null,null===f?b:null===b?f:[f,b]}},Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ug={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Vg=null,Wg=null,Xg=!1;Pe&&(Xg=ba("input")&&(!document.documentMode||9<document.documentMode));var Yg={eventTypes:Ug,_isInputEventSupported:Xg,extractEvents:function(a,b,c,d,e){e=b?Qa(b):window;var f=e.nodeName&&e.nodeName.toLowerCase();if("select"===f||"input"===f&&"file"===e.type)var g=mb;else if(ib(e))if(Xg)g=sb;else{g=qb;var h=pb}else(f=e.nodeName)&&"input"===f.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)&&(g=rb);return g&&(g=g(a,b))?jb(g,c,d):(h&&h(a,e,b),void("blur"===a&&(a=e._wrapperState)&&a.controlled&&"number"===e.type&&H(e,"number",e.value)))}},Zg=ab.extend({view:null,detail:null}),$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},_g=0,ah=0,bh=!1,ch=!1,dh=Zg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ub,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var b=_g;return _g=a.screenX,bh?"mousemove"===a.type?a.screenX-b:0:(bh=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;var b=ah;return ah=a.screenY,ch?"mousemove"===a.type?a.screenY-b:0:(ch=!0,0)}}),eh=dh.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),fh={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},gh={eventTypes:fh,extractEvents:function(a,b,c,d,e){var f="mouseover"===a||"pointerover"===a,g="mouseout"===a||"pointerout"===a;if(f&&0===(32&e)&&(c.relatedTarget||c.fromElement)||!g&&!f)return null;if(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g){if(g=b,b=(b=c.relatedTarget||c.toElement)?Oa(b):null,null!==b){var h=U(b);(b!==h||5!==b.tag&&6!==b.tag)&&(b=null)}}else g=null;if(g===b)return null;if("mouseout"===a||"mouseover"===a)var i=dh,j=fh.mouseLeave,k=fh.mouseEnter,l="mouse";else"pointerout"!==a&&"pointerover"!==a||(i=eh,j=fh.pointerLeave,k=fh.pointerEnter,l="pointer");if(a=null==g?f:Qa(g),f=null==b?f:Qa(b),j=i.getPooled(j,g,c,d),j.type=l+"leave",j.target=a,j.relatedTarget=f,c=i.getPooled(k,b,c,d),c.type=l+"enter",c.target=f,c.relatedTarget=a,d=g,l=b,d&&l)a:{for(i=d,k=l,g=0,a=i;a;a=Sa(a))g++;for(a=0,b=k;b;b=Sa(b))a++;for(;0<g-a;)i=Sa(i),g--;for(;0<a-g;)k=Sa(k),a--;for(;g--;){if(i===k||i===k.alternate)break a;i=Sa(i),k=Sa(k)}i=null}else i=null;for(k=i,i=[];d&&d!==k&&(g=d.alternate,null===g||g!==k);)i.push(d),d=Sa(d);for(d=[];l&&l!==k&&(g=l.alternate,null===g||g!==k);)d.push(l),l=Sa(l);for(l=0;l<i.length;l++)Wa(i[l],"bubbled",j);for(l=d.length;0<l--;)Wa(d[l],"captured",c);return 0===(64&e)?[j]:[j,c]}},hh="function"==typeof Object.is?Object.is:vb,ih=Object.prototype.hasOwnProperty,jh=Pe&&"documentMode"in document&&11>=document.documentMode,kh={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},lh=null,mh=null,nh=null,oh=!1,ph={eventTypes:kh,extractEvents:function(a,b,c,d,e,f){if(e=f||(d.window===d?d.document:9===d.nodeType?d:d.ownerDocument),!(f=!e)){a:{e=T(e),f=Oe.onSelect;for(var g=0;g<f.length;g++)if(!e.has(f[g])){e=!1;break a}e=!0}f=!e}if(f)return null;switch(e=b?Qa(b):window,a){case"focus":(ib(e)||"true"===e.contentEditable)&&(lh=e,mh=b,nh=null);break;case"blur":nh=mh=lh=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":return oh=!1,xb(c,d);case"selectionchange":if(jh)break;case"keydown":case"keyup":return xb(c,d)}return null}},qh=ab.extend({animationName:null,elapsedTime:null,pseudoElement:null}),rh=ab.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),sh=Zg.extend({relatedTarget:null}),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh=Zg.extend({key:function(a){if(a.key){var b=th[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=yb(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?uh[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ub,charCode:function(a){return"keypress"===a.type?yb(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?yb(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),wh=dh.extend({dataTransfer:null}),xh=Zg.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ub}),yh=ab.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),zh=dh.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),Ah={eventTypes:ig,extractEvents:function(a,b,c,d,e){if(e=jg.get(a),!e)return null;switch(a){case"keypress":if(0===yb(c))return null;case"keydown":case"keyup":a=vh;break;case"blur":case"focus":a=sh;break;case"click":if(2===c.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=xh;break;case Rf:case Sf:case Tf:a=qh;break;case Uf:a=yh;break;case"scroll":a=Zg;break;case"wheel":a=zh;break;case"copy":case"cut":case"paste":a=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=eh;break;default:a=ab}return b=a.getPooled(e,b,c,d),Ya(b),b}};!function(a){if(Je)throw Error(c(101));Je=Array.prototype.slice.call(a),g()}("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),function(a,b,c){Ge=a,He=b,Ie=c}(Ra,Pa,Qa),i({SimpleEventPlugin:Ah,EnterLeaveEventPlugin:gh,ChangeEventPlugin:Yg,SelectEventPlugin:ph,BeforeInputEventPlugin:Sg});var Bh=[],Ch=-1,Dh={},Eh={current:Dh},Fh={current:!1},Gh=Dh,Hh=ef,Ih=bf,Jh=_e,Kh=ff,Lh=gf,Mh=hf,Nh=jf,Oh=kf,Ph=lf,Qh={},Rh=cf,Sh=void 0!==df?df:function(){},Th=null,Uh=null,Vh=!1,Wh=af(),Xh=1e4>Wh?af:function(){return af()-Wh},Yh={current:null},Zh=null,$h=null,_h=null,ai=0,bi=2,ci=!1,di=tf.ReactCurrentBatchConfig,ei=(new b.Component).refs,fi={isMounted:function(a){return!!(a=a._reactInternalFiber)&&U(a)===a},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=Bd(),e=di.suspense;d=Cd(d,a,e),e=Xb(d,e),e.payload=b,void 0!==c&&null!==c&&(e.callback=c),Yb(a,e),uj(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=Bd(),e=di.suspense;d=Cd(d,a,e),e=Xb(d,e),e.tag=1,e.payload=b,void 0!==c&&null!==c&&(e.callback=c),Yb(a,e),uj(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=Bd(),d=di.suspense;c=Cd(c,a,d),d=Xb(c,d),d.tag=bi,void 0!==b&&null!==b&&(d.callback=b),Yb(a,d),uj(a,c)}},gi=Array.isArray,hi=hc(!0),ii=hc(!1),ji={},ki={current:ji},li={current:ji},mi={current:ji},ni={current:0},oi=tf.ReactCurrentDispatcher,pi=tf.ReactCurrentBatchConfig,qi=0,ri=null,si=null,ti=null,ui=!1,vi={readContext:Ub,useCallback:pc,useContext:pc,useEffect:pc,useImperativeHandle:pc,useLayoutEffect:pc,useMemo:pc,useReducer:pc,useRef:pc,useState:pc,useDebugValue:pc,useResponder:pc,useDeferredValue:pc,useTransition:pc},wi={readContext:Ub,useCallback:Ic,useContext:Ub,useEffect:Cc,useImperativeHandle:function(a,b,c){return c=null!==c&&void 0!==c?c.concat([a]):null,Ac(4,2,Fc.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Ac(4,2,a,b)},useMemo:function(a,b){var c=sc();return b=void 0===b?null:b,a=a(),c.memoizedState=[a,b],a},useReducer:function(a,b,c){var d=sc();return b=void 0!==c?c(b):b,d.memoizedState=d.baseState=b,a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},a=a.dispatch=Mc.bind(null,ri,a),[d.memoizedState,a]},useRef:function(a){var b=sc();return a={current:a},b.memoizedState=a},useState:xc,useDebugValue:Hc,useResponder:oc,useDeferredValue:function(a,b){var c=xc(a),d=c[0],e=c[1];return Cc(function(){var c=pi.suspense;pi.suspense=void 0===b?null:b;try{e(a)}finally{pi.suspense=c}},[a,b]),d},useTransition:function(a){var b=xc(!1),c=b[0];return b=b[1],[Ic(Lc.bind(null,b,a),[b,a]),c]}},xi={readContext:Ub,useCallback:Jc,useContext:Ub,useEffect:Dc,useImperativeHandle:Gc,useLayoutEffect:Ec,useMemo:Kc,useReducer:vc,useRef:zc,useState:function(a){return vc(uc)},useDebugValue:Hc,useResponder:oc,useDeferredValue:function(a,b){var c=vc(uc),d=c[0],e=c[1];return Dc(function(){var c=pi.suspense;pi.suspense=void 0===b?null:b;try{e(a)}finally{pi.suspense=c}},[a,b]),d},useTransition:function(a){var b=vc(uc),c=b[0];return b=b[1],[Jc(Lc.bind(null,b,a),[b,a]),c]}},yi={readContext:Ub,useCallback:Jc,useContext:Ub,useEffect:Dc,useImperativeHandle:Gc,useLayoutEffect:Ec,useMemo:Kc,useReducer:wc,useRef:zc,useState:function(a){return wc(uc)},useDebugValue:Hc,useResponder:oc,useDeferredValue:function(a,b){var c=wc(uc),d=c[0],e=c[1];return Dc(function(){var c=pi.suspense;pi.suspense=void 0===b?null:b;try{e(a)}finally{pi.suspense=c}},[a,b]),d},useTransition:function(a){var b=wc(uc),c=b[0];return b=b[1],[Jc(Lc.bind(null,b,a),[b,a]),c]}},zi=null,Ai=null,Bi=!1,Ci=tf.ReactCurrentOwner,Di=!1,Ei={dehydrated:null,retryTime:0},Fi=function(a,b,c,d){for(c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Gi=function(a){},Hi=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;switch(ic(ki.current),a=null,c){case"input":f=C(g,f),d=C(g,d),a=[];break;case"option":f=J(g,f),d=J(g,d),a=[];break;case"select":f=Qe({},f,{value:void 0}),d=Qe({},d,{value:void 0}),a=[];break;case"textarea":f=L(g,f),d=L(g,d),a=[];break;default:"function"!=typeof f.onClick&&"function"==typeof d.onClick&&(g.onclick=Da)}Aa(c,d);var h,i;c=null;for(h in f)if(!d.hasOwnProperty(h)&&f.hasOwnProperty(h)&&null!=f[h])if("style"===h)for(i in g=f[h])g.hasOwnProperty(i)&&(c||(c={}),c[i]="");else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(Ne.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in d){var j=d[h];if(g=null!=f?f[h]:void 0,d.hasOwnProperty(h)&&j!==g&&(null!=j||null!=g))if("style"===h)if(g){for(i in g)!g.hasOwnProperty(i)||j&&j.hasOwnProperty(i)||(c||(c={}),c[i]="");for(i in j)j.hasOwnProperty(i)&&g[i]!==j[i]&&(c||(c={}),c[i]=j[i])}else c||(a||(a=[]),a.push(h,c)),c=j;else"dangerouslySetInnerHTML"===h?(j=j?j.__html:void 0,g=g?g.__html:void 0,null!=j&&g!==j&&(a=a||[]).push(h,j)):"children"===h?g===j||"string"!=typeof j&&"number"!=typeof j||(a=a||[]).push(h,""+j):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(Ne.hasOwnProperty(h)?(null!=j&&Ca(e,h),a||g===j||(a=[])):(a=a||[]).push(h,j))}c&&(a=a||[]).push("style",c),e=a,(b.updateQueue=e)&&(b.effectTag|=4)}},Ii=function(a,b,c,d){c!==d&&(b.effectTag|=4)},Ji="function"==typeof WeakSet?WeakSet:Set,Ki="function"==typeof WeakMap?WeakMap:Map,Li=Math.ceil,Mi=tf.ReactCurrentDispatcher,Ni=tf.ReactCurrentOwner,Oi=0,Pi=8,Qi=16,Ri=32,Si=0,Ti=1,Ui=2,Vi=3,Wi=4,Xi=5,Yi=Oi,Zi=null,$i=null,_i=0,aj=Si,bj=null,cj=1073741823,dj=1073741823,ej=null,fj=0,gj=!1,hj=0,ij=500,jj=null,kj=!1,lj=null,mj=null,nj=!1,oj=null,pj=90,qj=null,rj=0,sj=null,tj=0,uj=function(a,b){if(50<rj)throw rj=0,sj=null,Error(c(185));if(a=Dd(a,b),null!==a){var d=Hb();1073741823===b?(Yi&Pi)!==Oi&&(Yi&(Qi|Ri))===Oi?Hd(a):(Fd(a),Yi===Oi&&Mb()):Fd(a),(4&Yi)===Oi||98!==d&&99!==d||(null===qj?qj=new Map([[a,b]]):(d=qj.get(a),(void 0===d||d>b)&&qj.set(a,b)))}},vj=function(a,b,d){var e=b.expirationTime;if(null!==a){var f=b.pendingProps;if(a.memoizedProps!==f||Fh.current)Di=!0;else{if(e<d){switch(Di=!1,b.tag){case 3:_c(b),Sc();break;case 5:if(lc(b),4&b.mode&&1!==d&&f.hidden)return b.expirationTime=b.childExpirationTime=1,null;break;case 1:Cb(b.type)&&Fb(b);break;case 4:jc(b,b.stateNode.containerInfo);break;case 10:e=b.memoizedProps.value,f=b.type._context,Ab(Yh,f._currentValue),f._currentValue=e;break;case 13:if(null!==b.memoizedState)return e=b.child.childExpirationTime,0!==e&&e>=d?ad(a,b,d):(Ab(ni,1&ni.current),b=ed(a,b,d),null!==b?b.sibling:null);Ab(ni,1&ni.current);break;case 19:if(e=b.childExpirationTime>=d,0!==(64&a.effectTag)){if(e)return dd(a,b,d);b.effectTag|=64}if(f=b.memoizedState,null!==f&&(f.rendering=null,f.tail=null),Ab(ni,ni.current),!e)return null}return ed(a,b,d)}Di=!1}}else Di=!1;switch(b.expirationTime=0,b.tag){case 2:if(e=b.type,null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),a=b.pendingProps,f=Bb(b,Eh.current),Tb(b,d),f=rc(null,b,e,a,f,d),b.effectTag|=1,"object"==typeof f&&null!==f&&"function"==typeof f.render&&void 0===f.$$typeof){if(b.tag=1,b.memoizedState=null,b.updateQueue=null,Cb(e)){var g=!0;Fb(b)}else g=!1;b.memoizedState=null!==f.state&&void 0!==f.state?f.state:null,Vb(b);var h=e.getDerivedStateFromProps;"function"==typeof h&&ac(b,e,h,a),f.updater=fi,b.stateNode=f,f._reactInternalFiber=b,ec(b,e,a,d),b=$c(null,b,e,!0,g,d)}else b.tag=0,Tc(null,b,f,d),b=b.child;return b;case 16:a:{if(f=b.elementType,null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),a=b.pendingProps,u(f),1!==f._status)throw f._result;switch(f=f._result,b.type=f,g=b.tag=fe(f),a=Pb(f,a),g){case 0:b=Yc(null,b,f,a,d);break a;case 1:b=Zc(null,b,f,a,d);break a;case 11:b=Uc(null,b,f,a,d);break a;case 14:b=Vc(null,b,f,Pb(f.type,a),e,d);break a}throw Error(c(306,f,""))}return b;case 0:return e=b.type,f=b.pendingProps,f=b.elementType===e?f:Pb(e,f),Yc(a,b,e,f,d);case 1:return e=b.type,f=b.pendingProps,f=b.elementType===e?f:Pb(e,f),Zc(a,b,e,f,d);case 3:if(_c(b),e=b.updateQueue,null===a||null===e)throw Error(c(282));if(e=b.pendingProps,f=b.memoizedState,f=null!==f?f.element:null,Wb(a,b),$b(b,e,null,d),e=b.memoizedState.element,e===f)Sc(),b=ed(a,b,d);else{if((f=b.stateNode.hydrate)&&(Ai=Ma(b.stateNode.containerInfo.firstChild),zi=b,f=Bi=!0),f)for(d=ii(b,null,e,d),b.child=d;d;)d.effectTag=d.effectTag&-3|1024,d=d.sibling;else Tc(a,b,e,d),Sc();b=b.child}return b;case 5:return lc(b),null===a&&Pc(b),e=b.type,f=b.pendingProps,g=null!==a?a.memoizedProps:null,h=f.children,La(e,f)?h=null:null!==g&&La(e,g)&&(b.effectTag|=16),Xc(a,b),4&b.mode&&1!==d&&f.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(Tc(a,b,h,d),b=b.child),b;case 6:return null===a&&Pc(b),null;case 13:return ad(a,b,d);case 4:return jc(b,b.stateNode.containerInfo),e=b.pendingProps,null===a?b.child=hi(b,null,e,d):Tc(a,b,e,d),b.child;case 11:return e=b.type,f=b.pendingProps,f=b.elementType===e?f:Pb(e,f),Uc(a,b,e,f,d);case 7:return Tc(a,b,b.pendingProps,d),b.child;case 8:return Tc(a,b,b.pendingProps.children,d),b.child;case 12:return Tc(a,b,b.pendingProps.children,d),b.child;case 10:a:{e=b.type._context,f=b.pendingProps,h=b.memoizedProps,g=f.value;var i=b.type._context;if(Ab(Yh,i._currentValue),i._currentValue=g,null!==h)if(i=h.value,g=hh(i,g)?0:0|("function"==typeof e._calculateChangedBits?e._calculateChangedBits(i,g):1073741823),0===g){if(h.children===f.children&&!Fh.current){b=ed(a,b,d);break a}}else for(i=b.child,null!==i&&(i.return=b);null!==i;){var j=i.dependencies;if(null!==j){h=i.child;for(var k=j.firstContext;null!==k;){if(k.context===e&&0!==(k.observedBits&g)){1===i.tag&&(k=Xb(d,null),k.tag=bi,Yb(i,k)),i.expirationTime<d&&(i.expirationTime=d),k=i.alternate,null!==k&&k.expirationTime<d&&(k.expirationTime=d),Sb(i.return,d),j.expirationTime<d&&(j.expirationTime=d);break}k=k.next}}else h=10===i.tag&&i.type===b.type?null:i.child;if(null!==h)h.return=i;else for(h=i;null!==h;){if(h===b){h=null;break}if(i=h.sibling,null!==i){i.return=h.return,h=i;break}h=h.return}i=h}Tc(a,b,f.children,d),b=b.child}return b;case 9:return f=b.type,g=b.pendingProps,e=g.children,Tb(b,d),f=Ub(f,g.unstable_observedBits),e=e(f),b.effectTag|=1,Tc(a,b,e,d),b.child;case 14:return f=b.type,g=Pb(f,b.pendingProps),g=Pb(f.type,g),Vc(a,b,f,g,e,d);case 15:return Wc(a,b,b.type,b.pendingProps,e,d);case 17:return e=b.type,f=b.pendingProps,f=b.elementType===e?f:Pb(e,f),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,Cb(e)?(a=!0,Fb(b)):a=!1,Tb(b,d),cc(b,e,f),ec(b,e,f,d),$c(null,b,e,!0,a,d);case 19:return dd(a,b,d)}throw Error(c(156,b.tag))},wj=null,xj=null,yj=function(a,b,c,d){return new de(a,b,c,d)};ue.prototype.render=function(a){qe(a,this._internalRoot,null,null)},ue.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;qe(null,a,null,function(){b[Dg]=null})};var zj=function(a){if(13===a.tag){var b=Ob(Bd(),150,100);uj(a,b),te(a,b)}},Aj=function(a){13===a.tag&&(uj(a,3),te(a,3))},Bj=function(a){if(13===a.tag){var b=Bd();b=Cd(b,a,null),uj(a,b),te(a,b)}};Re=function(a,b,d){switch(b){case"input":if(F(a,d),b=d.name,"radio"===d.type&&null!=b){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<d.length;b++){var e=d[b];if(e!==a&&e.form===a.form){var f=Ra(e);if(!f)throw Error(c(90));B(e),F(e,f)}}}break;case"textarea":N(a,d);break;case"select":b=d.value,null!=b&&K(a,!!d.multiple,b,!1)}},function(a,b,c,d){Ue=a,Ve=b,We=c,Xe=d}(Jd,function(a,b,c,d,e){var f=Yi;Yi|=4;try{return Jb(98,a.bind(null,b,c,d,e))}finally{Yi=f,Yi===Oi&&Mb()}},function(){(Yi&(1|Qi|Ri))===Oi&&(Id(),Yd())},function(a,b){var c=Yi;Yi|=2;try{return a(b)}finally{Yi=c,Yi===Oi&&Mb()}});var Cj={Events:[Pa,Qa,Ra,i,Me,Ya,function(a){$(a,Xa)},k,l,wa,_,Yd,{current:!1}]};!function(a){var b=a.findFiberByHostInstance;return ce(Qe({},a,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tf.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Y(a),null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Oa,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cj,a.createPortal=ze,a.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;if(void 0===b){if("function"==typeof a.render)throw Error(c(188));throw Error(c(268,Object.keys(a)))}return a=Y(b),a=null===a?null:a.stateNode},a.flushSync=function(a,b){if((Yi&(Qi|Ri))!==Oi)throw Error(c(187));var d=Yi;Yi|=1;try{return Jb(99,a.bind(null,b))}finally{Yi=d,Mb()}},a.hydrate=function(a,b,d){if(!ve(b))throw Error(c(200));return xe(null,a,b,!0,d)},a.render=function(a,b,d){if(!ve(b))throw Error(c(200));return xe(null,a,b,!1,d)},a.unmountComponentAtNode=function(a){if(!ve(a))throw Error(c(40));return!!a._reactRootContainer&&(Kd(function(){xe(null,null,a,!1,function(){a._reactRootContainer=null,a[Dg]=null})}),!0)},a.unstable_batchedUpdates=Jd,a.unstable_createPortal=function(a,b){return ze(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.unstable_renderSubtreeIntoContainer=function(a,b,d,e){if(!ve(d))throw Error(c(200));if(null==a||void 0===a._reactInternalFiber)throw Error(c(38));return xe(a,b,d,!1,e)},a.version="16.13.1"}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("global/window"),require("global/document")):"function"==typeof define&&define.amd?define(["global/window","global/document"],b):(a=a||self,a.videojs=b(a.window,a.document))}(this,function(a,b){"use strict";function c(a){var b,d="info",e=function(){for(var a=arguments.length,c=new Array(a),e=0;e<a;e++)c[e]=arguments[e];b("log",d,c)};return b=xc(a,e),e.createLogger=function(b){return c(a+": "+b)},e.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:d},e.level=function(a){if("string"==typeof a){if(!e.levels.hasOwnProperty(a))throw new Error('"'+a+'" in not a valid log level');d=a}return d},e.history=function(){return wc?[].concat(wc):[]},e.history.filter=function(a){return(wc||[]).filter(function(b){return new RegExp(".*"+a+".*").test(b[0])})},e.history.clear=function(){wc&&(wc.length=0)},e.history.disable=function(){null!==wc&&(wc.length=0,wc=null)},e.history.enable=function(){null===wc&&(wc=[])},e.error=function(){for(var a=arguments.length,c=new Array(a),e=0;e<a;e++)c[e]=arguments[e];return b("error",d,c)},e.warn=function(){for(var a=arguments.length,c=new Array(a),e=0;e<a;e++)c[e]=arguments[e];return b("warn",d,c)},e.debug=function(){for(var a=arguments.length,c=new Array(a),e=0;e<a;e++)c[e]=arguments[e];return b("debug",d,c)},e}function d(a,b){return b={exports:{}},a(b,b.exports),b.exports}function e(a,b){Cc(a).forEach(function(c){return b(a[c],c)})}function f(a,b,c){return void 0===c&&(c=0),Cc(a).reduce(function(c,d){return b(c,a[d],d)},c)}function g(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return Object.assign?Ac.apply(void 0,[a].concat(c)):(c.forEach(function(b){b&&e(b,function(b,c){a[c]=b})}),a)}function h(a){return!!a&&"object"==typeof a}function i(a){return h(a)&&"[object Object]"===Bc.call(a)&&a.constructor===Object}function j(b,c){if(!b||!c)return"";if("function"==typeof a.getComputedStyle){var d=a.getComputedStyle(b);return d?d.getPropertyValue(c)||d[c]:""}return""}function k(a){return"string"==typeof a&&Boolean(a.trim())}function l(a){if(a.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function m(a){return new RegExp("(^|\\s)"+a+"($|\\s)")}function n(){return b===a.document}function o(a){return h(a)&&1===a.nodeType}function p(){try{return a.parent!==a.self}catch(a){return!0}}function q(a){return function(c,d){if(!k(c))return b[a](null);k(d)&&(d=b.querySelector(d));var e=o(d)?d:b;return e[a]&&e[a](c)}}function r(a,c,d,e){void 0===a&&(a="div"),void 0===c&&(c={}),void 0===d&&(d={});var f=b.createElement(a);return Object.getOwnPropertyNames(c).forEach(function(a){var b=c[a];a.indexOf("aria-")!==-1||"role"===a||"type"===a?(yc.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\n"+("createEl(type, properties, attributes). Attempting to set "+a+" to "+b+".")),f.setAttribute(a,b)):"textContent"===a?s(f,b):f[a]!==b&&(f[a]=b)}),Object.getOwnPropertyNames(d).forEach(function(a){f.setAttribute(a,d[a])}),e&&L(f,e),f}function s(a,b){return"undefined"==typeof a.textContent?a.innerText=b:a.textContent=b,a}function t(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)}function u(a,b){return l(b),a.classList?a.classList.contains(b):m(b).test(a.className)}function v(a,b){return a.classList?a.classList.add(b):u(a,b)||(a.className=(a.className+" "+b).trim()),a}function w(a,b){return a.classList?a.classList.remove(b):(l(b),a.className=a.className.split(/\s+/).filter(function(a){return a!==b}).join(" ")),a}function x(a,b,c){var d=u(a,b);if("function"==typeof c&&(c=c(a,b)),"boolean"!=typeof c&&(c=!d),c!==d)return c?v(a,b):w(a,b),a}function y(a,b){Object.getOwnPropertyNames(b).forEach(function(c){var d=b[c];null===d||"undefined"==typeof d||d===!1?a.removeAttribute(c):a.setAttribute(c,d===!0?"":d)})}function z(a){var b={},c=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(a&&a.attributes&&a.attributes.length>0)for(var d=a.attributes,e=d.length-1;e>=0;e--){var f=d[e].name,g=d[e].value;"boolean"!=typeof a[f]&&c.indexOf(","+f+",")===-1||(g=null!==g),b[f]=g}return b}function A(a,b){return a.getAttribute(b)}function B(a,b,c){a.setAttribute(b,c)}function C(a,b){a.removeAttribute(b)}function D(){b.body.focus(),b.onselectstart=function(){return!1}}function E(){b.onselectstart=function(){return!0}}function F(a){if(a&&a.getBoundingClientRect&&a.parentNode){var b=a.getBoundingClientRect(),c={};return["bottom","height","left","right","top","width"].forEach(function(a){void 0!==b[a]&&(c[a]=b[a])}),c.height||(c.height=parseFloat(j(a,"height"))),
c.width||(c.width=parseFloat(j(a,"width"))),c}}function G(c){var d;if(c.getBoundingClientRect&&c.parentNode&&(d=c.getBoundingClientRect()),!d)return{left:0,top:0};var e=b.documentElement,f=b.body,g=e.clientLeft||f.clientLeft||0,h=a.pageXOffset||f.scrollLeft,i=d.left+h-g,j=e.clientTop||f.clientTop||0,k=a.pageYOffset||f.scrollTop,l=d.top+k-j;return{left:Math.round(i),top:Math.round(l)}}function H(a,b){var c={},d=G(a),e=a.offsetWidth,f=a.offsetHeight,g=d.top,h=d.left,i=b.pageY,j=b.pageX;return b.changedTouches&&(j=b.changedTouches[0].pageX,i=b.changedTouches[0].pageY),c.y=Math.max(0,Math.min(1,(g-i+f)/f)),c.x=Math.max(0,Math.min(1,(j-h)/e)),c}function I(a){return h(a)&&3===a.nodeType}function J(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a}function K(a){return"function"==typeof a&&(a=a()),(Array.isArray(a)?a:[a]).map(function(a){return"function"==typeof a&&(a=a()),o(a)||I(a)?a:"string"==typeof a&&/\S/.test(a)?b.createTextNode(a):void 0}).filter(function(a){return a})}function L(a,b){return K(b).forEach(function(b){return a.appendChild(b)}),a}function M(a,b){return L(J(a),b)}function N(a){return void 0===a.button&&void 0===a.buttons||(0===a.button&&void 0===a.buttons||("mouseup"===a.type&&0===a.button&&0===a.buttons||0===a.button&&1===a.buttons))}function O(b,c){c&&(uc=c),a.setTimeout(Hc,b)}function P(){Gc=!0,a.removeEventListener("load",P)}function Q(){return Mc++}function R(a,b){if(Oc.has(a)){var c=Oc.get(a);0===c.handlers[b].length&&(delete c.handlers[b],a.removeEventListener?a.removeEventListener(b,c.dispatcher,!1):a.detachEvent&&a.detachEvent("on"+b,c.dispatcher)),Object.getOwnPropertyNames(c.handlers).length<=0&&(delete c.handlers,delete c.dispatcher,delete c.disabled),0===Object.getOwnPropertyNames(c).length&&Oc.delete(a)}}function S(a,b,c,d){c.forEach(function(c){a(b,c,d)})}function T(c){function d(){return!0}function e(){return!1}if(c.fixed_)return c;if(!c||!c.isPropagationStopped){var f=c||a.event;c={};for(var g in f)"layerX"!==g&&"layerY"!==g&&"keyLocation"!==g&&"webkitMovementX"!==g&&"webkitMovementY"!==g&&("returnValue"===g&&f.preventDefault||(c[g]=f[g]));if(c.target||(c.target=c.srcElement||b),c.relatedTarget||(c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement),c.preventDefault=function(){f.preventDefault&&f.preventDefault(),c.returnValue=!1,f.returnValue=!1,c.defaultPrevented=!0},c.defaultPrevented=!1,c.stopPropagation=function(){f.stopPropagation&&f.stopPropagation(),c.cancelBubble=!0,f.cancelBubble=!0,c.isPropagationStopped=d},c.isPropagationStopped=e,c.stopImmediatePropagation=function(){f.stopImmediatePropagation&&f.stopImmediatePropagation(),c.isImmediatePropagationStopped=d,c.stopPropagation()},c.isImmediatePropagationStopped=e,null!==c.clientX&&void 0!==c.clientX){var h=b.documentElement,i=b.body;c.pageX=c.clientX+(h&&h.scrollLeft||i&&i.scrollLeft||0)-(h&&h.clientLeft||i&&i.clientLeft||0),c.pageY=c.clientY+(h&&h.scrollTop||i&&i.scrollTop||0)-(h&&h.clientTop||i&&i.clientTop||0)}c.which=c.charCode||c.keyCode,null!==c.button&&void 0!==c.button&&(c.button=1&c.button?0:4&c.button?1:2&c.button?2:0)}return c.fixed_=!0,c}function U(a,b,c){if(Array.isArray(b))return S(U,a,b,c);Oc.has(a)||Oc.set(a,{});var d=Oc.get(a);if(d.handlers||(d.handlers={}),d.handlers[b]||(d.handlers[b]=[]),c.guid||(c.guid=Q()),d.handlers[b].push(c),d.dispatcher||(d.disabled=!1,d.dispatcher=function(b,c){if(!d.disabled){b=T(b);var e=d.handlers[b.type];if(e)for(var f=e.slice(0),g=0,h=f.length;g<h&&!b.isImmediatePropagationStopped();g++)try{f[g].call(a,b,c)}catch(a){yc.error(a)}}}),1===d.handlers[b].length)if(a.addEventListener){var e=!1;Pc()&&Qc.indexOf(b)>-1&&(e={passive:!0}),a.addEventListener(b,d.dispatcher,e)}else a.attachEvent&&a.attachEvent("on"+b,d.dispatcher)}function V(a,b,c){if(Oc.has(a)){var d=Oc.get(a);if(d.handlers){if(Array.isArray(b))return S(V,a,b,c);var e=function(a,b){d.handlers[b]=[],R(a,b)};if(void 0!==b){var f=d.handlers[b];if(f){if(!c)return void e(a,b);if(c.guid)for(var g=0;g<f.length;g++)f[g].guid===c.guid&&f.splice(g--,1);R(a,b)}}else for(var h in d.handlers)Object.prototype.hasOwnProperty.call(d.handlers||{},h)&&e(a,h)}}}function W(a,b,c){var d=Oc.has(a)?Oc.get(a):{},e=a.parentNode||a.ownerDocument;if("string"==typeof b?b={type:b,target:a}:b.target||(b.target=a),b=T(b),d.dispatcher&&d.dispatcher.call(a,b,c),e&&!b.isPropagationStopped()&&b.bubbles===!0)W.call(null,e,b,c);else if(!e&&!b.defaultPrevented&&b.target&&b.target[b.type]){Oc.has(b.target)||Oc.set(b.target,{});var f=Oc.get(b.target);b.target[b.type]&&(f.disabled=!0,"function"==typeof b.target[b.type]&&b.target[b.type](),f.disabled=!1)}return!b.defaultPrevented}function X(a,b,c){if(Array.isArray(b))return S(X,a,b,c);var d=function d(){V(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||Q(),U(a,b,d)}function Y(a,b,c){var d=function d(){V(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||Q(),U(a,b,d)}function Z(b,c){void 0===c&&(c={});var d=c,e=d.eventBusKey;if(e){if(!b[e].nodeName)throw new Error('The eventBusKey "'+e+'" does not refer to an element.');b.eventBusEl_=b[e]}else b.eventBusEl_=r("span",{className:"vjs-event-bus"});return g(b,ed),b.eventedCallbacks&&b.eventedCallbacks.forEach(function(a){a()}),b.on("dispose",function(){b.off(),a.setTimeout(function(){b.eventBusEl_=null},0)}),b}function $(a,b){return g(a,fd),a.state=g({},a.state,b),"function"==typeof a.handleStateChanged&&Yc(a)&&a.on("statechanged",a.handleStateChanged),a}function _(){for(var a={},b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){b&&e(b,function(b,c){return i(b)?(i(a[c])||(a[c]={}),void(a[c]=_(a[c],b))):void(a[c]=b)})}),a}function aa(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ba(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}function ca(a,b,c){if("number"!=typeof b||b<0||b>c)throw new Error("Failed to execute '"+a+"' on 'TimeRanges': The index provided ("+b+") is non-numeric or out of bounds (0-"+c+").")}function da(a,b,c,d){return ca(a,d,c.length-1),c[d][b]}function ea(a){return void 0===a||0===a.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:a.length,start:da.bind(null,"start",0,a),end:da.bind(null,"end",1,a)}}function fa(a,b){return Array.isArray(a)?ea(a):void 0===a||void 0===b?ea():ea([[a,b]])}function ga(a,b){var c,d,e=0;if(!b)return 0;a&&a.length||(a=fa(0,0));for(var f=0;f<a.length;f++)c=a.start(f),d=a.end(f),d>b&&(d=b),e+=d-c;return e/b}function ha(a){return a instanceof ha?a:("number"==typeof a?this.code=a:"string"==typeof a?this.message=a:h(a)&&("number"==typeof a.code&&(this.code=a.code),g(this,a)),void(this.message||(this.message=ha.defaultMessages[this.code]||"")))}function ia(a,b){var c,d=null;try{c=JSON.parse(a,b)}catch(a){d=a}return[d,c]}function ja(a){return void 0!==a&&null!==a&&"function"==typeof a.then}function ka(a){ja(a)&&a.then(null,function(a){})}function la(a){var b=se.call(a);return"[object Function]"===b||"function"==typeof a&&"[object RegExp]"!==b||"undefined"!=typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)}function ma(a,b){for(var c=0;c<a.length;c++)b(a[c])}function na(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function oa(a,b,c){var d=a;return re(b)?(c=b,"string"==typeof a&&(d={uri:a})):d=Ac({},b,{uri:a}),d.callback=c,d}function pa(a,b,c){return b=oa(a,b,c),qa(b)}function qa(a){function b(){4===h.readyState&&setTimeout(e,0)}function c(){var a=void 0;if(a=h.response?h.response:h.responseText||ra(h),q)try{a=JSON.parse(a)}catch(a){}return a}function d(a){return clearTimeout(k),a instanceof Error||(a=new Error(""+(a||"Unknown XMLHttpRequest Error"))),a.statusCode=0,g(a,r)}function e(){if(!j){var b;clearTimeout(k),b=a.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var d=r,e=null;return 0!==b?(d={body:c(),statusCode:b,method:m,headers:{},url:l,rawRequest:h},h.getAllResponseHeaders&&(d.headers=te(h.getAllResponseHeaders()))):e=new Error("Internal XMLHttpRequest Error"),g(e,d,d.body)}}if("undefined"==typeof a.callback)throw new Error("callback argument missing");var f=!1,g=function(b,c,d){f||(f=!0,a.callback(b,c,d))},h=a.xhr||null;h||(h=a.cors||a.useXDR?new pa.XDomainRequest:new pa.XMLHttpRequest);var i,j,k,l=h.url=a.uri||a.url,m=h.method=a.method||"GET",n=a.body||a.data,o=h.headers=a.headers||{},p=!!a.sync,q=!1,r={body:void 0,headers:{},statusCode:0,method:m,url:l,rawRequest:h};if("json"in a&&a.json!==!1&&(q=!0,o.accept||o.Accept||(o.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(o["content-type"]||o["Content-Type"]||(o["Content-Type"]="application/json"),n=JSON.stringify(a.json===!0?n:a.json))),h.onreadystatechange=b,h.onload=e,h.onerror=d,h.onprogress=function(){},h.onabort=function(){j=!0},h.ontimeout=d,h.open(m,l,!p,a.username,a.password),p||(h.withCredentials=!!a.withCredentials),!p&&a.timeout>0&&(k=setTimeout(function(){if(!j){j=!0,h.abort("timeout");var a=new Error("XMLHttpRequest timeout");a.code="ETIMEDOUT",d(a)}},a.timeout)),h.setRequestHeader)for(i in o)o.hasOwnProperty(i)&&h.setRequestHeader(i,o[i]);else if(a.headers&&!na(a.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in a&&(h.responseType=a.responseType),"beforeSend"in a&&"function"==typeof a.beforeSend&&a.beforeSend(h),h.send(n||null),h}function ra(a){try{if("document"===a.responseType)return a.responseXML;var b=a.responseXML&&"parsererror"===a.responseXML.documentElement.nodeName;if(""===a.responseType&&!b)return a.responseXML}catch(a){}return null}function sa(){}function ta(a,b){this.name="ParsingError",this.code=a.code,this.message=b||a.message}function ua(a){function b(a,b,c,d){return 3600*(0|a)+60*(0|b)+(0|c)+(0|d)/1e3}var c=a.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return c?c[3]?b(c[1],c[2],c[3].replace(":",""),c[4]):c[1]>59?b(c[1],c[2],0,c[4]):b(0,c[1],c[2],c[4]):null}function va(){this.values=Je(null)}function wa(a,b,c,d){var e=d?a.split(d):[a];for(var f in e)if("string"==typeof e[f]){var g=e[f].split(c);if(2===g.length){var h=g[0],i=g[1];b(h,i)}}}function xa(a,b,c){function d(){var b=ua(a);if(null===b)throw new ta(ta.Errors.BadTimeStamp,"Malformed timestamp: "+g);return a=a.replace(/^[^\sa-zA-Z-]+/,""),b}function e(a,b){var d=new va;wa(a,function(a,b){switch(a){case"region":for(var e=c.length-1;e>=0;e--)if(c[e].id===b){d.set(a,c[e].region);break}break;case"vertical":d.alt(a,b,["rl","lr"]);break;case"line":var f=b.split(","),g=f[0];d.integer(a,g),d.percent(a,g)?d.set("snapToLines",!1):null,d.alt(a,g,["auto"]),2===f.length&&d.alt("lineAlign",f[1],["start","center","end"]);break;case"position":f=b.split(","),d.percent(a,f[0]),2===f.length&&d.alt("positionAlign",f[1],["start","center","end"]);break;case"size":d.percent(a,b);break;case"align":d.alt(a,b,["start","center","end","left","right"])}},/:/,/\s/),b.region=d.get("region",null),b.vertical=d.get("vertical","");try{b.line=d.get("line","auto")}catch(a){}b.lineAlign=d.get("lineAlign","start"),b.snapToLines=d.get("snapToLines",!0),b.size=d.get("size",100);try{b.align=d.get("align","center")}catch(a){b.align=d.get("align","middle")}try{b.position=d.get("position","auto")}catch(a){b.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},b.align)}b.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},b.align)}function f(){a=a.replace(/^\s+/,"")}var g=a;if(f(),b.startTime=d(),f(),"-->"!==a.substr(0,3))throw new ta(ta.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+g);a=a.substr(3),f(),b.endTime=d(),f(),e(a,b)}function ya(a,b){function c(){function a(a){return b=b.substr(a.length),a}if(!b)return null;var c=b.match(/^([^<]*)(<[^>]*>?)?/);return a(c[1]?c[1]:c[2])}function d(a){return Ke.innerHTML=a,a=Ke.textContent,Ke.textContent="",a}function e(a,b){return!Oe[b.localName]||Oe[b.localName]===a.localName}function f(b,c){var d=Le[b];if(!d)return null;var e=a.document.createElement(d),f=Ne[b];return f&&c&&(e[f]=c.trim()),e}for(var g,h=a.document.createElement("div"),i=h,j=[];null!==(g=c());)if("<"!==g[0])i.appendChild(a.document.createTextNode(d(g)));else{if("/"===g[1]){j.length&&j[j.length-1]===g.substr(2).replace(">","")&&(j.pop(),i=i.parentNode);continue}var k,l=ua(g.substr(1,g.length-2));if(l){k=a.document.createProcessingInstruction("timestamp",l),i.appendChild(k);continue}var m=g.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!m)continue;if(k=f(m[1],m[3]),!k)continue;if(!e(i,k))continue;if(m[2]){var n=m[2].split(".");n.forEach(function(a){var b=/^bg_/.test(a),c=b?a.slice(3):a;if(Me.hasOwnProperty(c)){var d=b?"background-color":"color",e=Me[c];k.style[d]=e}}),k.className=n.join(" ")}j.push(m[1]),i.appendChild(k),i=k}return h}function za(a){for(var b=0;b<Pe.length;b++){var c=Pe[b];if(a>=c[0]&&a<=c[1])return!0}return!1}function Aa(a){function b(a,b){for(var c=b.childNodes.length-1;c>=0;c--)a.push(b.childNodes[c])}function c(a){if(!a||!a.length)return null;var d=a.pop(),e=d.textContent||d.innerText;if(e){var f=e.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):e}return"ruby"===d.tagName?c(a):d.childNodes?(b(a,d),c(a)):void 0}var d,e=[],f="";if(!a||!a.childNodes)return"ltr";for(b(e,a);f=c(e);)for(var g=0;g<f.length;g++)if(d=f.charCodeAt(g),za(d))return"rtl";return"ltr"}function Ba(a){if("number"==typeof a.line&&(a.snapToLines||a.line>=0&&a.line<=100))return a.line;if(!a.track||!a.track.textTrackList||!a.track.textTrackList.mediaElement)return-1;for(var b=a.track,c=b.textTrackList,d=0,e=0;e<c.length&&c[e]!==b;e++)"showing"===c[e].mode&&d++;return++d*-1}function Ca(){}function Da(a,b,c){Ca.call(this),this.cue=b,this.cueDiv=ya(a,b.text);var d={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(d,this.cueDiv),this.div=a.document.createElement("div"),d={direction:Aa(this.cueDiv),writingMode:""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===b.align?"center":b.align,font:c.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(d),this.div.appendChild(this.cueDiv);var e=0;switch(b.positionAlign){case"start":e=b.position;break;case"center":e=b.position-b.size/2;break;case"end":e=b.position-b.size}""===b.vertical?this.applyStyles({left:this.formatStyle(e,"%"),width:this.formatStyle(b.size,"%")}):this.applyStyles({top:this.formatStyle(e,"%"),height:this.formatStyle(b.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}function Ea(a){var b,c,d,e;if(a.div){c=a.div.offsetHeight,d=a.div.offsetWidth,e=a.div.offsetTop;var f=(f=a.div.childNodes)&&(f=f[0])&&f.getClientRects&&f.getClientRects();a=a.div.getBoundingClientRect(),b=f?Math.max(f[0]&&f[0].height||0,a.height/f.length):0}this.left=a.left,this.right=a.right,this.top=a.top||e,this.height=a.height||c,this.bottom=a.bottom||e+(a.height||c),this.width=a.width||d,this.lineHeight=void 0!==b?b:a.lineHeight}function Fa(a,b,c,d){function e(a,b){for(var e,f=new Ea(a),g=1,h=0;h<b.length;h++){for(;a.overlapsOppositeAxis(c,b[h])||a.within(c)&&a.overlapsAny(d);)a.move(b[h]);if(a.within(c))return a;var i=a.intersectPercentage(c);g>i&&(e=new Ea(a),g=i),a=new Ea(f)}return e||f}var f=new Ea(b),g=b.cue,h=Ba(g),i=[];if(g.snapToLines){var j;switch(g.vertical){case"":i=["+y","-y"],j="height";break;case"rl":i=["+x","-x"],j="width";break;case"lr":i=["-x","+x"],j="width"}var k=f.lineHeight,l=k*Math.round(h),m=c[j]+k,n=i[0];Math.abs(l)>m&&(l=l<0?-1:1,l*=Math.ceil(m/k)*k),h<0&&(l+=""===g.vertical?c.height:c.width,i=i.reverse()),f.move(n,l)}else{var o=f.lineHeight/c.height*100;switch(g.lineAlign){case"center":h-=o/2;break;case"end":h-=o}switch(g.vertical){case"":b.applyStyles({top:b.formatStyle(h,"%")});break;case"rl":b.applyStyles({left:b.formatStyle(h,"%")});break;case"lr":b.applyStyles({right:b.formatStyle(h,"%")})}i=["+y","-x","+x","-y"],f=new Ea(b)}var p=e(f,i);b.move(p.toCSSCompatValues(c))}function Ga(){}function Ha(a){if("string"!=typeof a)return!1;var b=Ve[a.toLowerCase()];return!!b&&a.toLowerCase()}function Ia(a){if("string"!=typeof a)return!1;var b=We[a.toLowerCase()];return!!b&&a.toLowerCase()}function Ja(a,b,c){this.hasBeenReset=!1;var d="",e=!1,f=a,g=b,h=c,i=null,j="",k=!0,l="auto",m="start",n="auto",o="auto",p=100,q="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return d},set:function(a){d=""+a}},pauseOnExit:{enumerable:!0,get:function(){return e},set:function(a){e=!!a}},startTime:{enumerable:!0,get:function(){return f},set:function(a){if("number"!=typeof a)throw new TypeError("Start time must be set to a number.");f=a,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return g},set:function(a){if("number"!=typeof a)throw new TypeError("End time must be set to a number.");g=a,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return h},set:function(a){h=""+a,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return i},set:function(a){i=a,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return j},set:function(a){var b=Ha(a);if(b===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");j=b,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return k},set:function(a){k=!!a,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return l},set:function(a){if("number"!=typeof a&&a!==Ue)throw new SyntaxError("Line: an invalid number or illegal string was specified.");l=a,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},set:function(a){var b=Ia(a);b&&(m=b,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return n},set:function(a){if(a<0||a>100)throw new Error("Position must be between 0 and 100.");n=a,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return o},set:function(a){var b=Ia(a);b&&(o=b,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return p},set:function(a){if(a<0||a>100)throw new Error("Size must be between 0 and 100.");p=a,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return q},set:function(a){var b=Ia(a);if(!b)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");q=b,this.hasBeenReset=!0}}}),this.displayState=void 0}function Ka(a){if("string"!=typeof a)return!1;var b=Ye[a.toLowerCase()];return!!b&&a.toLowerCase()}function La(a){return"number"==typeof a&&a>=0&&a<=100}function Ma(){var a=100,b=3,c=0,d=100,e=0,f=100,g="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(b){if(!La(b))throw new Error("Width must be between 0 and 100.");a=b}},lines:{enumerable:!0,get:function(){return b},set:function(a){if("number"!=typeof a)throw new TypeError("Lines must be set to a number.");b=a}},regionAnchorY:{enumerable:!0,get:function(){return d},set:function(a){if(!La(a))throw new Error("RegionAnchorX must be between 0 and 100.");d=a}},regionAnchorX:{enumerable:!0,get:function(){return c},set:function(a){if(!La(a))throw new Error("RegionAnchorY must be between 0 and 100.");c=a}},viewportAnchorY:{enumerable:!0,get:function(){return f},set:function(a){if(!La(a))throw new Error("ViewportAnchorY must be between 0 and 100.");f=a}},viewportAnchorX:{enumerable:!0,get:function(){return e},set:function(a){if(!La(a))throw new Error("ViewportAnchorX must be between 0 and 100.");e=a}},scroll:{enumerable:!0,get:function(){return g},set:function(a){var b=Ka(a);b===!1||(g=b)}}})}function Na(a,b,c,d,e){void 0===e&&(e={});var f=a.textTracks();e.kind=b,c&&(e.label=c),d&&(e.language=d),e.tech=a;var g=new Ie.text.TrackClass(e);return f.addTrack(g),g}function Oa(a,b){af[a]=af[a]||[],af[a].push(b)}function Pa(a,b,c){a.setTimeout(function(){return Ya(b,af[b.type],c,a)},1)}function Qa(a,b){a.forEach(function(a){return a.setTech&&a.setTech(b)})}function Ra(a,b,c){return a.reduceRight(Ua(c),b[c]())}function Sa(a,b,c,d){return b[c](a.reduce(Ua(c),d))}function Ta(a,b,c,d){void 0===d&&(d=null);var e="call"+hd(c),f=a.reduce(Ua(e),d),g=f===cf,h=g?null:b[c](f);return Va(a,c,h,g),h}function Ua(a){return function(b,c){return b===cf?cf:c[a]?c[a](b):b}}function Va(a,b,c,d){for(var e=a.length-1;e>=0;e--){var f=a[e];f[b]&&f[b](d,c)}}function Wa(a){bf[a.id()]=null}function Xa(a,b){var c=bf[a.id()],d=null;if(void 0===c||null===c)return d=b(a),bf[a.id()]=[[b,d]],d;for(var e=0;e<c.length;e++){var f=c[e],g=f[0],h=f[1];g===b&&(d=h)}return null===d&&(d=b(a),c.push([b,d])),d}function Ya(a,b,c,d,e,f){void 0===a&&(a={}),void 0===b&&(b=[]),void 0===e&&(e=[]),void 0===f&&(f=!1);var h=b,i=h[0],j=h.slice(1);if("string"==typeof i)Ya(a,af[i],c,d,e,f);else if(i){var k=Xa(d,i);if(!k.setSource)return e.push(k),Ya(a,j,c,d,e,f);k.setSource(g({},a),function(b,g){return b?Ya(a,j,c,d,e,f):(e.push(k),void Ya(g,a.type===g.type?j:af[g.type],c,d,e,f))})}else j.length?Ya(a,j,c,d,e,f):f?c(a,e):Ya(a,af["*"],c,d,e,!0)}function Za(a){if(!a.type){var b=hf(a.src);b&&(a.type=b)}return a}function $a(a,b){var c;if(4===a.length)c=a[1]+a[1]+a[2]+a[2]+a[3]+a[3];else{if(7!==a.length)throw new Error("Invalid color code provided, "+a+"; must be formatted as e.g. #f0e or #f604e2.");c=a.slice(1)}return"rgba("+parseInt(c.slice(0,2),16)+","+parseInt(c.slice(2,4),16)+","+parseInt(c.slice(4,6),16)+","+b+")"}function _a(a,b,c){try{a.style[b]=c}catch(a){return}}function ab(a){yf=a}function bb(){yf=xf}function cb(a,b){return void 0===b&&(b=a),yf(a,b)}function db(a,b){if(b&&(a=b(a)),a&&"none"!==a)return a}function eb(a,b){var c=a.options[a.options.selectedIndex].value;return db(c,b)}function fb(a,b,c){if(b)for(var d=0;d<a.options.length;d++)if(db(a.options[d].value,c)===b){a.selectedIndex=d;break}}function gb(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function hb(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&dh(a,b)}function ib(b,c,d){var e=ib.getPlayer(b);if(e)return c&&yc.warn('Player "'+b+'" is already initialised. Options will not be applied.'),d&&e.ready(d),e;var f="string"==typeof b?Dc("#"+sh(b)):b;if(c.params.shadowDom&&a.playerShadowRoot[""+b]&&(f=a.playerShadowRoot[""+b].getElementById(""+b)),c.params.idIframe&&(f=a.document.getElementById(c.params.idIframe).contentWindow.document.getElementById(""+b)),!o(f))throw new TypeError("The element or ID supplied is not valid. (videojs)");f.ownerDocument.defaultView&&f.ownerDocument.body.contains(f)||yc.warn("The element supplied is not included in the DOM"),c=c||{},ib.hooks("beforesetup").forEach(function(a){var b=a(f,_(c));return!h(b)||Array.isArray(b)?void yc.error("please return an object in beforesetup hooks"):void(c=_(c,b))});var g=nd.getComponent("Player");return e=new g(f,c,d),ib.hooks("setup").forEach(function(a){return a(e)}),e}function jb(){return jb=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},jb.apply(this,arguments)}function kb(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}function lb(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function mb(b){for(var c=a.atob(b||""),d=new Uint8Array(c.length),e=0;e<c.length;e++)d[e]=c.charCodeAt(e);return d}function nb(a){return a&&"object"==typeof a&&"default"in a?a.default:a}function ob(a){return a&&"object"==typeof a&&"default"in a?a.default:a}function pb(a){for(var b=Hh(a),c=new Uint8Array(b.length),d=0;d<b.length;d++)c[d]=b.charCodeAt(d);return c}function qb(){}function rb(a,b,c,d,e){function f(a){if(a>65535){a-=65536;var b=55296+(a>>10),c=56320+(1023&a);return String.fromCharCode(b,c)}return String.fromCharCode(a)}function g(a){var b=a.slice(1,-1);return b in c?c[b]:"#"===b.charAt(0)?f(parseInt(b.substr(1).replace("x","0x"))):(e.error("entity not found:"+a),a)}function h(b){if(b>p){var c=a.substring(p,b).replace(/&#?\w+;/g,g);m&&i(p),d.characters(c,0,b-p),p=b}}function i(b,c){for(;b>=k&&(c=l.exec(a));)j=c.index,k=j+c[0].length,m.lineNumber++;m.columnNumber=b-j+1}for(var j=0,k=0,l=/.*(?:\r\n?|\n)|.*$/g,m=d.locator,n=[{currentNSMap:b}],o={},p=0;;){try{var q=a.indexOf("<",p);if(q<0){if(!a.substr(p).match(/^\s*$/)){var r=d.doc,s=r.createTextNode(a.substr(p));r.appendChild(s),d.currentElement=s}return}switch(q>p&&h(q),a.charAt(q+1)){case"/":var t=a.indexOf(">",q+3),u=a.substring(q+2,t),v=n.pop();t<0?(u=a.substring(q+2).replace(/[\s<].*/,""),e.error("end tag name: "+u+" is not complete:"+v.tagName),t=q+1+u.length):u.match(/\s</)&&(u=u.replace(/[\s<].*/,""),e.error("end tag name: "+u+" maybe not complete"),t=q+1+u.length);var w=v.localNSMap,x=v.tagName==u,y=x||v.tagName&&v.tagName.toLowerCase()==u.toLowerCase();if(y){if(d.endElement(v.uri,v.localName,u),w)for(var z in w)d.endPrefixMapping(z);x||e.fatalError("end tag name: "+u+" is not match the current start tagName:"+v.tagName)}else n.push(v);t++;break;case"?":m&&i(q),t=zb(a,q,d);break;case"!":m&&i(q),t=yb(a,q,d,e);break;default:m&&i(q);var A=new Ab,B=n[n.length-1].currentNSMap,t=tb(a,q,A,B,g,e),C=A.length;if(!A.closed&&wb(a,t,A.tagName,o)&&(A.closed=!0,c.nbsp||e.warning("unclosed xml attribute")),m&&C){for(var D=sb(m,{}),E=0;E<C;E++){var F=A[E];i(F.offset),F.locator=sb(m,{})}d.locator=D,ub(A,d,B)&&n.push(A),d.locator=m}else ub(A,d,B)&&n.push(A);"http://www.w3.org/1999/xhtml"!==A.uri||A.closed?t++:t=vb(a,t,A.tagName,g,d)}}catch(a){e.error("element parse error: "+a),t=-1}t>p?p=t:h(Math.max(q,p)+1)}}function sb(a,b){return b.lineNumber=a.lineNumber,b.columnNumber=a.columnNumber,b}function tb(a,b,c,d,e,f){for(var g,h,i=++b,j=Mh;;){var k=a.charAt(i);switch(k){case"=":if(j===Nh)g=a.slice(b,i),j=Ph;else{if(j!==Oh)throw new Error("attribute equal must after attrName");j=Ph}break;case"'":case'"':if(j===Ph||j===Nh){if(j===Nh&&(f.warning('attribute value must after "="'),g=a.slice(b,i)),b=i+1,i=a.indexOf(k,b),!(i>0))throw new Error("attribute value no end '"+k+"' match");h=a.slice(b,i).replace(/&#?\w+;/g,e),c.add(g,h,b-1),j=Rh}else{if(j!=Qh)throw new Error('attribute value must after "="');h=a.slice(b,i).replace(/&#?\w+;/g,e),c.add(g,h,b),f.warning('attribute "'+g+'" missed start quot('+k+")!!"),b=i+1,j=Rh}break;case"/":switch(j){case Mh:c.setTagName(a.slice(b,i));case Rh:case Sh:case Th:j=Th,c.closed=!0;case Qh:case Nh:case Oh:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return f.error("unexpected end of input"),j==Mh&&c.setTagName(a.slice(b,i)),i;case">":switch(j){case Mh:c.setTagName(a.slice(b,i));case Rh:case Sh:case Th:break;case Qh:case Nh:h=a.slice(b,i),"/"===h.slice(-1)&&(c.closed=!0,h=h.slice(0,-1));case Oh:j===Oh&&(h=g),j==Qh?(f.warning('attribute "'+h+'" missed quot(")!!'),c.add(g,h.replace(/&#?\w+;/g,e),b)):("http://www.w3.org/1999/xhtml"===d[""]&&h.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),c.add(h,h,b));break;case Ph:throw new Error("attribute value missed!!")}return i;case"":k=" ";default:if(k<=" ")switch(j){case Mh:c.setTagName(a.slice(b,i)),j=Sh;break;case Nh:g=a.slice(b,i),j=Oh;break;case Qh:var h=a.slice(b,i).replace(/&#?\w+;/g,e);f.warning('attribute "'+h+'" missed quot(")!!'),c.add(g,h,b);case Rh:j=Sh}else switch(j){case Oh:c.tagName;"http://www.w3.org/1999/xhtml"===d[""]&&g.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),c.add(g,g,b),b=i,j=Nh;break;case Rh:f.warning('attribute space is required"'+g+'"!!');case Sh:j=Nh,b=i;break;case Ph:j=Qh,b=i;break;case Th:throw new Error("elements closed character '/' and '>' must be connected to")}}i++}}function ub(a,b,c){for(var d=a.tagName,e=null,f=a.length;f--;){var g=a[f],h=g.qName,i=g.value,j=h.indexOf(":");if(j>0)var k=g.prefix=h.slice(0,j),l=h.slice(j+1),m="xmlns"===k&&l;else l=h,k=null,m="xmlns"===h&&"";g.localName=l,m!==!1&&(null==e&&(e={},xb(c,c={})),c[m]=e[m]=i,g.uri="http://www.w3.org/2000/xmlns/",b.startPrefixMapping(m,i))}for(var f=a.length;f--;){g=a[f];var k=g.prefix;k&&("xml"===k&&(g.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==k&&(g.uri=c[k||""]))}var j=d.indexOf(":");j>0?(k=a.prefix=d.slice(0,j),l=a.localName=d.slice(j+1)):(k=null,l=a.localName=d);var n=a.uri=c[k||""];if(b.startElement(n,l,d,a),!a.closed)return a.currentNSMap=c,a.localNSMap=e,!0;if(b.endElement(n,l,d),e)for(k in e)b.endPrefixMapping(k)}function vb(a,b,c,d,e){if(/^(?:script|textarea)$/i.test(c)){var f=a.indexOf("</"+c+">",b),g=a.substring(b+1,f);if(/[&<]/.test(g))return/^script$/i.test(c)?(e.characters(g,0,g.length),f):(g=g.replace(/&#?\w+;/g,d),e.characters(g,0,g.length),f)}return b+1}function wb(a,b,c,d){var e=d[c];return null==e&&(e=a.lastIndexOf("</"+c+">"),e<b&&(e=a.lastIndexOf("</"+c)),d[c]=e),e<b}function xb(a,b){for(var c in a)b[c]=a[c]}function yb(a,b,c,d){var e=a.charAt(b+2);switch(e){case"-":if("-"===a.charAt(b+3)){var f=a.indexOf("-->",b+4);return f>b?(c.comment(a,b+4,f-b-4),f+3):(d.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==a.substr(b+3,6)){var f=a.indexOf("]]>",b+9);return c.startCDATA(),c.characters(a,b+9,f-b-9),c.endCDATA(),f+3}var g=Cb(a,b),h=g.length;if(h>1&&/!doctype/i.test(g[0][0])){var i=g[1][0],j=h>3&&/^public$/i.test(g[2][0])&&g[3][0],k=h>4&&g[4][0],l=g[h-1];return c.startDTD(i,j&&j.replace(/^(['"])(.*?)\1$/,"$2"),k&&k.replace(/^(['"])(.*?)\1$/,"$2")),c.endDTD(),l.index+l[0].length}}return-1}function zb(a,b,c){var d=a.indexOf("?>",b);if(d){var e=a.substring(b,d).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(e){e[0].length;return c.processingInstruction(e[1],e[2]),d+2}return-1}return-1}function Ab(a){}function Bb(a,b){return a.__proto__=b,a}function Cb(a,b){var c,d=[],e=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(e.lastIndex=b,e.exec(a);c=e.exec(a);)if(d.push(c),c[1])return d}function Db(a,b){for(var c in a)b[c]=a[c]}function Eb(a,b){var c=a.prototype;if(Object.create){var d=Object.create(b.prototype);c.__proto__=d}if(!(c instanceof b)){var e=function(){};e.prototype=b.prototype,e=new e,Db(c,e),a.prototype=c=e}c.constructor!=a&&(c.constructor=a)}function Fb(a,b){if(b instanceof Error)var c=b;else c=this,Error.call(this,ji[a]),this.message=ji[a],Error.captureStackTrace&&Error.captureStackTrace(this,Fb);return c.code=a,b&&(this.message=this.message+": "+b),c}function Gb(){}function Hb(a,b){this._node=a,this._refresh=b,Ib(this)}function Ib(a){var b=a._node._inc||a._node.ownerDocument._inc;if(a._inc!=b){var c=a._refresh(a._node);oc(a,"length",c.length),Db(c,a),a._inc=b}}function Jb(){}function Kb(a,b){for(var c=a.length;c--;)if(a[c]===b)return c}function Lb(a,b,c,d){if(d?b[Kb(b,d)]=c:b[b.length++]=c,a){c.ownerElement=a;var e=a.ownerDocument;e&&(d&&Tb(e,a,d),Sb(e,a,c))}}function Mb(a,b,c){var d=Kb(b,c);if(!(d>=0))throw Fb(li,new Error(a.tagName+"@"+c));for(var e=b.length-1;d<e;)b[d]=b[++d];if(b.length=e,a){var f=a.ownerDocument;f&&(Tb(f,a,c),c.ownerElement=null)}}function Nb(a){if(this._features={},a)for(var b in a)this._features=a[b]}function Ob(){}function Pb(a){return"<"==a&&"&lt;"||">"==a&&"&gt;"||"&"==a&&"&amp;"||'"'==a&&"&quot;"||"&#"+a.charCodeAt()+";"}function Qb(a,b){if(b(a))return!0;if(a=a.firstChild)do if(Qb(a,b))return!0;while(a=a.nextSibling)}function Rb(){}function Sb(a,b,c){
a&&a._inc++;var d=c.namespaceURI;"http://www.w3.org/2000/xmlns/"==d&&(b._nsMap[c.prefix?c.localName:""]=c.value)}function Tb(a,b,c,d){a&&a._inc++;var e=c.namespaceURI;"http://www.w3.org/2000/xmlns/"==e&&delete b._nsMap[c.prefix?c.localName:""]}function Ub(a,b,c){if(a&&a._inc){a._inc++;var d=b.childNodes;if(c)d[d.length++]=c;else{for(var e=b.firstChild,f=0;e;)d[f++]=e,e=e.nextSibling;d.length=f}}}function Vb(a,b){var c=b.previousSibling,d=b.nextSibling;return c?c.nextSibling=d:a.firstChild=d,d?d.previousSibling=c:a.lastChild=c,Ub(a.ownerDocument,a),b}function Wb(a,b,c){var d=b.parentNode;if(d&&d.removeChild(b),b.nodeType===gi){var e=b.firstChild;if(null==e)return b;var f=b.lastChild}else e=f=b;var g=c?c.previousSibling:a.lastChild;e.previousSibling=g,f.nextSibling=c,g?g.nextSibling=e:a.firstChild=e,null==c?a.lastChild=f:c.previousSibling=f;do e.parentNode=a;while(e!==f&&(e=e.nextSibling));return Ub(a.ownerDocument||a,a),b.nodeType==gi&&(b.firstChild=b.lastChild=null),b}function Xb(a,b){var c=b.parentNode;if(c){var d=a.lastChild;c.removeChild(b);var d=a.lastChild}var d=a.lastChild;return b.parentNode=a,b.previousSibling=d,b.nextSibling=null,d?d.nextSibling=b:a.firstChild=b,a.lastChild=b,Ub(a.ownerDocument,a,b),b}function Yb(){this._nsMap={}}function Zb(){}function $b(){}function _b(){}function ac(){}function bc(){}function cc(){}function dc(){}function ec(){}function fc(){}function gc(){}function hc(){}function ic(){}function jc(a,b){var c=[],d=9==this.nodeType?this.documentElement:this,e=d.prefix,f=d.namespaceURI;if(f&&null==e){var e=d.lookupPrefix(f);if(null==e)var g=[{namespace:f,prefix:null}]}return lc(this,c,a,b,g),c.join("")}function kc(a,b,c){var d=a.prefix||"",e=a.namespaceURI;if(!d&&!e)return!1;if("xml"===d&&"http://www.w3.org/XML/1998/namespace"===e||"http://www.w3.org/2000/xmlns/"==e)return!1;for(var f=c.length;f--;){var g=c[f];if(g.prefix==d)return g.namespace!=e}return!0}function lc(a,b,c,d,e){if(d){if(a=d(a),!a)return;if("string"==typeof a)return void b.push(a)}switch(a.nodeType){case Yh:e||(e=[]);var f=(e.length,a.attributes),g=f.length,h=a.firstChild,i=a.tagName;c=Wh===a.namespaceURI||c,b.push("<",i);for(var j=0;j<g;j++){var k=f.item(j);"xmlns"==k.prefix?e.push({prefix:k.localName,namespace:k.value}):"xmlns"==k.nodeName&&e.push({prefix:"",namespace:k.value})}for(var j=0;j<g;j++){var k=f.item(j);if(kc(k,c,e)){var l=k.prefix||"",m=k.namespaceURI,n=l?" xmlns:"+l:" xmlns";b.push(n,'="',m,'"'),e.push({prefix:l,namespace:m})}lc(k,b,c,d,e)}if(kc(a,c,e)){var l=a.prefix||"",m=a.namespaceURI,n=l?" xmlns:"+l:" xmlns";b.push(n,'="',m,'"'),e.push({prefix:l,namespace:m})}if(h||c&&!/^(?:meta|link|img|br|hr|input)$/i.test(i)){if(b.push(">"),c&&/^script$/i.test(i))for(;h;)h.data?b.push(h.data):lc(h,b,c,d,e),h=h.nextSibling;else for(;h;)lc(h,b,c,d,e),h=h.nextSibling;b.push("</",i,">")}else b.push("/>");return;case ei:case gi:for(var h=a.firstChild;h;)lc(h,b,c,d,e),h=h.nextSibling;return;case Zh:return b.push(" ",a.name,'="',a.value.replace(/[<&"]/g,Pb),'"');case $h:return b.push(a.data.replace(/[<&]/g,Pb));case _h:return b.push("<![CDATA[",a.data,"]]>");case di:return b.push("<!--",a.data,"-->");case fi:var o=a.publicId,p=a.systemId;if(b.push("<!DOCTYPE ",a.name),o)b.push(' PUBLIC "',o),p&&"."!=p&&b.push('" "',p),b.push('">');else if(p&&"."!=p)b.push(' SYSTEM "',p,'">');else{var q=a.internalSubset;q&&b.push(" [",q,"]"),b.push(">")}return;case ci:return b.push("<?",a.target," ",a.data,"?>");case ai:return b.push("&",a.nodeName,";");default:b.push("??",a.nodeName)}}function mc(a,b,c){var d;switch(b.nodeType){case Yh:d=b.cloneNode(!1),d.ownerDocument=a;case gi:break;case Zh:c=!0}if(d||(d=b.cloneNode(!1)),d.ownerDocument=a,d.parentNode=null,c)for(var e=b.firstChild;e;)d.appendChild(mc(a,e,c)),e=e.nextSibling;return d}function nc(a,b,c){var d=new b.constructor;for(var e in b){var f=b[e];"object"!=typeof f&&f!=d[e]&&(d[e]=f)}switch(b.childNodes&&(d.childNodes=new Gb),d.ownerDocument=a,d.nodeType){case Yh:var g=b.attributes,h=d.attributes=new Jb,i=g.length;h._ownerElement=d;for(var j=0;j<i;j++)d.setAttributeNode(nc(a,g.item(j),!0));break;case Zh:c=!0}if(c)for(var k=b.firstChild;k;)d.appendChild(nc(a,k,c)),k=k.nextSibling;return d}function oc(a,b,c){a[b]=c}function pc(a){return a.subarray(0,a.byteLength-a[a.byteLength-1])}function qc(a,b){return function(c){var d=this;if(!b)return new $m(a);if($m&&!c){var e=b.toString().replace(/^function.+?{/,"").slice(0,-1),f=rc(e);return this[Wm]=new $m(f),sc(this[Wm],f),this[Wm]}var g={postMessage:function(a){d.onmessage&&setTimeout(function(){d.onmessage({data:a,target:g})})}};b.call(g),this.postMessage=function(a){setTimeout(function(){g.onmessage({data:a,target:d})})},this.isThisThread=!0}}function rc(a){try{return Zm.createObjectURL(new Blob([a],{type:Xm}))}catch(c){var b=new Ym;return b.append(a),Zm.createObjectURL(b.getBlob(type))}}function sc(a,b){if(a&&b){var c=a.terminate;a.objURL=b,a.terminate=function(){a.objURL&&Zm.revokeObjectURL(a.objURL),c.call(a)}}}function tc(){}a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,b=b&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b;var uc,vc="7.9.2",wc=[],xc=function(b,c){return function(d,e,f){var g=c.levels[e],h=new RegExp("^("+g+")$");if("log"!==d&&f.unshift(d.toUpperCase()+":"),f.unshift(b+":"),wc){wc.push([].concat(f));var i=wc.length-1e3;wc.splice(0,i>0?i:0)}if(a.console){var j=a.console[d];j||"debug"!==d||(j=a.console.info||a.console.log),j&&g&&h.test(d)&&j[Array.isArray(f)?"apply":"call"](a.console,f)}}},yc=c("VIDEOJS"),zc=yc.createLogger,Ac=d(function(a){function b(){return a.exports=b=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b.apply(this,arguments)}a.exports=b}),Bc=Object.prototype.toString,Cc=function(a){return h(a)?Object.keys(a):[]},Dc=q("querySelector"),Ec=q("querySelectorAll"),Fc=Object.freeze({__proto__:null,isReal:n,isEl:o,isInFrame:p,createEl:r,textContent:s,prependTo:t,hasClass:u,addClass:v,removeClass:w,toggleClass:x,setAttributes:y,getAttributes:z,getAttribute:A,setAttribute:B,removeAttribute:C,blockTextSelection:D,unblockTextSelection:E,getBoundingClientRect:F,findPosition:G,getPointerPosition:H,isTextNode:I,emptyEl:J,normalizeContent:K,appendContent:L,insertContent:M,isSingleLeftClick:N,$:Dc,$$:Ec}),Gc=!1,Hc=function(){if(n()&&uc.options.autoSetup!==!1){var a=Array.prototype.slice.call(b.getElementsByTagName("video")),c=Array.prototype.slice.call(b.getElementsByTagName("audio")),d=Array.prototype.slice.call(b.getElementsByTagName("video-js")),e=a.concat(c,d);if(e&&e.length>0)for(var f=0,g=e.length;f<g;f++){var h=e[f];if(!h||!h.getAttribute){O(1);break}if(void 0===h.player){var i=h.getAttribute("data-setup");null!==i&&uc(h)}}else Gc||O(1)}};n()&&("complete"===b.readyState?P():a.addEventListener("load",P));var Ic,Jc=function(a){var c=b.createElement("style");return c.className=a,c},Kc=function(a,b){a.styleSheet?a.styleSheet.cssText=b:a.textContent=b},Lc=3,Mc=Lc;a.WeakMap||(Ic=function(){function b(){this.vdata="vdata"+Math.floor(a.performance&&a.performance.now()||Date.now()),this.data={}}var c=b.prototype;return c.set=function(a,b){var c=a[this.vdata]||Q();return a[this.vdata]||(a[this.vdata]=c),this.data[c]=b,this},c.get=function(a){var b=a[this.vdata];return b?this.data[b]:void yc("We have no data for this element",a)},c.has=function(a){var b=a[this.vdata];return b in this.data},c.delete=function(a){var b=a[this.vdata];b&&(delete this.data[b],delete a[this.vdata])},b}());var Nc,Oc=a.WeakMap?new WeakMap:new Ic,Pc=function(){if("boolean"!=typeof Nc){Nc=!1;try{var b=Object.defineProperty({},"passive",{get:function(){Nc=!0}});a.addEventListener("test",null,b),a.removeEventListener("test",null,b)}catch(a){}}return Nc},Qc=["touchstart","touchmove"],Rc=Object.freeze({__proto__:null,fixEvent:T,on:U,off:V,trigger:W,one:X,any:Y}),Sc=30,Tc=function(a,b,c){b.guid||(b.guid=Q());var d=b.bind(a);return d.guid=c?c+"_"+b.guid:b.guid,d},Uc=function(b,c){var d=a.performance.now(),e=function(){var e=a.performance.now();e-d>=c&&(b.apply(void 0,arguments),d=e)};return e},Vc=function(b,c,d,e){void 0===e&&(e=a);var f,g=function(){e.clearTimeout(f),f=null},h=function(){var a=this,g=arguments,h=function(){f=null,h=null,d||b.apply(a,g)};!f&&d&&b.apply(a,g),e.clearTimeout(f),f=e.setTimeout(h,c)};return h.cancel=g,h},Wc=function(){};Wc.prototype.allowedEvents_={},Wc.prototype.on=function(a,b){var c=this.addEventListener;this.addEventListener=function(){},U(this,a,b),this.addEventListener=c},Wc.prototype.addEventListener=Wc.prototype.on,Wc.prototype.off=function(a,b){V(this,a,b)},Wc.prototype.removeEventListener=Wc.prototype.off,Wc.prototype.one=function(a,b){var c=this.addEventListener;this.addEventListener=function(){},X(this,a,b),this.addEventListener=c},Wc.prototype.any=function(a,b){var c=this.addEventListener;this.addEventListener=function(){},Y(this,a,b),this.addEventListener=c},Wc.prototype.trigger=function(a){var b=a.type||a;"string"==typeof a&&(a={type:b}),a=T(a),this.allowedEvents_[b]&&this["on"+b]&&this["on"+b](a),W(this,a)},Wc.prototype.dispatchEvent=Wc.prototype.trigger;var Xc;Wc.prototype.queueTrigger=function(b){var c=this;Xc||(Xc=new Map);var d=b.type||b,e=Xc.get(this);e||(e=new Map,Xc.set(this,e));var f=e.get(d);e.delete(d),a.clearTimeout(f);var g=a.setTimeout(function(){0===e.size&&(e=null,Xc.delete(c)),c.trigger(b)},0);e.set(d,g)};var Yc=function(a){return a instanceof Wc||!!a.eventBusEl_&&["on","one","off","trigger"].every(function(b){return"function"==typeof a[b]})},Zc=function(a,b){Yc(a)?b():(a.eventedCallbacks||(a.eventedCallbacks=[]),a.eventedCallbacks.push(b))},$c=function(a){return"string"==typeof a&&/\S/.test(a)||Array.isArray(a)&&!!a.length},_c=function(a){if(!a.nodeName&&!Yc(a))throw new Error("Invalid target; must be a DOM node or evented object.")},ad=function(a){if(!$c(a))throw new Error("Invalid event type; must be a non-empty string or array.")},bd=function(a){if("function"!=typeof a)throw new Error("Invalid listener; must be a function.")},cd=function(a,b){var c,d,e,f=b.length<3||b[0]===a||b[0]===a.eventBusEl_;return f?(c=a.eventBusEl_,b.length>=3&&b.shift(),d=b[0],e=b[1]):(c=b[0],d=b[1],e=b[2]),_c(c),ad(d),bd(e),e=Tc(a,e),{isTargetingSelf:f,target:c,type:d,listener:e}},dd=function(a,b,c,d){_c(a),a.nodeName?Rc[b](a,c,d):a[b](c,d)},ed={on:function(){for(var a=this,b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=cd(this,c),f=e.isTargetingSelf,g=e.target,h=e.type,i=e.listener;if(dd(g,"on",h,i),!f){var j=function(){return a.off(g,h,i)};j.guid=i.guid;var k=function(){return a.off("dispose",j)};k.guid=i.guid,dd(this,"on","dispose",j),dd(g,"on","dispose",k)}},one:function(){for(var a=this,b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=cd(this,c),f=e.isTargetingSelf,g=e.target,h=e.type,i=e.listener;if(f)dd(g,"one",h,i);else{var j=function b(){a.off(g,h,b);for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];i.apply(null,d)};j.guid=i.guid,dd(g,"one",h,j)}},any:function(){for(var a=this,b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=cd(this,c),f=e.isTargetingSelf,g=e.target,h=e.type,i=e.listener;if(f)dd(g,"any",h,i);else{var j=function b(){a.off(g,h,b);for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];i.apply(null,d)};j.guid=i.guid,dd(g,"any",h,j)}},off:function(a,b,c){if(!a||$c(a))V(this.eventBusEl_,a,b);else{var d=a,e=b;_c(d),ad(e),bd(c),c=Tc(this,c),this.off("dispose",c),d.nodeName?(V(d,e,c),V(d,"dispose",c)):Yc(d)&&(d.off(e,c),d.off("dispose",c))}},trigger:function(a,b){return W(this.eventBusEl_,a,b)}},fd={state:{},setState:function(a){var b=this;"function"==typeof a&&(a=a());var c;return e(a,function(a,d){b.state[d]!==a&&(c=c||{},c[d]={from:b.state[d],to:a}),b.state[d]=a}),c&&Yc(this)&&this.trigger({changes:c,type:"statechanged"}),c}},gd=function(a){return"string"!=typeof a?a:a.replace(/./,function(a){return a.toLowerCase()})},hd=function(a){return"string"!=typeof a?a:a.replace(/./,function(a){return a.toUpperCase()})},id=function(a,b){return hd(a)===hd(b)},jd=function(){function a(){this.map_={}}var b=a.prototype;return b.has=function(a){return a in this.map_},b.delete=function(a){var b=this.has(a);return delete this.map_[a],b},b.set=function(a,b){return this.set_[a]=b,this},b.forEach=function(a,b){for(var c in this.map_)a.call(b,this.map_[c],c,this)},a}(),kd=a.Map?a.Map:jd,ld=function(){function a(){this.set_={}}var b=a.prototype;return b.has=function(a){return a in this.set_},b.delete=function(a){var b=this.has(a);return delete this.set_[a],b},b.add=function(a){return this.set_[a]=1,this},b.forEach=function(a,b){for(var c in this.set_)a.call(b,c,c,this)},a}(),md=a.Set?a.Set:ld,nd=function(){function b(a,b,c){if(!a&&this.play?this.player_=a=this:this.player_=a,this.isDisposed_=!1,this.parentComponent_=null,this.options_=_({},this.options_),b=this.options_=_(this.options_,b),this.id_=b.id||b.el&&b.el.id,!this.id_){var d=a&&a.id&&a.id()||"no_player";this.id_=d+"_component_"+Q()}this.name_=b.name||null,b.el?this.el_=b.el:b.createEl!==!1&&(this.el_=this.createEl()),b.evented!==!1&&Z(this,{eventBusKey:this.el_?"el_":null}),$(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new md,this.setIntervalIds_=new md,this.rafIds_=new md,this.namedRafs_=new kd,this.clearingTimersOnDispose_=!1,b.initChildren!==!1&&this.initChildren(),this.ready(c),b.reportTouchActivity!==!1&&this.enableTouchActivity()}var c=b.prototype;return c.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Oc.has(this.el_)&&Oc.delete(this.el_),this.el_=null),this.player_=null}},c.isDisposed=function(){return Boolean(this.isDisposed_)},c.player=function(){return this.player_},c.options=function(a){return a?(this.options_=_(this.options_,a),this.options_):this.options_},c.el=function(){return this.el_},c.createEl=function(a,b,c){return r(a,b,c)},c.localize=function(a,b,c){void 0===c&&(c=a);var d=this.player_.language&&this.player_.language(),e=this.player_.languages&&this.player_.languages(),f=e&&e[d],g=d&&d.split("-")[0],h=e&&e[g],i=c;return f&&f[a]?i=f[a]:h&&h[a]&&(i=h[a]),b&&(i=i.replace(/\{(\d+)\}/g,function(a,c){var d=b[c-1],e=d;return"undefined"==typeof d&&(e=a),e})),i},c.contentEl=function(){return this.contentEl_||this.el_},c.id=function(){return this.id_},c.name=function(){return this.name_},c.children=function(){return this.children_},c.getChildById=function(a){return this.childIndex_[a]},c.getChild=function(a){if(a)return this.childNameIndex_[a]},c.getDescendant=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];b=b.reduce(function(a,b){return a.concat(b)},[]);for(var d=this,e=0;e<b.length;e++)if(d=d.getChild(b[e]),!d||!d.getChild)return;return d},c.addChild=function(a,c,d){void 0===c&&(c={}),void 0===d&&(d=this.children_.length);var e,f;if("string"==typeof a){f=hd(a);var g=c.componentClass||f;c.name=f;var h=b.getComponent(g);if(!h)throw new Error("Component "+g+" does not exist");if("function"!=typeof h)return null;e=new h(this.player_||this,c)}else e=a;if(e.parentComponent_&&e.parentComponent_.removeChild(e),this.children_.splice(d,0,e),e.parentComponent_=this,"function"==typeof e.id&&(this.childIndex_[e.id()]=e),f=f||e.name&&hd(e.name()),f&&(this.childNameIndex_[f]=e,this.childNameIndex_[gd(f)]=e),"function"==typeof e.el&&e.el()){var i=null;this.children_[d+1]&&(this.children_[d+1].el_?i=this.children_[d+1].el_:o(this.children_[d+1])&&(i=this.children_[d+1])),this.contentEl().insertBefore(e.el(),i)}return e},c.removeChild=function(a){if("string"==typeof a&&(a=this.getChild(a)),a&&this.children_){for(var b=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===a){b=!0,this.children_.splice(c,1);break}if(b){a.parentComponent_=null,this.childIndex_[a.id()]=null,this.childNameIndex_[hd(a.name())]=null,this.childNameIndex_[gd(a.name())]=null;var d=a.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}},c.initChildren=function(){var a=this,c=this.options_.children;if(c){var d,e=this.options_,f=function(b){var c=b.name,d=b.opts;if(void 0!==e[c]&&(d=e[c]),d!==!1){d===!0&&(d={}),d.playerOptions=a.options_.playerOptions;var f=a.addChild(c,d);f&&(a[c]=f)}},g=b.getComponent("Tech");d=Array.isArray(c)?c:Object.keys(c),d.concat(Object.keys(this.options_).filter(function(a){return!d.some(function(b){return"string"==typeof b?a===b:a===b.name})})).map(function(b){var d,e;return"string"==typeof b?(d=b,e=c[d]||a.options_[d]||{}):(d=b.name,e=b),{name:d,opts:e}}).filter(function(a){var c=b.getComponent(a.opts.componentClass||hd(a.name));return c&&!g.isTech(c)}).forEach(f)}},c.buildCSSClass=function(){return""},c.ready=function(a,b){if(void 0===b&&(b=!1),a)return this.isReady_?void(b?a.call(this):this.setTimeout(a,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(a))},c.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var a=this.readyQueue_;this.readyQueue_=[],a&&a.length>0&&a.forEach(function(a){a.call(this)},this),this.trigger("ready")},1)},c.$=function(a,b){return Dc(a,b||this.contentEl())},c.$$=function(a,b){return Ec(a,b||this.contentEl())},c.hasClass=function(a){return u(this.el_,a)},c.addClass=function(a){v(this.el_,a)},c.removeClass=function(a){w(this.el_,a)},c.toggleClass=function(a,b){x(this.el_,a,b)},c.show=function(){this.removeClass("vjs-hidden")},c.hide=function(){this.addClass("vjs-hidden")},c.lockShowing=function(){this.addClass("vjs-lock-showing")},c.unlockShowing=function(){this.removeClass("vjs-lock-showing")},c.getAttribute=function(a){return A(this.el_,a)},c.setAttribute=function(a,b){B(this.el_,a,b)},c.removeAttribute=function(a){C(this.el_,a)},c.width=function(a,b){return this.dimension("width",a,b)},c.height=function(a,b){return this.dimension("height",a,b)},c.dimensions=function(a,b){this.width(a,!0),this.height(b)},c.dimension=function(a,b,c){if(void 0!==b)return null!==b&&b===b||(b=0),(""+b).indexOf("%")!==-1||(""+b).indexOf("px")!==-1?this.el_.style[a]=b:"auto"===b?this.el_.style[a]="":this.el_.style[a]=b+"px",void(c||this.trigger("componentresize"));if(!this.el_)return 0;var d=this.el_.style[a],e=d.indexOf("px");return e!==-1?parseInt(d.slice(0,e),10):parseInt(this.el_["offset"+hd(a)],10)},c.currentDimension=function(a){var b=0;if("width"!==a&&"height"!==a)throw new Error("currentDimension only accepts width or height value");if(b=j(this.el_,a),b=parseFloat(b),0===b||isNaN(b)){var c="offset"+hd(a);b=this.el_[c]}return b},c.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},c.currentWidth=function(){return this.currentDimension("width")},c.currentHeight=function(){return this.currentDimension("height")},c.focus=function(){this.el_.focus()},c.blur=function(){this.el_.blur()},c.handleKeyDown=function(a){this.player_&&(a.stopPropagation(),this.player_.handleKeyDown(a))},c.handleKeyPress=function(a){this.handleKeyDown(a)},c.emitTapEvents=function(){var b,c=0,d=null,e=10,f=200;this.on("touchstart",function(e){1===e.touches.length&&(d={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},c=a.performance.now(),b=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)b=!1;else if(d){var c=a.touches[0].pageX-d.pageX,f=a.touches[0].pageY-d.pageY,g=Math.sqrt(c*c+f*f);g>e&&(b=!1)}});var g=function(){b=!1};this.on("touchleave",g),this.on("touchcancel",g),this.on("touchend",function(e){if(d=null,b===!0){var g=a.performance.now()-c;g<f&&(e.preventDefault(),this.trigger("tap"))}})},c.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var a,b=Tc(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){b(),this.clearInterval(a),a=this.setInterval(b,250)});var c=function(c){b(),this.clearInterval(a)};this.on("touchmove",b),this.on("touchend",c),this.on("touchcancel",c)}},c.setTimeout=function(b,c){var d,e=this;return b=Tc(this,b),this.clearTimersOnDispose_(),d=a.setTimeout(function(){e.setTimeoutIds_.has(d)&&e.setTimeoutIds_.delete(d),b()},c),this.setTimeoutIds_.add(d),d},c.clearTimeout=function(b){return this.setTimeoutIds_.has(b)&&(this.setTimeoutIds_.delete(b),a.clearTimeout(b)),b},c.setInterval=function(b,c){b=Tc(this,b),this.clearTimersOnDispose_();var d=a.setInterval(b,c);return this.setIntervalIds_.add(d),d},c.clearInterval=function(b){return this.setIntervalIds_.has(b)&&(this.setIntervalIds_.delete(b),a.clearInterval(b)),b},c.requestAnimationFrame=function(b){var c=this;if(!this.supportsRaf_)return this.setTimeout(b,1e3/60);this.clearTimersOnDispose_();var d;return b=Tc(this,b),d=a.requestAnimationFrame(function(){c.rafIds_.has(d)&&c.rafIds_.delete(d),b()}),this.rafIds_.add(d),d},c.requestNamedAnimationFrame=function(a,b){var c=this;if(!this.namedRafs_.has(a)){this.clearTimersOnDispose_(),b=Tc(this,b);var d=this.requestAnimationFrame(function(){b(),c.namedRafs_.has(a)&&c.namedRafs_.delete(a)});return this.namedRafs_.set(a,d),a}},c.cancelNamedAnimationFrame=function(a){this.namedRafs_.has(a)&&(this.cancelAnimationFrame(this.namedRafs_.get(a)),this.namedRafs_.delete(a))},c.cancelAnimationFrame=function(b){return this.supportsRaf_?(this.rafIds_.has(b)&&(this.rafIds_.delete(b),a.cancelAnimationFrame(b)),b):this.clearTimeout(b)},c.clearTimersOnDispose_=function(){var a=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(b){var c=b[0],d=b[1];a[c].forEach(function(b,c){return a[d](c)})}),a.clearingTimersOnDispose_=!1}))},b.registerComponent=function(a,c){if("string"!=typeof a||!a)throw new Error('Illegal component name, "'+a+'"; must be a non-empty string.');var d=b.getComponent("Tech"),e=d&&d.isTech(c),f=b===c||b.prototype.isPrototypeOf(c.prototype);if(e||!f){var g;throw g=e?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+a+'"; '+g+".")}a=hd(a),b.components_||(b.components_={});var h=b.getComponent("Player");if("Player"===a&&h&&h.players){var i=h.players,j=Object.keys(i);if(i&&j.length>0&&j.map(function(a){return i[a]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return b.components_[a]=c,b.components_[gd(a)]=c,c},b.getComponent=function(a){if(a&&b.components_)return b.components_[a]},b}();nd.prototype.supportsRaf_="function"==typeof a.requestAnimationFrame&&"function"==typeof a.cancelAnimationFrame,nd.registerComponent("Component",nd);for(var od,pd=aa,qd=(d(function(a){function b(c){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?a.exports=b=function(a){return typeof a}:a.exports=b=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b(c)}a.exports=b}),d(function(a){function b(c){return a.exports=b=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},b(c)}a.exports=b}),ba),rd=a.navigator&&a.navigator.userAgent||"",sd=/AppleWebKit\/([\d.]+)/i.exec(rd),td=sd?parseFloat(sd.pop()):null,ud=/iPod/i.test(rd),vd=function(){var a=rd.match(/OS (\d+)_/i);return a&&a[1]?a[1]:null}(),wd=/Android/i.test(rd),xd=function(){var a=rd.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!a)return null;var b=a[1]&&parseFloat(a[1]),c=a[2]&&parseFloat(a[2]);return b&&c?parseFloat(a[1]+"."+a[2]):b?b:null}(),yd=wd&&xd<5&&td<537,zd=/Firefox/i.test(rd),Ad=/Edg/i.test(rd),Bd=!Ad&&(/Chrome/i.test(rd)||/CriOS/i.test(rd)),Cd=function(){var a=rd.match(/(Chrome|CriOS)\/(\d+)/);return a&&a[2]?parseFloat(a[2]):null}(),Dd=function(){var a=/MSIE\s(\d+)\.\d/.exec(rd),b=a&&parseFloat(a[1]);return!b&&/Trident\/7.0/i.test(rd)&&/rv:11.0/.test(rd)&&(b=11),b}(),Ed=/Safari/i.test(rd)&&!Bd&&!wd&&!Ad,Fd=/Windows/i.test(rd),Gd=(n()&&("ontouchstart"in a||a.navigator.maxTouchPoints||a.DocumentTouch&&a.document instanceof a.DocumentTouch)),Hd=/iPad/i.test(rd)||Ed&&Gd&&!/iPhone/i.test(rd),Id=/iPhone/i.test(rd)&&!Hd,Jd=Id||Hd||ud,Kd=(Ed||Jd)&&!Bd,Ld=Object.freeze({__proto__:null,IS_IPOD:ud,IOS_VERSION:vd,IS_ANDROID:wd,ANDROID_VERSION:xd,IS_NATIVE_ANDROID:yd,IS_FIREFOX:zd,IS_EDGE:Ad,IS_CHROME:Bd,CHROME_VERSION:Cd,IE_VERSION:Dd,IS_SAFARI:Ed,IS_WINDOWS:Fd,TOUCH_ENABLED:Gd,IS_IPAD:Hd,IS_IPHONE:Id,IS_IOS:Jd,IS_ANY_SAFARI:Kd}),Md={prefixed:!0},Nd=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Od=Nd[0],Pd=0;Pd<Nd.length;Pd++)if(Nd[Pd][1]in b){od=Nd[Pd];break}if(od){for(var Qd=0;Qd<od.length;Qd++)Md[Od[Qd]]=od[Qd];Md.prefixed=od[0]!==Od[0]}ha.prototype.code=0,ha.prototype.message="",ha.prototype.status=null,ha.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ha.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Rd=0;Rd<ha.errorTypes.length;Rd++)ha[ha.errorTypes[Rd]]=Rd,ha.prototype[ha.errorTypes[Rd]]=Rd;var Sd=ia,Td=function(a){var b=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(b,c,d){return a[c]&&(b[c]=a[c]),b},{cues:a.cues&&Array.prototype.map.call(a.cues,function(a){return{startTime:a.startTime,endTime:a.endTime,text:a.text,id:a.id}})});return b},Ud=function(a){var b=a.$$("track"),c=Array.prototype.map.call(b,function(a){return a.track}),d=Array.prototype.map.call(b,function(a){var b=Td(a.track);return a.src&&(b.src=a.src),b});return d.concat(Array.prototype.filter.call(a.textTracks(),function(a){return c.indexOf(a)===-1}).map(Td))},Vd=function(a,b){return a.forEach(function(a){var c=b.addRemoteTextTrack(a).track;!a.src&&a.cues&&a.cues.forEach(function(a){return c.addCue(a)})}),b.textTracks()},Wd={textTracksToJson:Ud,jsonToTextTracks:Vd,trackToJson_:Td},Xd=d(function(a,b){function c(a){if(a&&"object"==typeof a){var b=a.which||a.keyCode||a.charCode;b&&(a=b)}if("number"==typeof a)return g[a];var c=String(a),f=d[c.toLowerCase()];if(f)return f;var f=e[c.toLowerCase()];return f?f:1===c.length?c.charCodeAt(0):void 0}c.isEventKey=function(a,b){if(a&&"object"==typeof a){var c=a.which||a.keyCode||a.charCode;if(null===c||void 0===c)return!1;if("string"==typeof b){var f=d[b.toLowerCase()];if(f)return f===c;var f=e[b.toLowerCase()];if(f)return f===c}else if("number"==typeof b)return b===c;return!1}},b=a.exports=c;var d=b.code=b.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},e=b.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(f=97;f<123;f++)d[String.fromCharCode(f)]=f-32;for(var f=48;f<58;f++)d[f-48]=f;for(f=1;f<13;f++)d["f"+f]=f+111;for(f=0;f<10;f++)d["numpad "+f]=f+96;var g=b.names=b.title={};for(f in d)g[d[f]]=f;for(var h in e)d[h]=e[h]}),Yd=(Xd.code,Xd.codes,Xd.aliases,Xd.names,Xd.title,"vjs-modal-dialog"),Zd=function(c){function d(a,b){var d;return d=c.call(this,a,b)||this,d.opened_=d.hasBeenOpened_=d.hasBeenFilled_=!1,d.closeable(!d.options_.uncloseable),d.content(d.options_.content),d.contentEl_=r("div",{className:Yd+"-content"},{role:"document"}),d.descEl_=r("p",{className:Yd+"-description vjs-control-text",id:d.el().getAttribute("aria-describedby")}),s(d.descEl_,d.description()),d.el_.appendChild(d.descEl_),d.el_.appendChild(d.contentEl_),d}qd(d,c);var e=d.prototype;return e.createEl=function(){return c.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,c.prototype.dispose.call(this)},e.buildCSSClass=function(){return Yd+" vjs-hidden "+c.prototype.buildCSSClass.call(this)},e.label=function(){return this.localize(this.options_.label||"Modal Window")},e.description=function(){var a=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(a+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),a},e.open=function(){if(!this.opened_){var a=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!a.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&a.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=a.controls(),a.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.opened=function(a){return"boolean"==typeof a&&this[a?"open":"close"](),this.opened_},e.close=function(){if(this.opened_){var a=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&a.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&a.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.closeable=function a(b){if("boolean"==typeof b){var a=this.closeable_=!!b,c=this.getChild("closeButton");if(a&&!c){var d=this.contentEl_;this.contentEl_=this.el_,c=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=d,this.on(c,"close",this.close)}!a&&c&&(this.off(c,"close",this.close),this.removeChild(c),c.dispose())}return this.closeable_},e.fill=function(){this.fillWith(this.content())},e.fillWith=function(a){var b=this.contentEl(),c=b.parentNode,d=b.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,c.removeChild(b),this.empty(),M(b,a),this.trigger("modalfill"),d?c.insertBefore(b,d):c.appendChild(b);var e=this.getChild("closeButton");e&&c.appendChild(e.el_)},e.empty=function(){this.trigger("beforemodalempty"),J(this.contentEl()),this.trigger("modalempty")},e.content=function(a){return"undefined"!=typeof a&&(this.content_=a),this.content_},e.conditionalFocus_=function(){var a=b.activeElement,c=this.player_.el_;this.previouslyActiveEl_=null,(c.contains(a)||c===a)&&(this.previouslyActiveEl_=a,this.focus());
},e.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},e.handleKeyDown=function(a){if(a.stopPropagation(),Xd.isEventKey(a,"Escape")&&this.closeable())return a.preventDefault(),void this.close();if(Xd.isEventKey(a,"Tab")){for(var c,d=this.focusableEls_(),e=this.el_.querySelector(":focus"),f=0;f<d.length;f++)if(e===d[f]){c=f;break}b.activeElement===this.el_&&(c=0),a.shiftKey&&0===c?(d[d.length-1].focus(),a.preventDefault()):a.shiftKey||c!==d.length-1||(d[0].focus(),a.preventDefault())}},e.focusableEls_=function(){var b=this.el_.querySelectorAll("*");return Array.prototype.filter.call(b,function(b){return(b instanceof a.HTMLAnchorElement||b instanceof a.HTMLAreaElement)&&b.hasAttribute("href")||(b instanceof a.HTMLInputElement||b instanceof a.HTMLSelectElement||b instanceof a.HTMLTextAreaElement||b instanceof a.HTMLButtonElement)&&!b.hasAttribute("disabled")||b instanceof a.HTMLIFrameElement||b instanceof a.HTMLObjectElement||b instanceof a.HTMLEmbedElement||b.hasAttribute("tabindex")&&b.getAttribute("tabindex")!==-1||b.hasAttribute("contenteditable")})},d}(nd);Zd.prototype.options_={pauseOnOpen:!0,temporary:!0},nd.registerComponent("ModalDialog",Zd);var $d=function(a){function b(b){var c;void 0===b&&(b=[]),c=a.call(this)||this,c.tracks_=[],Object.defineProperty(pd(c),"length",{get:function(){return this.tracks_.length}});for(var d=0;d<b.length;d++)c.addTrack(b[d]);return c}qd(b,a);var c=b.prototype;return c.addTrack=function(a){var b=this.tracks_.length;""+b in this||Object.defineProperty(this,b,{get:function(){return this.tracks_[b]}}),this.tracks_.indexOf(a)===-1&&(this.tracks_.push(a),this.trigger({track:a,type:"addtrack",target:this}))},c.removeTrack=function(a){for(var b,c=0,d=this.length;c<d;c++)if(this[c]===a){b=this[c],b.off&&b.off(),this.tracks_.splice(c,1);break}b&&this.trigger({track:b,type:"removetrack",target:this})},c.getTrackById=function(a){for(var b=null,c=0,d=this.length;c<d;c++){var e=this[c];if(e.id===a){b=e;break}}return b},b}(Wc);$d.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var _d in $d.prototype.allowedEvents_)$d.prototype["on"+_d]=null;var ae=function(a,b){for(var c=0;c<a.length;c++)Object.keys(a[c]).length&&b.id!==a[c].id&&(a[c].enabled=!1)},be=function(a){function b(b){var c;void 0===b&&(b=[]);for(var d=b.length-1;d>=0;d--)if(b[d].enabled){ae(b,b[d]);break}return c=a.call(this,b)||this,c.changing_=!1,c}qd(b,a);var c=b.prototype;return c.addTrack=function(b){var c=this;b.enabled&&ae(this,b),a.prototype.addTrack.call(this,b),b.addEventListener&&(b.enabledChange_=function(){c.changing_||(c.changing_=!0,ae(c,b),c.changing_=!1,c.trigger("change"))},b.addEventListener("enabledchange",b.enabledChange_))},c.removeTrack=function(b){a.prototype.removeTrack.call(this,b),b.removeEventListener&&b.enabledChange_&&(b.removeEventListener("enabledchange",b.enabledChange_),b.enabledChange_=null)},b}($d),ce=function(a,b){for(var c=0;c<a.length;c++)Object.keys(a[c]).length&&b.id!==a[c].id&&(a[c].selected=!1)},de=function(a){function b(b){var c;void 0===b&&(b=[]);for(var d=b.length-1;d>=0;d--)if(b[d].selected){ce(b,b[d]);break}return c=a.call(this,b)||this,c.changing_=!1,Object.defineProperty(pd(c),"selectedIndex",{get:function(){for(var a=0;a<this.length;a++)if(this[a].selected)return a;return-1},set:function(){}}),c}qd(b,a);var c=b.prototype;return c.addTrack=function(b){var c=this;b.selected&&ce(this,b),a.prototype.addTrack.call(this,b),b.addEventListener&&(b.selectedChange_=function(){c.changing_||(c.changing_=!0,ce(c,b),c.changing_=!1,c.trigger("change"))},b.addEventListener("selectedchange",b.selectedChange_))},c.removeTrack=function(b){a.prototype.removeTrack.call(this,b),b.removeEventListener&&b.selectedChange_&&(b.removeEventListener("selectedchange",b.selectedChange_),b.selectedChange_=null)},b}($d),ee=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.addTrack=function(b){var c=this;a.prototype.addTrack.call(this,b),this.queueChange_||(this.queueChange_=function(){return c.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return c.trigger("selectedlanguagechange")}),b.addEventListener("modechange",this.queueChange_);var d=["metadata","chapters"];d.indexOf(b.kind)===-1&&b.addEventListener("modechange",this.triggerSelectedlanguagechange_)},c.removeTrack=function(b){a.prototype.removeTrack.call(this,b),b.removeEventListener&&(this.queueChange_&&b.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&b.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},b}($d),fe=function(){function a(a){void 0===a&&(a=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var b=0,c=a.length;b<c;b++)this.addTrackElement_(a[b])}var b=a.prototype;return b.addTrackElement_=function(a){var b=this.trackElements_.length;""+b in this||Object.defineProperty(this,b,{get:function(){return this.trackElements_[b]}}),this.trackElements_.indexOf(a)===-1&&this.trackElements_.push(a)},b.getTrackElementByTrack_=function(a){for(var b,c=0,d=this.trackElements_.length;c<d;c++)if(a===this.trackElements_[c].track){b=this.trackElements_[c];break}return b},b.removeTrackElement_=function(a){for(var b=0,c=this.trackElements_.length;b<c;b++)if(a===this.trackElements_[b]){this.trackElements_[b].track&&"function"==typeof this.trackElements_[b].track.off&&this.trackElements_[b].track.off(),"function"==typeof this.trackElements_[b].off&&this.trackElements_[b].off(),this.trackElements_.splice(b,1);break}},a}(),ge=function(){function a(b){a.prototype.setCues_.call(this,b),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var b=a.prototype;return b.setCues_=function(a){var b=this.length||0,c=0,d=a.length;this.cues_=a,this.length_=a.length;var e=function(a){""+a in this||Object.defineProperty(this,""+a,{get:function(){return this.cues_[a]}})};if(b<d)for(c=b;c<d;c++)e.call(this,c)},b.getCueById=function(a){for(var b=null,c=0,d=this.length;c<d;c++){var e=this[c];if(e.id===a){b=e;break}}return b},a}(),he={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ie={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},je={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ke={disabled:"disabled",hidden:"hidden",showing:"showing"},le=function(a){function b(b){var c;void 0===b&&(b={}),c=a.call(this)||this;var d={id:b.id||"vjs_track_"+Q(),kind:b.kind||"",label:b.label||"",language:b.language||""},e=function(a){Object.defineProperty(pd(c),a,{get:function(){return d[a]},set:function(){}})};for(var f in d)e(f);return c}return qd(b,a),b}(Wc),me=function(c){var d=["protocol","hostname","port","pathname","search","hash","host"],e=b.createElement("a");e.href=c;var f,g=""===e.host&&"file:"!==e.protocol;g&&(f=b.createElement("div"),f.innerHTML='<a href="'+c+'"></a>',e=f.firstChild,f.setAttribute("style","display:none; position:absolute;"),b.body.appendChild(f));for(var h={},i=0;i<d.length;i++)h[d[i]]=e[d[i]];return"http:"===h.protocol&&(h.host=h.host.replace(/:80$/,"")),"https:"===h.protocol&&(h.host=h.host.replace(/:443$/,"")),h.protocol||(h.protocol=a.location.protocol),g&&b.body.removeChild(f),h},ne=function(a){if(!a.match(/^https?:\/\//)){var c=b.createElement("div");c.innerHTML='<a href="'+a+'">x</a>',a=c.firstChild.href}return a},oe=function(a){if("string"==typeof a){var b=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,c=b.exec(a);if(c)return c.pop().toLowerCase()}return""},pe=function(b,c){void 0===c&&(c=a.location);var d=me(b),e=":"===d.protocol?c.protocol:d.protocol,f=e+d.host!==c.protocol+c.host;return f},qe=Object.freeze({__proto__:null,parseUrl:me,getAbsoluteURL:ne,getFileExtension:oe,isCrossOrigin:pe}),re=la,se=Object.prototype.toString,te=function(a){var b={};return a?(a.trim().split("\n").forEach(function(a){var c=a.indexOf(":"),d=a.slice(0,c).trim().toLowerCase(),e=a.slice(c+1).trim();"undefined"==typeof b[d]?b[d]=e:Array.isArray(b[d])?b[d].push(e):b[d]=[b[d],e]}),b):b},ue=pa,ve=pa;pa.XMLHttpRequest=a.XMLHttpRequest||sa,pa.XDomainRequest="withCredentials"in new pa.XMLHttpRequest?pa.XMLHttpRequest:a.XDomainRequest,ma(["get","put","post","patch","head","delete"],function(a){pa["delete"===a?"del":a]=function(b,c,d){return c=oa(b,c,d),c.method=a.toUpperCase(),qa(c)}}),ue.default=ve;var we=function(b,c){var d=new a.WebVTT.Parser(a,a.vttjs,a.WebVTT.StringDecoder()),e=[];d.oncue=function(a){c.addCue(a)},d.onparsingerror=function(a){e.push(a)},d.onflush=function(){c.trigger({type:"loadeddata",target:c})},d.parse(b),e.length>0&&(a.console&&a.console.groupCollapsed&&a.console.groupCollapsed("Text Track parsing errors for "+c.src),e.forEach(function(a){return yc.error(a)}),a.console&&a.console.groupEnd&&a.console.groupEnd()),d.flush()},xe=function(b,c){var d={uri:b},e=pe(b);e&&(d.cors=e);var f="use-credentials"===c.tech_.crossOrigin();f&&(d.withCredentials=f),ue(d,Tc(this,function(b,d,e){return b?yc.error(b,d):(c.loaded_=!0,void("function"!=typeof a.WebVTT?c.tech_&&c.tech_.any(["vttjsloaded","vttjserror"],function(a){return"vttjserror"===a.type?void yc.error("vttjs failed to load, stopping trying to process "+c.src):we(e,c)}):we(e,c)))}))},ye=function(b){function c(a){var c;if(void 0===a&&(a={}),!a.tech)throw new Error("A tech was not provided.");var d=_(a,{kind:je[a.kind]||"subtitles",language:a.language||a.srclang||""}),e=ke[d.mode]||"disabled",f=d.default;"metadata"!==d.kind&&"chapters"!==d.kind||(e="hidden"),c=b.call(this,d)||this,c.tech_=d.tech,c.cues_=[],c.activeCues_=[],c.preload_=c.tech_.preloadTextTracks!==!1;var g=new ge(c.cues_),h=new ge(c.activeCues_),i=!1,j=Tc(pd(c),function(){this.activeCues=this.activeCues,i&&(this.trigger("cuechange"),i=!1)});return"disabled"!==e&&c.tech_.ready(function(){c.tech_.on("timeupdate",j)},!0),Object.defineProperties(pd(c),{default:{get:function(){return f},set:function(){}},mode:{get:function(){return e},set:function(a){var b=this;ke[a]&&(e=a,this.preload_||"disabled"===e||0!==this.cues.length||xe(this.src,this),"disabled"!==e?this.tech_.ready(function(){b.tech_.on("timeupdate",j)},!0):this.tech_.off("timeupdate",j),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?g:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return h;for(var a=this.tech_.currentTime(),b=[],c=0,d=this.cues.length;c<d;c++){var e=this.cues[c];e.startTime<=a&&e.endTime>=a?b.push(e):e.startTime===e.endTime&&e.startTime<=a&&e.startTime+.5>=a&&b.push(e)}if(i=!1,b.length!==this.activeCues_.length)i=!0;else for(var f=0;f<b.length;f++)this.activeCues_.indexOf(b[f])===-1&&(i=!0);return this.activeCues_=b,h.setCues_(this.activeCues_),h},set:function(){}}}),d.src?(c.src=d.src,c.preload_||(c.loaded_=!0),(c.preload_||f||"subtitles"!==d.kind&&"captions"!==d.kind)&&xe(c.src,pd(c))):c.loaded_=!0,c}qd(c,b);var d=c.prototype;return d.addCue=function(b){var c=b;if(a.vttjs&&!(b instanceof a.vttjs.VTTCue)){c=new a.vttjs.VTTCue(b.startTime,b.endTime,b.text);for(var d in b)d in c||(c[d]=b[d]);c.id=b.id,c.originalCue_=b}for(var e=this.tech_.textTracks(),f=0;f<e.length;f++)e[f]!==this&&e[f].removeCue(c);this.cues_.push(c),this.cues.setCues_(this.cues_)},d.removeCue=function(a){for(var b=this.cues_.length;b--;){var c=this.cues_[b];if(c===a||c.originalCue_&&c.originalCue_===a){this.cues_.splice(b,1),this.cues.setCues_(this.cues_);break}}},c}(le);ye.prototype.allowedEvents_={cuechange:"cuechange"};var ze=function(a){function b(b){var c;void 0===b&&(b={});var d=_(b,{kind:ie[b.kind]||""});c=a.call(this,d)||this;var e=!1;return Object.defineProperty(pd(c),"enabled",{get:function(){return e},set:function(a){"boolean"==typeof a&&a!==e&&(e=a,this.trigger("enabledchange"))}}),d.enabled&&(c.enabled=d.enabled),c.loaded_=!0,c}return qd(b,a),b}(le),Ae=function(a){function b(b){var c;void 0===b&&(b={});var d=_(b,{kind:he[b.kind]||""});c=a.call(this,d)||this;var e=!1;return Object.defineProperty(pd(c),"selected",{get:function(){return e},set:function(a){"boolean"==typeof a&&a!==e&&(e=a,this.trigger("selectedchange"))}}),d.selected&&(c.selected=d.selected),c}return qd(b,a),b}(le),Be=0,Ce=1,De=2,Ee=3,Fe=function(a){function b(b){var c;void 0===b&&(b={}),c=a.call(this)||this;var d,e=new ye(b);return c.kind=e.kind,c.src=e.src,c.srclang=e.language,c.label=e.label,c.default=e.default,Object.defineProperties(pd(c),{readyState:{get:function(){return d}},track:{get:function(){return e}}}),d=Be,e.addEventListener("loadeddata",function(){d=De,c.trigger({type:"load",target:pd(c)})}),c}return qd(b,a),b}(Wc);Fe.prototype.allowedEvents_={load:"load"},Fe.NONE=Be,Fe.LOADING=Ce,Fe.LOADED=De,Fe.ERROR=Ee;var Ge={audio:{ListClass:be,TrackClass:ze,capitalName:"Audio"},video:{ListClass:de,TrackClass:Ae,capitalName:"Video"},text:{ListClass:ee,TrackClass:ye,capitalName:"Text"}};Object.keys(Ge).forEach(function(a){Ge[a].getterName=a+"Tracks",Ge[a].privateName=a+"Tracks_"});var He={remoteText:{ListClass:ee,TrackClass:ye,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:fe,TrackClass:Fe,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ie=Ac({},Ge,He);He.names=Object.keys(He),Ge.names=Object.keys(Ge),Ie.names=[].concat(He.names).concat(Ge.names);var Je=Object.create||function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=b,new a}}();ta.prototype=Je(Error.prototype),ta.prototype.constructor=ta,ta.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},va.prototype={set:function(a,b){this.get(a)||""===b||(this.values[a]=b)},get:function(a,b,c){return c?this.has(a)?this.values[a]:b[c]:this.has(a)?this.values[a]:b},has:function(a){return a in this.values},alt:function(a,b,c){for(var d=0;d<c.length;++d)if(b===c[d]){this.set(a,b);break}},integer:function(a,b){/^-?\d+$/.test(b)&&this.set(a,parseInt(b,10))},percent:function(a,b){var c;return!!((c=b.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(b=parseFloat(b),b>=0&&b<=100))&&(this.set(a,b),!0)}};var Ke=b.createElement("textarea"),Le={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Me={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Ne={v:"title",lang:"lang"},Oe={rt:"ruby"},Pe=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];Ca.prototype.applyStyles=function(a,b){b=b||this.div;for(var c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c])},Ca.prototype.formatStyle=function(a,b){return 0===a?0:a+b},Da.prototype=Je(Ca.prototype),Da.prototype.constructor=Da,Ea.prototype.move=function(a,b){switch(b=void 0!==b?b:this.lineHeight,a){case"+x":this.left+=b,this.right+=b;break;case"-x":this.left-=b,this.right-=b;break;case"+y":this.top+=b,this.bottom+=b;break;case"-y":this.top-=b,this.bottom-=b}},Ea.prototype.overlaps=function(a){return this.left<a.right&&this.right>a.left&&this.top<a.bottom&&this.bottom>a.top},Ea.prototype.overlapsAny=function(a){for(var b=0;b<a.length;b++)if(this.overlaps(a[b]))return!0;return!1},Ea.prototype.within=function(a){return this.top>=a.top&&this.bottom<=a.bottom&&this.left>=a.left&&this.right<=a.right},Ea.prototype.overlapsOppositeAxis=function(a,b){switch(b){case"+x":return this.left<a.left;case"-x":return this.right>a.right;case"+y":return this.top<a.top;case"-y":return this.bottom>a.bottom}},Ea.prototype.intersectPercentage=function(a){var b=Math.max(0,Math.min(this.right,a.right)-Math.max(this.left,a.left)),c=Math.max(0,Math.min(this.bottom,a.bottom)-Math.max(this.top,a.top)),d=b*c;return d/(this.height*this.width)},Ea.prototype.toCSSCompatValues=function(a){return{top:this.top-a.top,bottom:a.bottom-this.bottom,left:this.left-a.left,right:a.right-this.right,height:this.height,width:this.width}},Ea.getSimpleBoxPosition=function(a){var b=a.div?a.div.offsetHeight:a.tagName?a.offsetHeight:0,c=a.div?a.div.offsetWidth:a.tagName?a.offsetWidth:0,d=a.div?a.div.offsetTop:a.tagName?a.offsetTop:0;a=a.div?a.div.getBoundingClientRect():a.tagName?a.getBoundingClientRect():a;var e={left:a.left,right:a.right,top:a.top||d,height:a.height||b,bottom:a.bottom||d+(a.height||b),width:a.width||c};return e},Ga.StringDecoder=function(){return{decode:function(a){if(!a)return"";if("string"!=typeof a)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}},Ga.convertCueToDOMTree=function(a,b){return a&&b?ya(a,b):null};var Qe=.05,Re="sans-serif",Se="1.5%";Ga.processCues=function(a,b,c){function d(a){for(var b=0;b<a.length;b++)if(a[b].hasBeenReset||!a[b].displayState)return!0;return!1}if(!a||!b||!c)return null;for(;c.firstChild;)c.removeChild(c.firstChild);var e=a.document.createElement("div");if(e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="0",e.style.bottom="0",e.style.margin=Se,c.appendChild(e),d(b)){var f=[],g=Ea.getSimpleBoxPosition(e),h=Math.round(g.height*Qe*100)/100,i={font:h+"px "+Re};!function(){for(var c,d,h=0;h<b.length;h++)d=b[h],c=new Da(a,d,i),e.appendChild(c.div),Fa(a,c,g,f),d.displayState=c.div,f.push(Ea.getSimpleBoxPosition(c))}()}else for(var j=0;j<b.length;j++)e.appendChild(b[j].displayState)},Ga.Parser=function(a,b,c){c||(c=b,b={}),b||(b={}),this.window=a,this.vttjs=b,this.state="INITIAL",this.buffer="",this.decoder=c||new TextDecoder("utf8"),this.regionList=[]},Ga.Parser.prototype={reportOrThrowError:function(a){if(!(a instanceof ta))throw a;this.onparsingerror&&this.onparsingerror(a)},parse:function(a){function b(){for(var a=f.buffer,b=0;b<a.length&&"\r"!==a[b]&&"\n"!==a[b];)++b;var c=a.substr(0,b);return"\r"===a[b]&&++b,"\n"===a[b]&&++b,f.buffer=a.substr(b),c}function c(a){var b=new va;if(wa(a,function(a,c){switch(a){case"id":b.set(a,c);break;case"width":b.percent(a,c);break;case"lines":b.integer(a,c);break;case"regionanchor":case"viewportanchor":var d=c.split(",");if(2!==d.length)break;var e=new va;if(e.percent("x",d[0]),e.percent("y",d[1]),!e.has("x")||!e.has("y"))break;b.set(a+"X",e.get("x")),b.set(a+"Y",e.get("y"));break;case"scroll":b.alt(a,c,["up"])}},/=/,/\s/),b.has("id")){var c=new(f.vttjs.VTTRegion||f.window.VTTRegion);c.width=b.get("width",100),c.lines=b.get("lines",3),c.regionAnchorX=b.get("regionanchorX",0),c.regionAnchorY=b.get("regionanchorY",100),c.viewportAnchorX=b.get("viewportanchorX",0),c.viewportAnchorY=b.get("viewportanchorY",100),c.scroll=b.get("scroll",""),f.onregion&&f.onregion(c),f.regionList.push({id:b.get("id"),region:c})}}function d(a){var b=new va;wa(a,function(a,c){switch(a){case"MPEGT":b.integer(a+"S",c);break;case"LOCA":b.set(a+"L",ua(c))}},/[^\d]:/,/,/),f.ontimestampmap&&f.ontimestampmap({MPEGTS:b.get("MPEGTS"),LOCAL:b.get("LOCAL")})}function e(a){a.match(/X-TIMESTAMP-MAP/)?wa(a,function(a,b){switch(a){case"X-TIMESTAMP-MAP":d(b)}},/=/):wa(a,function(a,b){switch(a){case"Region":c(b)}},/:/)}var f=this;a&&(f.buffer+=f.decoder.decode(a,{stream:!0}));try{var g;if("INITIAL"===f.state){if(!/\r\n|\n/.test(f.buffer))return this;g=b();var h=g.match(/^WEBVTT([ \t].*)?$/);if(!h||!h[0])throw new ta(ta.Errors.BadSignature);f.state="HEADER"}for(var i=!1;f.buffer;){if(!/\r\n|\n/.test(f.buffer))return this;switch(i?i=!1:g=b(),f.state){case"HEADER":/:/.test(g)?e(g):g||(f.state="ID");continue;case"NOTE":g||(f.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(g)){f.state="NOTE";break}if(!g)continue;f.cue=new(f.vttjs.VTTCue||f.window.VTTCue)(0,0,"");try{f.cue.align="center"}catch(a){f.cue.align="middle"}if(f.state="CUE",g.indexOf("-->")===-1){f.cue.id=g;continue}case"CUE":try{xa(g,f.cue,f.regionList)}catch(a){f.reportOrThrowError(a),f.cue=null,f.state="BADCUE";continue}f.state="CUETEXT";continue;case"CUETEXT":var j=g.indexOf("-->")!==-1;if(!g||j&&(i=!0)){f.oncue&&f.oncue(f.cue),f.cue=null,f.state="ID";continue}f.cue.text&&(f.cue.text+="\n"),f.cue.text+=g.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":g||(f.state="ID");continue}}}catch(a){f.reportOrThrowError(a),"CUETEXT"===f.state&&f.cue&&f.oncue&&f.oncue(f.cue),f.cue=null,f.state="INITIAL"===f.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var a=this;try{if(a.buffer+=a.decoder.decode(),(a.cue||"HEADER"===a.state)&&(a.buffer+="\n\n",a.parse()),"INITIAL"===a.state)throw new ta(ta.Errors.BadSignature)}catch(b){a.reportOrThrowError(b)}return a.onflush&&a.onflush(),this}};var Te=Ga,Ue="auto",Ve={"":1,lr:1,rl:1},We={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};Ja.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Xe=Ja,Ye={"":!0,up:!0},Ze=Ma,$e=d(function(b){var c=b.exports={WebVTT:Te,VTTCue:Xe,VTTRegion:Ze};a.vttjs=c,a.WebVTT=c.WebVTT;var d=c.VTTCue,e=c.VTTRegion,f=a.VTTCue,g=a.VTTRegion;c.shim=function(){a.VTTCue=d,a.VTTRegion=e},c.restore=function(){a.VTTCue=f,a.VTTRegion=g},a.VTTCue||c.shim()}),_e=($e.WebVTT,$e.VTTCue,$e.VTTRegion,function(c){function d(a,b){var d;return void 0===a&&(a={}),void 0===b&&(b=function(){}),a.reportTouchActivity=!1,d=c.call(this,null,a,b)||this,d.hasStarted_=!1,d.on("playing",function(){this.hasStarted_=!0}),d.on("loadstart",function(){this.hasStarted_=!1}),Ie.names.forEach(function(b){var c=Ie[b];a&&a[c.getterName]&&(d[c.privateName]=a[c.getterName])}),d.featuresProgressEvents||d.manualProgressOn(),d.featuresTimeupdateEvents||d.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(b){a["native"+b+"Tracks"]===!1&&(d["featuresNative"+b+"Tracks"]=!1)}),a.nativeCaptions===!1||a.nativeTextTracks===!1?d.featuresNativeTextTracks=!1:a.nativeCaptions!==!0&&a.nativeTextTracks!==!0||(d.featuresNativeTextTracks=!0),d.featuresNativeTextTracks||d.emulateTextTracks(),d.preloadTextTracks=a.preloadTextTracks!==!1,d.autoRemoteTextTracks_=new Ie.text.ListClass,d.initTrackListeners(),a.nativeControlsForTouch||d.emitTapEvents(),d.constructor&&(d.name_=d.constructor.name||"Unknown Tech"),d}qd(d,c);var e=d.prototype;return e.triggerSourceset=function(a){var b=this;this.isReady_||this.one("ready",function(){return b.setTimeout(function(){return b.triggerSourceset(a)},1)}),this.trigger({src:a,type:"sourceset"})},e.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.trackProgress=function(a){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Tc(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,1===a&&this.stopTrackingProgress()}),500)},e.onDurationChange=function(a){this.duration_=this.duration()},e.buffered=function(){return fa(0,0)},e.bufferedPercent=function(){return ga(this.buffered(),this.duration_)},e.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function(){this.clearTracks(Ge.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),c.prototype.dispose.call(this)},e.clearTracks=function(a){var b=this;a=[].concat(a),a.forEach(function(a){for(var c=b[a+"Tracks"]()||[],d=c.length;d--;){var e=c[d];"text"===a&&b.removeRemoteTextTrack(e),c.removeTrack(e)}})},e.cleanupAutoTextTracks=function(){for(var a=this.autoRemoteTextTracks_||[],b=a.length;b--;){var c=a[b];this.removeRemoteTextTrack(c)}},e.reset=function(){},e.crossOrigin=function(){},e.setCrossOrigin=function(){},e.error=function(a){return void 0!==a&&(this.error_=new ha(a),this.trigger("error")),this.error_},e.played=function(){return this.hasStarted_?fa(0,0):fa()},e.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function(){var a=this;Ge.names.forEach(function(b){var c=Ge[b],d=function(){a.trigger(b+"trackchange")},e=a[c.getterName]();e.addEventListener("removetrack",d),e.addEventListener("addtrack",d),a.on("dispose",function(){e.removeEventListener("removetrack",d),e.removeEventListener("addtrack",d)})})},e.addWebVttScript_=function(){var c=this;if(!a.WebVTT)if(b.body.contains(this.el())){if(!this.options_["vtt.js"]&&i($e)&&Object.keys($e).length>0)return void this.trigger("vttjsloaded");var d=b.createElement("script");d.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",d.onload=function(){c.trigger("vttjsloaded")},d.onerror=function(){c.trigger("vttjserror")},this.on("dispose",function(){d.onload=null,d.onerror=null}),a.WebVTT=!0,this.el().parentNode.appendChild(d)}else this.ready(this.addWebVttScript_)},e.emulateTextTracks=function(){var a=this,b=this.textTracks(),c=this.remoteTextTracks(),d=function(a){return b.addTrack(a.track)},e=function(a){return b.removeTrack(a.track)};c.on("addtrack",d),c.on("removetrack",e),this.addWebVttScript_();var f=function(){return a.trigger("texttrackchange")},g=function(){f();for(var a=0;a<b.length;a++){var c=b[a];c.removeEventListener("cuechange",f),"showing"===c.mode&&c.addEventListener("cuechange",f)}};g(),b.addEventListener("change",g),b.addEventListener("addtrack",g),b.addEventListener("removetrack",g),this.on("dispose",function(){c.off("addtrack",d),c.off("removetrack",e),b.removeEventListener("change",g),b.removeEventListener("addtrack",g),b.removeEventListener("removetrack",g);for(var a=0;a<b.length;a++){var h=b[a];h.removeEventListener("cuechange",f)}})},e.addTextTrack=function(a,b,c){if(!a)throw new Error("TextTrack kind is required but was not provided");return Na(this,a,b,c)},e.createRemoteTextTrack=function(a){var b=_(a,{tech:this});return new He.remoteTextEl.TrackClass(b)},e.addRemoteTextTrack=function(a,b){var c=this;void 0===a&&(a={});var d=this.createRemoteTextTrack(a);return b!==!0&&b!==!1&&(yc.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),b=!0),this.remoteTextTrackEls().addTrackElement_(d),this.remoteTextTracks().addTrack(d.track),b!==!0&&this.ready(function(){return c.autoRemoteTextTracks_.addTrack(d.track)}),d},e.removeRemoteTextTrack=function(a){var b=this.remoteTextTrackEls().getTrackElementByTrack_(a);this.remoteTextTrackEls().removeTrackElement_(b),this.remoteTextTracks().removeTrack(a),this.autoRemoteTextTracks_.removeTrack(a)},e.getVideoPlaybackQuality=function(){return{}},e.requestPictureInPicture=function(){var b=this.options_.Promise||a.Promise;if(b)return b.reject()},e.disablePictureInPicture=function(){return!0},e.setDisablePictureInPicture=function(){},e.setPoster=function(){},e.playsinline=function(){},e.setPlaysinline=function(){},e.overrideNativeAudioTracks=function(){},e.overrideNativeVideoTracks=function(){},e.canPlayType=function(){return""},d.canPlayType=function(){return""},d.canPlaySource=function(a,b){return d.canPlayType(a.type)},d.isTech=function(a){return a.prototype instanceof d||a instanceof d||a===d},d.registerTech=function(a,b){if(d.techs_||(d.techs_={}),!d.isTech(b))throw new Error("Tech "+a+" must be a Tech");if(!d.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!d.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return a=hd(a),d.techs_[a]=b,d.techs_[gd(a)]=b,"Tech"!==a&&d.defaultTechOrder_.push(a),b},d.getTech=function(b){if(b)return d.techs_&&d.techs_[b]?d.techs_[b]:(b=hd(b),a&&a.videojs&&a.videojs[b]?(yc.warn("The "+b+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),a.videojs[b]):void 0)},d}(nd));Ie.names.forEach(function(a){var b=Ie[a];_e.prototype[b.getterName]=function(){return this[b.privateName]=this[b.privateName]||new b.ListClass,this[b.privateName]}}),_e.prototype.featuresVolumeControl=!0,_e.prototype.featuresMuteControl=!0,_e.prototype.featuresFullscreenResize=!1,_e.prototype.featuresPlaybackRate=!1,_e.prototype.featuresProgressEvents=!1,_e.prototype.featuresSourceset=!1,_e.prototype.featuresTimeupdateEvents=!1,_e.prototype.featuresNativeTextTracks=!1,_e.withSourceHandlers=function(a){a.registerSourceHandler=function(b,c){var d=a.sourceHandlers;d||(d=a.sourceHandlers=[]),void 0===c&&(c=d.length),d.splice(c,0,b)},a.canPlayType=function(b){for(var c,d=a.sourceHandlers||[],e=0;e<d.length;e++)if(c=d[e].canPlayType(b))return c;return""},a.selectSourceHandler=function(b,c){for(var d,e=a.sourceHandlers||[],f=0;f<e.length;f++)if(d=e[f].canHandleSource(b,c))return e[f];return null},a.canPlaySource=function(b,c){var d=a.selectSourceHandler(b,c);return d?d.canHandleSource(b,c):""};var b=["seekable","seeking","duration"];b.forEach(function(a){var b=this[a];"function"==typeof b&&(this[a]=function(){return this.sourceHandler_&&this.sourceHandler_[a]?this.sourceHandler_[a].apply(this.sourceHandler_,arguments):b.apply(this,arguments)})},a.prototype),a.prototype.setSource=function(b){var c=a.selectSourceHandler(b,this.options_);c||(a.nativeSourceHandler?c=a.nativeSourceHandler:yc.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),c!==a.nativeSourceHandler&&(this.currentSource_=b),this.sourceHandler_=c.handleSource(b,this,this.options_),this.one("dispose",this.disposeSourceHandler)},a.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),
this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},nd.registerComponent("Tech",_e),_e.registerTech("Tech",_e),_e.defaultTechOrder_=[];var af={},bf={},cf={},df={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},ef={setCurrentTime:1,setMuted:1,setVolume:1},ff={play:1,pause:1},gf={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},hf=function(a){void 0===a&&(a="");var b=oe(a),c=gf[b.toLowerCase()];return c||""},jf=function(a,b){if(!b)return"";if(a.cache_.source.src===b&&a.cache_.source.type)return a.cache_.source.type;var c=a.cache_.sources.filter(function(a){return a.src===b});if(c.length)return c[0].type;for(var d=a.$$("source"),e=0;e<d.length;e++){var f=d[e];if(f.type&&f.src&&f.src===b)return f.type}return hf(b)},kf=function a(b){if(Array.isArray(b)){var c=[];b.forEach(function(b){b=a(b),Array.isArray(b)?c=c.concat(b):h(b)&&c.push(b)}),b=c}else b="string"==typeof b&&b.trim()?[Za({src:b})]:h(b)&&"string"==typeof b.src&&b.src&&b.src.trim()?[Za(b)]:[];return b},lf=function(a){function b(b,c,d){var e,f=_({createEl:!1},c);if(e=a.call(this,b,f,d)||this,c.playerOptions.sources&&0!==c.playerOptions.sources.length)b.src(c.playerOptions.sources);else for(var g=0,h=c.playerOptions.techOrder;g<h.length;g++){var i=hd(h[g]),j=_e.getTech(i);if(i||(j=nd.getComponent(i)),j&&j.isSupported()){b.loadTech_(i);break}}return e}return qd(b,a),b}(nd);nd.registerComponent("MediaLoader",lf);var mf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.emitTapEvents(),d.enable(),d}qd(b,a);var c=b.prototype;return c.createEl=function(b,c,d){void 0===b&&(b="div"),void 0===c&&(c={}),void 0===d&&(d={}),c=g({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},c),"button"===b&&yc.error("Creating a ClickableComponent with an HTML element of "+b+" is not supported; use a Button instead."),d=g({role:"button"},d),this.tabIndex_=c.tabIndex;var e=a.prototype.createEl.call(this,b,c,d);return this.createControlTextEl(e),e},c.dispose=function(){this.controlTextEl_=null,a.prototype.dispose.call(this)},c.createControlTextEl=function(a){return this.controlTextEl_=r("span",{className:"vjs-control-text"},{"aria-live":"polite"}),a&&a.appendChild(this.controlTextEl_),this.controlText(this.controlText_,a),this.controlTextEl_},c.controlText=function(a,b){if(void 0===b&&(b=this.el()),void 0===a)return this.controlText_||"Need Text";var c=this.localize(a);this.controlText_=a,s(this.controlTextEl_,c),this.nonIconControl||b.setAttribute("title",c)},c.buildCSSClass=function(){return"vjs-control vjs-button "+a.prototype.buildCSSClass.call(this)},c.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},c.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},c.handleClick=function(a){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},c.handleKeyDown=function(b){Xd.isEventKey(b,"Space")||Xd.isEventKey(b,"Enter")?(b.preventDefault(),b.stopPropagation(),this.trigger("click")):a.prototype.handleKeyDown.call(this,b)},b}(nd);nd.registerComponent("ClickableComponent",mf);var nf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update(),b.on("posterchange",Tc(pd(d),d.update)),d}qd(b,a);var c=b.prototype;return c.dispose=function(){this.player().off("posterchange",this.update),a.prototype.dispose.call(this)},c.createEl=function(){var a=r("div",{className:"vjs-poster",tabIndex:-1});return a},c.update=function(a){var b=this.player().poster();this.setSrc(b),b?this.show():this.hide()},c.setSrc=function(a){var b="";a&&(b='url("'+a+'")'),this.el_.style.backgroundImage=b},c.handleClick=function(a){if(this.player_.controls()){var b=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(Dd||Ad)&&b||this.player_.tech(!0).focus(),this.player_.paused()?ka(this.player_.play()):this.player_.pause()}},b}(mf);nd.registerComponent("PosterImage",nf);var of="#222",pf="#ccc",qf={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},rf=function(b){function c(c,d,e){var f;f=b.call(this,c,d,e)||this;var g=Tc(pd(f),f.updateDisplay);return c.on("loadstart",Tc(pd(f),f.toggleDisplay)),c.on("texttrackchange",g),c.on("loadedmetadata",Tc(pd(f),f.preselectTrack)),c.ready(Tc(pd(f),function(){if(c.tech_&&c.tech_.featuresNativeTextTracks)return void this.hide();c.on("fullscreenchange",g),c.on("playerresize",g),a.addEventListener("orientationchange",g),c.on("dispose",function(){return a.removeEventListener("orientationchange",g)});for(var b=this.options_.playerOptions.tracks||[],d=0;d<b.length;d++)this.player_.addRemoteTextTrack(b[d],!0);this.preselectTrack()})),f}qd(c,b);var d=c.prototype;return d.preselectTrack=function(){for(var a,b,c,d={captions:1,subtitles:1},e=this.player_.textTracks(),f=this.player_.cache_.selectedLanguage,g=0;g<e.length;g++){var h=e[g];f&&f.enabled&&f.language&&f.language===h.language&&h.kind in d?h.kind===f.kind?c=h:c||(c=h):f&&!f.enabled?(c=null,a=null,b=null):h.default&&("descriptions"!==h.kind||a?h.kind in d&&!b&&(b=h):a=h)}c?c.mode="showing":b?b.mode="showing":a&&(a.mode="showing")},d.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},d.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},d.clearDisplay=function(){"function"==typeof a.WebVTT&&a.WebVTT.processCues(a,[],this.el_)},d.updateDisplay=function(){var a=this.player_.textTracks(),b=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),b){for(var c=[],d=0;d<a.length;++d){var e=a[d];"showing"===e.mode&&c.push(e)}return void this.updateForTrack(c)}for(var f=null,g=null,h=a.length;h--;){var i=a[h];"showing"===i.mode&&("descriptions"===i.kind?f=i:g=i)}g?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(g)):f&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(f))},d.updateDisplayState=function(b){for(var c=this.player_.textTrackSettings.getValues(),d=b.activeCues,e=d.length;e--;){var f=d[e];if(f){var g=f.displayState;if(c.color&&(g.firstChild.style.color=c.color),c.textOpacity&&_a(g.firstChild,"color",$a(c.color||"#fff",c.textOpacity)),c.backgroundColor&&(g.firstChild.style.backgroundColor=c.backgroundColor),c.backgroundOpacity&&_a(g.firstChild,"backgroundColor",$a(c.backgroundColor||"#000",c.backgroundOpacity)),c.windowColor&&(c.windowOpacity?_a(g,"backgroundColor",$a(c.windowColor,c.windowOpacity)):g.style.backgroundColor=c.windowColor),c.edgeStyle&&("dropshadow"===c.edgeStyle?g.firstChild.style.textShadow="2px 2px 3px "+of+", 2px 2px 4px "+of+", 2px 2px 5px "+of:"raised"===c.edgeStyle?g.firstChild.style.textShadow="1px 1px "+of+", 2px 2px "+of+", 3px 3px "+of:"depressed"===c.edgeStyle?g.firstChild.style.textShadow="1px 1px "+pf+", 0 1px "+pf+", -1px -1px "+of+", 0 -1px "+of:"uniform"===c.edgeStyle&&(g.firstChild.style.textShadow="0 0 4px "+of+", 0 0 4px "+of+", 0 0 4px "+of+", 0 0 4px "+of)),c.fontPercent&&1!==c.fontPercent){var h=a.parseFloat(g.style.fontSize);g.style.fontSize=h*c.fontPercent+"px",g.style.height="auto",g.style.top="auto",g.style.bottom="2px"}c.fontFamily&&"default"!==c.fontFamily&&("small-caps"===c.fontFamily?g.firstChild.style.fontVariant="small-caps":g.firstChild.style.fontFamily=qf[c.fontFamily])}}},d.updateForTrack=function(b){if(Array.isArray(b)||(b=[b]),"function"==typeof a.WebVTT&&!b.every(function(a){return!a.activeCues})){for(var c=[],d=0;d<b.length;++d)for(var e=b[d],f=0;f<e.activeCues.length;++f)c.push(e.activeCues[f]);a.WebVTT.processCues(a,c,this.el_);for(var g=0;g<b.length;++g){for(var h=b[g],i=0;i<h.activeCues.length;++i){var j=h.activeCues[i].displayState;v(j,"vjs-text-track-cue"),v(j,"vjs-text-track-cue-"+(h.language?h.language:g))}this.player_.textTrackSettings&&this.updateDisplayState(h)}}},c}(nd);nd.registerComponent("TextTrackDisplay",rf);var sf=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.createEl=function(){var b=this.player_.isAudio(),c=this.localize(b?"Audio Player":"Video Player"),d=r("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[c])}),e=a.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return e.appendChild(d),e},b}(nd);nd.registerComponent("LoadingSpinner",sf);var tf=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.createEl=function(a,b,c){void 0===b&&(b={}),void 0===c&&(c={}),a="button",b=g({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},b),c=g({type:"button"},c);var d=nd.prototype.createEl.call(this,a,b,c);return this.createControlTextEl(d),d},c.addChild=function(a,b){void 0===b&&(b={});var c=this.constructor.name;return yc.warn("Adding an actionable (user controllable) child to a Button ("+c+") is not supported; use a ClickableComponent instead."),nd.prototype.addChild.call(this,a,b)},c.enable=function(){a.prototype.enable.call(this),this.el_.removeAttribute("disabled")},c.disable=function(){a.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},c.handleKeyDown=function(b){return Xd.isEventKey(b,"Space")||Xd.isEventKey(b,"Enter")?void b.stopPropagation():void a.prototype.handleKeyDown.call(this,b)},b}(mf);nd.registerComponent("Button",tf);var uf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.mouseused_=!1,d.on("mousedown",d.handleMouseDown),d}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-big-play-button"},c.handleClick=function(a){var b=this.player_.play();if(this.mouseused_&&a.clientX&&a.clientY){var c=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return ka(b),void(!this.player_.tech(!0)||(Dd||Ad)&&c||this.player_.tech(!0).focus())}var d=this.player_.getChild("controlBar"),e=d&&d.getChild("playToggle");if(!e)return void this.player_.tech(!0).focus();var f=function(){return e.focus()};ja(b)?b.then(f,function(){}):this.setTimeout(f,1)},c.handleKeyDown=function(b){this.mouseused_=!1,a.prototype.handleKeyDown.call(this,b)},c.handleMouseDown=function(a){this.mouseused_=!0},b}(tf);uf.prototype.controlText_="Play Video",nd.registerComponent("BigPlayButton",uf);var vf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.controlText(c&&c.controlText||d.localize("Close")),d}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-close-button "+a.prototype.buildCSSClass.call(this)},c.handleClick=function(a){this.trigger({type:"close",bubbles:!1})},c.handleKeyDown=function(b){Xd.isEventKey(b,"Esc")?(b.preventDefault(),b.stopPropagation(),this.trigger("click")):a.prototype.handleKeyDown.call(this,b)},b}(tf);nd.registerComponent("CloseButton",vf);var wf=function(a){function b(b,c){var d;return void 0===c&&(c={}),d=a.call(this,b,c)||this,c.replay=void 0===c.replay||c.replay,d.on(b,"play",d.handlePlay),d.on(b,"pause",d.handlePause),c.replay&&d.on(b,"ended",d.handleEnded),d}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-play-control "+a.prototype.buildCSSClass.call(this)},c.handleClick=function(a){this.player_.paused()?this.player_.play():this.player_.pause()},c.handleSeeked=function(a){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(a):this.handlePlay(a)},c.handlePlay=function(a){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},c.handlePause=function(a){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},c.handleEnded=function(a){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},b}(tf);wf.prototype.controlText_="Play",nd.registerComponent("PlayToggle",wf);var xf=function(a,b){a=a<0?0:a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&d<10?"0"+d:d)+":",c=c<10?"0"+c:c,e+d+c},yf=xf,zf=function(a){function c(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,["timeupdate","ended"],d.updateContent),d.updateTextNode_(),d}qd(c,a);var d=c.prototype;return d.createEl=function(){var b=this.buildCSSClass(),c=a.prototype.createEl.call(this,"div",{className:b+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=r("span",{className:b+"-display"},{"aria-live":"off",role:"presentation"}),c.appendChild(this.contentEl_),c},d.dispose=function(){this.contentEl_=null,this.textNode_=null,a.prototype.dispose.call(this)},d.updateTextNode_=function(a){var c=this;void 0===a&&(a=0),a=cb(a),this.formattedTime_!==a&&(this.formattedTime_=a,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(c.contentEl_){var a=c.textNode_;c.textNode_=b.createTextNode(c.formattedTime_),c.textNode_&&(a?c.contentEl_.replaceChild(c.textNode_,a):c.contentEl_.appendChild(c.textNode_))}}))},d.updateContent=function(a){},c}(nd);zf.prototype.labelText_="Time",zf.prototype.controlText_="Time",nd.registerComponent("TimeDisplay",zf);var Af=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-current-time"},c.updateContent=function(a){var b;b=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(b)},b}(zf);Af.prototype.labelText_="Current Time",Af.prototype.controlText_="Current Time",nd.registerComponent("CurrentTimeDisplay",Af);var Bf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,"durationchange",d.updateContent),d.on(b,"loadstart",d.updateContent),d.on(b,"loadedmetadata",d.updateContent),d}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-duration"},c.updateContent=function(a){var b=this.player_.duration();this.updateTextNode_(b)},b}(zf);Bf.prototype.labelText_="Duration",Bf.prototype.controlText_="Duration",nd.registerComponent("DurationDisplay",Bf);var Cf=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},b}(nd);nd.registerComponent("TimeDivider",Cf);var Df=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,"durationchange",d.updateContent),d}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-remaining-time"},c.createEl=function(){var b=a.prototype.createEl.call(this);return b.insertBefore(r("span",{},{"aria-hidden":!0},"-"),this.contentEl_),b},c.updateContent=function(a){if("number"==typeof this.player_.duration()){var b;b=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(b)}},b}(zf);Df.prototype.labelText_="Remaining Time",Df.prototype.controlText_="Remaining Time",nd.registerComponent("RemainingTimeDisplay",Df);var Ef=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.updateShowing(),d.on(d.player(),"durationchange",d.updateShowing),d}qd(b,a);var c=b.prototype;return c.createEl=function(){var b=a.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=r("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),b.appendChild(this.contentEl_),b},c.dispose=function(){this.contentEl_=null,a.prototype.dispose.call(this)},c.updateShowing=function(a){this.player().duration()===1/0?this.show():this.hide()},b}(nd);nd.registerComponent("LiveDisplay",Ef);var Ff=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.updateLiveEdgeStatus(),d.player_.liveTracker&&d.on(d.player_.liveTracker,"liveedgechange",d.updateLiveEdgeStatus),d}qd(b,a);var c=b.prototype;return c.createEl=function(){var b=a.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=r("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),b.appendChild(this.textEl_),b},c.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},c.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},c.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,a.prototype.dispose.call(this)},b}(tf);Ff.prototype.controlText_="Seek to live, currently playing live",nd.registerComponent("SeekToLive",Ff);var Gf=function(a,b,c){return a=Number(a),Math.min(c,Math.max(b,isNaN(a)?b:a))},Hf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.bar=d.getChild(d.options_.barName),d.vertical(!!d.options_.vertical),d.enable(),d}qd(b,a);var c=b.prototype;return c.enabled=function(){return this.enabled_},c.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},c.disable=function(){if(this.enabled()){var a=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(a,"mousemove",this.handleMouseMove),this.off(a,"mouseup",this.handleMouseUp),this.off(a,"touchmove",this.handleMouseMove),this.off(a,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},c.createEl=function(b,c,d){return void 0===c&&(c={}),void 0===d&&(d={}),c.className=c.className+" vjs-slider",c=g({tabIndex:0},c),d=g({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},d),a.prototype.createEl.call(this,b,c,d)},c.handleMouseDown=function(a){var b=this.bar.el_.ownerDocument;"mousedown"===a.type&&a.preventDefault(),"touchstart"!==a.type||Bd||a.preventDefault(),D(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(b,"mousemove",this.handleMouseMove),this.on(b,"mouseup",this.handleMouseUp),this.on(b,"touchmove",this.handleMouseMove),this.on(b,"touchend",this.handleMouseUp),this.handleMouseMove(a)},c.handleMouseMove=function(a){},c.handleMouseUp=function(){var a=this.bar.el_.ownerDocument;E(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(a,"mousemove",this.handleMouseMove),this.off(a,"mouseup",this.handleMouseUp),this.off(a,"touchmove",this.handleMouseMove),this.off(a,"touchend",this.handleMouseUp),this.update()},c.update=function(){var a=this;if(this.el_&&this.bar){var b=this.getProgress();return b===this.progress_?b:(this.progress_=b,this.requestNamedAnimationFrame("Slider#update",function(){var c=a.vertical()?"height":"width";a.bar.el().style[c]=(100*b).toFixed(2)+"%"}),b)}},c.getProgress=function(){return Number(Gf(this.getPercent(),0,1).toFixed(4))},c.calculateDistance=function(a){var b=H(this.el_,a);return this.vertical()?b.y:b.x},c.handleKeyDown=function(b){Xd.isEventKey(b,"Left")||Xd.isEventKey(b,"Down")?(b.preventDefault(),b.stopPropagation(),this.stepBack()):Xd.isEventKey(b,"Right")||Xd.isEventKey(b,"Up")?(b.preventDefault(),b.stopPropagation(),this.stepForward()):a.prototype.handleKeyDown.call(this,b)},c.handleClick=function(a){a.stopPropagation(),a.preventDefault()},c.vertical=function(a){return void 0===a?this.vertical_||!1:(this.vertical_=!!a,void(this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")))},b}(nd);nd.registerComponent("Slider",Hf);var If=function(a,b){return Gf(a/b*100,0,100).toFixed(2)+"%"},Jf=function(a){function c(b,c){var d;return d=a.call(this,b,c)||this,d.partEls_=[],d.on(b,"progress",d.update),d}qd(c,a);var d=c.prototype;return d.createEl=function(){var c=a.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),d=r("span",{className:"vjs-control-text"}),e=r("span",{textContent:this.localize("Loaded")}),f=b.createTextNode(": ");return this.percentageEl_=r("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),c.appendChild(d),d.appendChild(e),d.appendChild(f),d.appendChild(this.percentageEl_),c},d.dispose=function(){this.partEls_=null,this.percentageEl_=null,a.prototype.dispose.call(this)},d.update=function(a){var b=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=b.player_.liveTracker,c=b.player_.buffered(),d=a&&a.isLive()?a.seekableEnd():b.player_.duration(),e=b.player_.bufferedEnd(),f=b.partEls_,g=If(e,d);b.percent_!==g&&(b.el_.style.width=g,s(b.percentageEl_,g),b.percent_=g);for(var h=0;h<c.length;h++){var i=c.start(h),j=c.end(h),k=f[h];k||(k=b.el_.appendChild(r()),f[h]=k),k.dataset.start===i&&k.dataset.end===j||(k.dataset.start=i,k.dataset.end=j,k.style.left=If(i,e),k.style.width=If(j-i,e))}for(var l=f.length;l>c.length;l--)b.el_.removeChild(f[l-1]);f.length=c.length})},c}(nd);nd.registerComponent("LoadProgressBar",Jf);var Kf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update=Uc(Tc(pd(d),d.update),Sc),d}qd(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},c.update=function(a,b,c){var d=F(this.el_),e=F(this.player_.el()),f=a.width*b;if(e&&d){var g=a.left-e.left+f,h=a.width-f+(e.right-a.right),i=d.width/2;g<i?i+=i-g:h<i&&(i=h),i<0?i=0:i>d.width&&(i=d.width),this.el_.style.right="-"+i+"px",this.write(c)}},c.write=function(a){s(this.el_,a)},c.updateTime=function(a,b,c,d){var e=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var f,g=e.player_.duration();if(e.player_.liveTracker&&e.player_.liveTracker.isLive()){var h=e.player_.liveTracker.liveWindow(),i=h-b*h;f=(i<1?"":"-")+cb(i,h)}else f=cb(c,g);e.update(a,b,f),d&&d()})},b}(nd);nd.registerComponent("TimeTooltip",Kf);var Lf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update=Uc(Tc(pd(d),d.update),Sc),d}qd(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},c.update=function(a,b){var c=this.getChild("timeTooltip");if(c){var d=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();c.updateTime(a,b,d)}},b}(nd);Lf.prototype.options_={children:[]},Jd||wd||Lf.prototype.options_.children.push("timeTooltip"),nd.registerComponent("PlayProgressBar",Lf);var Mf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update=Uc(Tc(pd(d),d.update),Sc),d}qd(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},c.update=function(a,b){var c=this,d=b*this.player_.duration();this.getChild("timeTooltip").updateTime(a,b,d,function(){c.el_.style.left=a.width*b+"px"})},b}(nd);Mf.prototype.options_={children:["timeTooltip"]},nd.registerComponent("MouseTimeDisplay",Mf);var Nf=5,Of=12,Pf=function(a){function c(b,c){var d;return d=a.call(this,b,c)||this,d.setEventHandlers_(),d}qd(c,a);var d=c.prototype;return d.setEventHandlers_=function(){this.update_=Tc(this,this.update),this.update=Uc(this.update_,Sc),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in b&&"visibilityState"in b&&this.on(b,"visibilitychange",this.toggleVisibility_)},d.toggleVisibility_=function(a){b.hidden?this.disableInterval_(a):(this.enableInterval_(),this.update())},d.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Sc))},d.disableInterval_=function(a){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&a&&"ended"!==a.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},d.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},d.update=function(b){var c=this,d=a.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var a=c.player_.ended()?c.player_.duration():c.getCurrentTime_(),b=c.player_.liveTracker,e=c.player_.duration();b&&b.isLive()&&(e=c.player_.liveTracker.liveCurrentTime()),c.percent_!==d&&(c.el_.setAttribute("aria-valuenow",(100*d).toFixed(2)),c.percent_=d),c.currentTime_===a&&c.duration_===e||(c.el_.setAttribute("aria-valuetext",c.localize("progress bar timing: currentTime={1} duration={2}",[cb(a,e),cb(e,e)],"{1} of {2}")),c.currentTime_=a,c.duration_=e),c.bar&&c.bar.update(F(c.el()),c.getProgress())}),d},d.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},d.getPercent=function(){var a,b=this.getCurrentTime_(),c=this.player_.liveTracker;return c&&c.isLive()?(a=(b-c.seekableStart())/c.liveWindow(),c.atLiveEdge()&&(a=1)):a=b/this.player_.duration(),a},d.handleMouseDown=function(b){N(b)&&(b.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),a.prototype.handleMouseDown.call(this,b))},d.handleMouseMove=function(a){if(N(a)){var b,c=this.calculateDistance(a),d=this.player_.liveTracker;if(d&&d.isLive()){if(c>=.99)return void d.seekToLiveEdge();var e=d.seekableStart(),f=d.liveCurrentTime();if(b=e+c*d.liveWindow(),b>=f&&(b=f),b<=e&&(b=e+.1),b===1/0)return}else b=c*this.player_.duration(),b===this.player_.duration()&&(b-=.1);this.player_.currentTime(b)}},d.enable=function(){a.prototype.enable.call(this);var b=this.getChild("mouseTimeDisplay");b&&b.show()},d.disable=function(){a.prototype.disable.call(this);var b=this.getChild("mouseTimeDisplay");b&&b.hide()},d.handleMouseUp=function(b){a.prototype.handleMouseUp.call(this,b),b&&b.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ka(this.player_.play()):this.update_()},d.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+Nf)},d.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-Nf)},d.handleAction=function(a){this.player_.paused()?this.player_.play():this.player_.pause()},d.handleKeyDown=function(b){if(Xd.isEventKey(b,"Space")||Xd.isEventKey(b,"Enter"))b.preventDefault(),b.stopPropagation(),this.handleAction(b);else if(Xd.isEventKey(b,"Home"))b.preventDefault(),b.stopPropagation(),this.player_.currentTime(0);else if(Xd.isEventKey(b,"End"))b.preventDefault(),b.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Xd(b))){b.preventDefault(),b.stopPropagation();var c=10*(Xd.codes[Xd(b)]-Xd.codes[0])/100;this.player_.currentTime(this.player_.duration()*c)}else Xd.isEventKey(b,"PgDn")?(b.preventDefault(),b.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-Nf*Of)):Xd.isEventKey(b,"PgUp")?(b.preventDefault(),b.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+Nf*Of)):a.prototype.handleKeyDown.call(this,b)},d.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in b&&"visibilityState"in b&&this.off(b,"visibilitychange",this.toggleVisibility_),a.prototype.dispose.call(this)},c}(Hf);Pf.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Jd||wd||Pf.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),nd.registerComponent("SeekBar",Pf);var Qf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.handleMouseMove=Uc(Tc(pd(d),d.handleMouseMove),Sc),d.throttledHandleMouseSeek=Uc(Tc(pd(d),d.handleMouseSeek),Sc),d.enable(),d}qd(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},c.handleMouseMove=function(a){var b=this.getChild("seekBar");if(b){var c=b.getChild("playProgressBar"),d=b.getChild("mouseTimeDisplay");if(c||d){var e=b.el(),f=F(e),g=H(e,a).x;g=Gf(g,0,1),d&&d.update(f,g),c&&c.update(f,b.getProgress())}}},c.handleMouseSeek=function(a){var b=this.getChild("seekBar");b&&b.handleMouseMove(a)},c.enabled=function(){return this.enabled_},c.disable=function(){this.children().forEach(function(a){return a.disable&&a.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},c.enable=function(){this.children().forEach(function(a){return a.enable&&a.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},c.handleMouseDown=function(a){var b=this.el_.ownerDocument,c=this.getChild("seekBar");c&&c.handleMouseDown(a),this.on(b,"mousemove",this.throttledHandleMouseSeek),this.on(b,"touchmove",this.throttledHandleMouseSeek),this.on(b,"mouseup",this.handleMouseUp),this.on(b,"touchend",this.handleMouseUp)},c.handleMouseUp=function(a){var b=this.el_.ownerDocument,c=this.getChild("seekBar");c&&c.handleMouseUp(a),this.off(b,"mousemove",this.throttledHandleMouseSeek),this.off(b,"touchmove",this.throttledHandleMouseSeek),
this.off(b,"mouseup",this.handleMouseUp),this.off(b,"touchend",this.handleMouseUp)},b}(nd);Qf.prototype.options_={children:["seekBar"]},nd.registerComponent("ProgressControl",Qf);var Rf=function(a){function c(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,["enterpictureinpicture","leavepictureinpicture"],d.handlePictureInPictureChange),d.on(b,["disablepictureinpicturechanged","loadedmetadata"],d.handlePictureInPictureEnabledChange),d.disable(),d}qd(c,a);var d=c.prototype;return d.buildCSSClass=function(){return"vjs-picture-in-picture-control "+a.prototype.buildCSSClass.call(this)},d.handlePictureInPictureEnabledChange=function(){b.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},d.handlePictureInPictureChange=function(a){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},d.handleClick=function(a){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},c}(tf);Rf.prototype.controlText_="Picture-in-Picture",nd.registerComponent("PictureInPictureToggle",Rf);var Sf=function(a){function c(c,d){var e;return e=a.call(this,c,d)||this,e.on(c,"fullscreenchange",e.handleFullscreenChange),b[c.fsApi_.fullscreenEnabled]===!1&&e.disable(),e}qd(c,a);var d=c.prototype;return d.buildCSSClass=function(){return"vjs-fullscreen-control "+a.prototype.buildCSSClass.call(this)},d.handleFullscreenChange=function(a){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},d.handleClick=function(a){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},c}(tf);Sf.prototype.controlText_="Fullscreen",nd.registerComponent("FullscreenToggle",Sf);var Tf=function(a,b){b.tech_&&!b.tech_.featuresVolumeControl&&a.addClass("vjs-hidden"),a.on(b,"loadstart",function(){b.tech_.featuresVolumeControl?a.removeClass("vjs-hidden"):a.addClass("vjs-hidden")})},Uf=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},b}(nd);nd.registerComponent("VolumeLevel",Uf);var Vf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on("slideractive",d.updateLastVolume_),d.on(b,"volumechange",d.updateARIAAttributes),b.ready(function(){return d.updateARIAAttributes()}),d}qd(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},c.handleMouseDown=function(b){N(b)&&a.prototype.handleMouseDown.call(this,b)},c.handleMouseMove=function(a){N(a)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(a)))},c.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},c.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},c.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},c.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},c.updateARIAAttributes=function(a){var b=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",b),this.el_.setAttribute("aria-valuetext",b+"%")},c.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},c.updateLastVolume_=function(){var a=this,b=this.player_.volume();this.one("sliderinactive",function(){0===a.player_.volume()&&a.player_.lastVolume_(b)})},b}(Hf);Vf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Vf.prototype.playerEvent="volumechange",nd.registerComponent("VolumeBar",Vf);var Wf=function(a){function b(b,c){var d;return void 0===c&&(c={}),c.vertical=c.vertical||!1,("undefined"==typeof c.volumeBar||i(c.volumeBar))&&(c.volumeBar=c.volumeBar||{},c.volumeBar.vertical=c.vertical),d=a.call(this,b,c)||this,Tf(pd(d),b),d.throttledHandleMouseMove=Uc(Tc(pd(d),d.handleMouseMove),Sc),d.on("mousedown",d.handleMouseDown),d.on("touchstart",d.handleMouseDown),d.on(d.volumeBar,["focus","slideractive"],function(){d.volumeBar.addClass("vjs-slider-active"),d.addClass("vjs-slider-active"),d.trigger("slideractive")}),d.on(d.volumeBar,["blur","sliderinactive"],function(){d.volumeBar.removeClass("vjs-slider-active"),d.removeClass("vjs-slider-active"),d.trigger("sliderinactive")}),d}qd(b,a);var c=b.prototype;return c.createEl=function(){var b="vjs-volume-horizontal";return this.options_.vertical&&(b="vjs-volume-vertical"),a.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+b})},c.handleMouseDown=function(a){var b=this.el_.ownerDocument;this.on(b,"mousemove",this.throttledHandleMouseMove),this.on(b,"touchmove",this.throttledHandleMouseMove),this.on(b,"mouseup",this.handleMouseUp),this.on(b,"touchend",this.handleMouseUp)},c.handleMouseUp=function(a){var b=this.el_.ownerDocument;this.off(b,"mousemove",this.throttledHandleMouseMove),this.off(b,"touchmove",this.throttledHandleMouseMove),this.off(b,"mouseup",this.handleMouseUp),this.off(b,"touchend",this.handleMouseUp)},c.handleMouseMove=function(a){this.volumeBar.handleMouseMove(a)},b}(nd);Wf.prototype.options_={children:["volumeBar"]},nd.registerComponent("VolumeControl",Wf);var Xf=function(a,b){b.tech_&&!b.tech_.featuresMuteControl&&a.addClass("vjs-hidden"),a.on(b,"loadstart",function(){b.tech_.featuresMuteControl?a.removeClass("vjs-hidden"):a.addClass("vjs-hidden")})},Yf=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,Xf(pd(d),b),d.on(b,["loadstart","volumechange"],d.update),d}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-mute-control "+a.prototype.buildCSSClass.call(this)},c.handleClick=function(a){var b=this.player_.volume(),c=this.player_.lastVolume_();if(0===b){var d=c<.1?.1:c;this.player_.volume(d),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},c.update=function(a){this.updateIcon_(),this.updateControlText_()},c.updateIcon_=function(){var a=this.player_.volume(),b=3;Jd&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===a||this.player_.muted()?b=0:a<.33?b=1:a<.67&&(b=2);for(var c=0;c<4;c++)w(this.el_,"vjs-vol-"+c);v(this.el_,"vjs-vol-"+b)},c.updateControlText_=function(){var a=this.player_.muted()||0===this.player_.volume(),b=a?"Unmute":"Mute";this.controlText()!==b&&this.controlText(b)},b}(tf);Yf.prototype.controlText_="Mute",nd.registerComponent("MuteToggle",Yf);var Zf=function(a){function c(b,c){var d;return void 0===c&&(c={}),"undefined"!=typeof c.inline?c.inline=c.inline:c.inline=!0,("undefined"==typeof c.volumeControl||i(c.volumeControl))&&(c.volumeControl=c.volumeControl||{},c.volumeControl.vertical=!c.inline),d=a.call(this,b,c)||this,d.on(b,["loadstart"],d.volumePanelState_),d.on(d.muteToggle,"keyup",d.handleKeyPress),d.on(d.volumeControl,"keyup",d.handleVolumeControlKeyUp),d.on("keydown",d.handleKeyPress),d.on("mouseover",d.handleMouseOver),d.on("mouseout",d.handleMouseOut),d.on(d.volumeControl,["slideractive"],d.sliderActive_),d.on(d.volumeControl,["sliderinactive"],d.sliderInactive_),d}qd(c,a);var d=c.prototype;return d.sliderActive_=function(){this.addClass("vjs-slider-active")},d.sliderInactive_=function(){this.removeClass("vjs-slider-active")},d.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},d.createEl=function(){var b="vjs-volume-panel-horizontal";return this.options_.inline||(b="vjs-volume-panel-vertical"),a.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+b})},d.dispose=function(){this.handleMouseOut(),a.prototype.dispose.call(this)},d.handleVolumeControlKeyUp=function(a){Xd.isEventKey(a,"Esc")&&this.muteToggle.focus()},d.handleMouseOver=function(a){this.addClass("vjs-hover"),U(b,"keyup",Tc(this,this.handleKeyPress))},d.handleMouseOut=function(a){this.removeClass("vjs-hover"),V(b,"keyup",Tc(this,this.handleKeyPress))},d.handleKeyPress=function(a){Xd.isEventKey(a,"Esc")&&this.handleMouseOut()},c}(nd);Zf.prototype.options_={children:["muteToggle","volumeControl"]},nd.registerComponent("VolumePanel",Zf);var $f=function(a){function c(b,c){var d;return d=a.call(this,b,c)||this,c&&(d.menuButton_=c.menuButton),d.focusedChild_=-1,d.on("keydown",d.handleKeyDown),d.boundHandleBlur_=Tc(pd(d),d.handleBlur),d.boundHandleTapClick_=Tc(pd(d),d.handleTapClick),d}qd(c,a);var d=c.prototype;return d.addEventListenerForItem=function(a){a instanceof nd&&(this.on(a,"blur",this.boundHandleBlur_),this.on(a,["tap","click"],this.boundHandleTapClick_))},d.removeEventListenerForItem=function(a){a instanceof nd&&(this.off(a,"blur",this.boundHandleBlur_),this.off(a,["tap","click"],this.boundHandleTapClick_))},d.removeChild=function(b){"string"==typeof b&&(b=this.getChild(b)),this.removeEventListenerForItem(b),a.prototype.removeChild.call(this,b)},d.addItem=function(a){var b=this.addChild(a);b&&this.addEventListenerForItem(b)},d.createEl=function(){var b=this.options_.contentElType||"ul";this.contentEl_=r(b,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var c=a.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return c.appendChild(this.contentEl_),U(c,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),c},d.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,a.prototype.dispose.call(this)},d.handleBlur=function(a){var c=a.relatedTarget||b.activeElement;if(!this.children().some(function(a){return a.el()===c})){var d=this.menuButton_;d&&d.buttonPressed_&&c!==d.el().firstChild&&d.unpressButton()}},d.handleTapClick=function(a){if(this.menuButton_){this.menuButton_.unpressButton();var b=this.children();if(!Array.isArray(b))return;var c=b.filter(function(b){return b.el()===a.target})[0];if(!c)return;"CaptionSettingsMenuItem"!==c.name()&&this.menuButton_.focus()}},d.handleKeyDown=function(a){Xd.isEventKey(a,"Left")||Xd.isEventKey(a,"Down")?(a.preventDefault(),a.stopPropagation(),this.stepForward()):(Xd.isEventKey(a,"Right")||Xd.isEventKey(a,"Up"))&&(a.preventDefault(),a.stopPropagation(),this.stepBack())},d.stepForward=function(){var a=0;void 0!==this.focusedChild_&&(a=this.focusedChild_+1),this.focus(a)},d.stepBack=function(){var a=0;void 0!==this.focusedChild_&&(a=this.focusedChild_-1),this.focus(a)},d.focus=function(a){void 0===a&&(a=0);var b=this.children().slice(),c=b.length&&b[0].className&&/vjs-menu-title/.test(b[0].className);c&&b.shift(),b.length>0&&(a<0?a=0:a>=b.length&&(a=b.length-1),this.focusedChild_=a,b[a].el_.focus())},c}(nd);nd.registerComponent("Menu",$f);var _f=function(a){function c(c,d){var e;void 0===d&&(d={}),e=a.call(this,c,d)||this,e.menuButton_=new tf(c,d),e.menuButton_.controlText(e.controlText_),e.menuButton_.el_.setAttribute("aria-haspopup","true");var f=tf.prototype.buildCSSClass();return e.menuButton_.el_.className=e.buildCSSClass()+" "+f,e.menuButton_.removeClass("vjs-control"),e.addChild(e.menuButton_),e.update(),e.enabled_=!0,e.on(e.menuButton_,"tap",e.handleClick),e.on(e.menuButton_,"click",e.handleClick),e.on(e.menuButton_,"keydown",e.handleKeyDown),e.on(e.menuButton_,"mouseenter",function(){e.addClass("vjs-hover"),e.menu.show(),U(b,"keyup",Tc(pd(e),e.handleMenuKeyUp))}),e.on("mouseleave",e.handleMouseLeave),e.on("keydown",e.handleSubmenuKeyDown),e}qd(c,a);var d=c.prototype;return d.update=function(){var a=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=a,this.addChild(a),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},d.createMenu=function(){var a=new $f(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var b=r("li",{className:"vjs-menu-title",innerHTML:hd(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var c=new nd(this.player_,{el:b});a.addItem(c)}if(this.items=this.createItems(),this.items)for(var d=0;d<this.items.length;d++)a.addItem(this.items[d]);return a},d.createItems=function(){},d.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},d.buildWrapperCSSClass=function(){var b="vjs-menu-button";b+=this.options_.inline===!0?"-inline":"-popup";var c=tf.prototype.buildCSSClass();return"vjs-menu-button "+b+" "+c+" "+a.prototype.buildCSSClass.call(this)},d.buildCSSClass=function(){var b="vjs-menu-button";return b+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+b+" "+a.prototype.buildCSSClass.call(this)},d.controlText=function(a,b){return void 0===b&&(b=this.menuButton_.el()),this.menuButton_.controlText(a,b)},d.dispose=function(){this.handleMouseLeave(),a.prototype.dispose.call(this)},d.handleClick=function(a){this.buttonPressed_?this.unpressButton():this.pressButton()},d.handleMouseLeave=function(a){this.removeClass("vjs-hover"),V(b,"keyup",Tc(this,this.handleMenuKeyUp))},d.focus=function(){this.menuButton_.focus()},d.blur=function(){this.menuButton_.blur()},d.handleKeyDown=function(a){Xd.isEventKey(a,"Esc")||Xd.isEventKey(a,"Tab")?(this.buttonPressed_&&this.unpressButton(),Xd.isEventKey(a,"Tab")||(a.preventDefault(),this.menuButton_.focus())):(Xd.isEventKey(a,"Up")||Xd.isEventKey(a,"Down"))&&(this.buttonPressed_||(a.preventDefault(),this.pressButton()))},d.handleMenuKeyUp=function(a){(Xd.isEventKey(a,"Esc")||Xd.isEventKey(a,"Tab"))&&this.removeClass("vjs-hover")},d.handleSubmenuKeyPress=function(a){this.handleSubmenuKeyDown(a)},d.handleSubmenuKeyDown=function(a){(Xd.isEventKey(a,"Esc")||Xd.isEventKey(a,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Xd.isEventKey(a,"Tab")||(a.preventDefault(),this.menuButton_.focus()))},d.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Jd&&p())return;this.menu.focus()}},d.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},d.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},d.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},c}(nd);nd.registerComponent("MenuButton",_f);var ag=function(a){function b(b,c){var d,e=c.tracks;if(d=a.call(this,b,c)||this,d.items.length<=1&&d.hide(),!e)return pd(d);var f=Tc(pd(d),d.update);return e.addEventListener("removetrack",f),e.addEventListener("addtrack",f),d.player_.on("ready",f),d.player_.on("dispose",function(){e.removeEventListener("removetrack",f),e.removeEventListener("addtrack",f)}),d}return qd(b,a),b}(_f);nd.registerComponent("TrackButton",ag);var bg=["Tab","Esc","Up","Down","Right","Left"],cg=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.selectable=c.selectable,d.isSelected_=c.selected||!1,d.multiSelectable=c.multiSelectable,d.selected(d.isSelected_),d.selectable?d.multiSelectable?d.el_.setAttribute("role","menuitemcheckbox"):d.el_.setAttribute("role","menuitemradio"):d.el_.setAttribute("role","menuitem"),d}qd(b,a);var c=b.prototype;return c.createEl=function(b,c,d){return this.nonIconControl=!0,a.prototype.createEl.call(this,"li",g({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},c),d)},c.handleKeyDown=function(b){bg.some(function(a){return Xd.isEventKey(b,a)})||a.prototype.handleKeyDown.call(this,b)},c.handleClick=function(a){this.selected(!0)},c.selected=function(a){this.selectable&&(a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},b}(mf);nd.registerComponent("MenuItem",cg);var dg=function(c){function d(d,e){var f,g=e.track,h=d.textTracks();e.label=g.label||g.language||"Unknown",e.selected="showing"===g.mode,f=c.call(this,d,e)||this,f.track=g,f.kinds=(e.kinds||[e.kind||f.track.kind]).filter(Boolean);var i=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.handleTracksChange.apply(pd(f),b)},j=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.handleSelectedLanguageChange.apply(pd(f),b)};if(d.on(["loadstart","texttrackchange"],i),h.addEventListener("change",i),h.addEventListener("selectedlanguagechange",j),f.on("dispose",function(){d.off(["loadstart","texttrackchange"],i),h.removeEventListener("change",i),h.removeEventListener("selectedlanguagechange",j)}),void 0===h.onchange){var k;f.on(["tap","click"],function(){if("object"!=typeof a.Event)try{k=new a.Event("change")}catch(a){}k||(k=b.createEvent("Event"),k.initEvent("change",!0,!0)),h.dispatchEvent(k)})}return f.handleTracksChange(),f}qd(d,c);var e=d.prototype;return e.handleClick=function(a){var b=this.track,d=this.player_.textTracks();if(c.prototype.handleClick.call(this,a),d)for(var e=0;e<d.length;e++){var f=d[e];this.kinds.indexOf(f.kind)!==-1&&(f===b?"showing"!==f.mode&&(f.mode="showing"):"disabled"!==f.mode&&(f.mode="disabled"))}},e.handleTracksChange=function(a){var b="showing"===this.track.mode;b!==this.isSelected_&&this.selected(b)},e.handleSelectedLanguageChange=function(a){if("showing"===this.track.mode){var b=this.player_.cache_.selectedLanguage;if(b&&b.enabled&&b.language===this.track.language&&b.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.dispose=function(){this.track=null,c.prototype.dispose.call(this)},d}(cg);nd.registerComponent("TextTrackMenuItem",dg);var eg=function(a){function b(b,c){return c.track={player:b,kind:c.kind,kinds:c.kinds,default:!1,mode:"disabled"},c.kinds||(c.kinds=[c.kind]),c.label?c.track.label=c.label:c.track.label=c.kinds.join(" and ")+" off",c.selectable=!0,c.multiSelectable=!1,a.call(this,b,c)||this}qd(b,a);var c=b.prototype;return c.handleTracksChange=function(a){for(var b=this.player().textTracks(),c=!0,d=0,e=b.length;d<e;d++){var f=b[d];if(this.options_.kinds.indexOf(f.kind)>-1&&"showing"===f.mode){c=!1;break}}c!==this.isSelected_&&this.selected(c)},c.handleSelectedLanguageChange=function(a){for(var b=this.player().textTracks(),c=!0,d=0,e=b.length;d<e;d++){var f=b[d];if(["captions","descriptions","subtitles"].indexOf(f.kind)>-1&&"showing"===f.mode){c=!1;break}}c&&(this.player_.cache_.selectedLanguage={enabled:!1})},b}(dg);nd.registerComponent("OffTextTrackMenuItem",eg);var fg=function(a){function b(b,c){return void 0===c&&(c={}),c.tracks=b.textTracks(),a.call(this,b,c)||this}qd(b,a);var c=b.prototype;return c.createItems=function(a,b){void 0===a&&(a=[]),void 0===b&&(b=dg);var c;this.label_&&(c=this.label_+" off"),a.push(new eg(this.player_,{kinds:this.kinds_,kind:this.kind_,label:c})),this.hideThreshold_+=1;var d=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var e=0;e<d.length;e++){var f=d[e];if(this.kinds_.indexOf(f.kind)>-1){var g=new b(this.player_,{track:f,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});g.addClass("vjs-"+f.kind+"-menu-item"),a.push(g)}}return a},b}(ag);nd.registerComponent("TextTrackButton",fg);var gg=function(a){function b(b,c){var d,e=c.track,f=c.cue,g=b.currentTime();return c.selectable=!0,c.multiSelectable=!1,c.label=f.text,c.selected=f.startTime<=g&&g<f.endTime,d=a.call(this,b,c)||this,d.track=e,d.cue=f,e.addEventListener("cuechange",Tc(pd(d),d.update)),d}qd(b,a);var c=b.prototype;return c.handleClick=function(b){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},c.update=function(a){var b=this.cue,c=this.player_.currentTime();this.selected(b.startTime<=c&&c<b.endTime)},b}(cg);nd.registerComponent("ChaptersTrackMenuItem",gg);var hg=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-chapters-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-chapters-button "+a.prototype.buildWrapperCSSClass.call(this)},c.update=function(b){this.track_&&(!b||"addtrack"!==b.type&&"removetrack"!==b.type)||this.setTrack(this.findChaptersTrack()),a.prototype.update.call(this)},c.setTrack=function(a){if(this.track_!==a){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var b=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);b&&b.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=a,this.track_){this.track_.mode="hidden";var c=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);c&&c.addEventListener("load",this.updateHandler_)}}},c.findChaptersTrack=function(){for(var a=this.player_.textTracks()||[],b=a.length-1;b>=0;b--){var c=a[b];if(c.kind===this.kind_)return c}},c.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(hd(this.kind_))},c.createMenu=function(){return this.options_.title=this.getMenuCaption(),a.prototype.createMenu.call(this)},c.createItems=function(){var a=[];if(!this.track_)return a;var b=this.track_.cues;if(!b)return a;for(var c=0,d=b.length;c<d;c++){var e=b[c],f=new gg(this.player_,{track:this.track_,cue:e});a.push(f)}return a},b}(fg);hg.prototype.kind_="chapters",hg.prototype.controlText_="Chapters",nd.registerComponent("ChaptersButton",hg);var ig=function(a){function b(b,c,d){var e;e=a.call(this,b,c,d)||this;var f=b.textTracks(),g=Tc(pd(e),e.handleTracksChange);return f.addEventListener("change",g),e.on("dispose",function(){f.removeEventListener("change",g)}),e}qd(b,a);var c=b.prototype;return c.handleTracksChange=function(a){for(var b=this.player().textTracks(),c=!1,d=0,e=b.length;d<e;d++){var f=b[d];if(f.kind!==this.kind_&&"showing"===f.mode){c=!0;break}}c?this.disable():this.enable()},c.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},b}(fg);ig.prototype.kind_="descriptions",ig.prototype.controlText_="Descriptions",nd.registerComponent("DescriptionsButton",ig);var jg=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-subtitles-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+a.prototype.buildWrapperCSSClass.call(this)},b}(fg);jg.prototype.kind_="subtitles",jg.prototype.controlText_="Subtitles",nd.registerComponent("SubtitlesButton",jg);var kg=function(a){function b(b,c){var d;return c.track={player:b,kind:c.kind,label:c.kind+" settings",selectable:!1,default:!1,mode:"disabled"},c.selectable=!1,c.name="CaptionSettingsMenuItem",d=a.call(this,b,c)||this,d.addClass("vjs-texttrack-settings"),d.controlText(", opens "+c.kind+" settings dialog"),d}qd(b,a);var c=b.prototype;return c.handleClick=function(a){this.player().getChild("textTrackSettings").open()},b}(dg);nd.registerComponent("CaptionSettingsMenuItem",kg);var lg=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-captions-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-captions-button "+a.prototype.buildWrapperCSSClass.call(this)},c.createItems=function(){var b=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(b.push(new kg(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),a.prototype.createItems.call(this,b)},b}(fg);lg.prototype.kind_="captions",lg.prototype.controlText_="Captions",nd.registerComponent("CaptionsButton",lg);var mg=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.createEl=function(b,c,d){var e='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(e+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),e+="</span>";var f=a.prototype.createEl.call(this,b,g({innerHTML:e},c),d);return f},b}(dg);nd.registerComponent("SubsCapsMenuItem",mg);var ng=function(a){function b(b,c){var d;return void 0===c&&(c={}),d=a.call(this,b,c)||this,d.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(d.player_.language_)>-1&&(d.label_="captions"),d.menuButton_.controlText(hd(d.label_)),d}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildWrapperCSSClass.call(this)},c.createItems=function(){var b=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(b.push(new kg(this.player_,{kind:this.label_})),this.hideThreshold_+=1),b=a.prototype.createItems.call(this,b,mg)},b}(fg);ng.prototype.kinds_=["captions","subtitles"],ng.prototype.controlText_="Subtitles",nd.registerComponent("SubsCapsButton",ng);var og=function(a){function b(b,c){var d,e=c.track,f=b.audioTracks();c.label=e.label||e.language||"Unknown",c.selected=e.enabled,d=a.call(this,b,c)||this,d.track=e,d.addClass("vjs-"+e.kind+"-menu-item");var g=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];d.handleTracksChange.apply(pd(d),b)};return f.addEventListener("change",g),d.on("dispose",function(){f.removeEventListener("change",g)}),d}qd(b,a);var c=b.prototype;return c.createEl=function(b,c,d){var e='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(e+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),e+="</span>";var f=a.prototype.createEl.call(this,b,g({innerHTML:e},c),d);return f},c.handleClick=function(b){var c=this.player_.audioTracks();a.prototype.handleClick.call(this,b);for(var d=0;d<c.length;d++){var e=c[d];e.enabled=e===this.track}},c.handleTracksChange=function(a){this.selected(this.track.enabled)},b}(cg);nd.registerComponent("AudioTrackMenuItem",og);var pg=function(a){function b(b,c){return void 0===c&&(c={}),c.tracks=b.audioTracks(),a.call(this,b,c)||this}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-audio-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-audio-button "+a.prototype.buildWrapperCSSClass.call(this)},c.createItems=function(a){void 0===a&&(a=[]),this.hideThreshold_=1;for(var b=this.player_.audioTracks(),c=0;c<b.length;c++){var d=b[c];a.push(new og(this.player_,{track:d,selectable:!0,multiSelectable:!1}))}return a},b}(ag);pg.prototype.controlText_="Audio Track",nd.registerComponent("AudioTrackButton",pg);var qg=function(a){function b(b,c){var d,e=c.rate,f=parseFloat(e,10);return c.label=e,c.selected=1===f,c.selectable=!0,c.multiSelectable=!1,d=a.call(this,b,c)||this,d.label=e,d.rate=f,d.on(b,"ratechange",d.update),d}qd(b,a);var c=b.prototype;return c.handleClick=function(b){a.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},c.update=function(a){this.selected(this.player().playbackRate()===this.rate)},b}(cg);qg.prototype.contentElType="button",nd.registerComponent("PlaybackRateMenuItem",qg);var rg=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.updateVisibility(),d.updateLabel(),d.on(b,"loadstart",d.updateVisibility),d.on(b,"ratechange",d.updateLabel),d}qd(b,a);var c=b.prototype;return c.createEl=function(){var b=a.prototype.createEl.call(this);return this.labelEl_=r("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),b.appendChild(this.labelEl_),b},c.dispose=function(){this.labelEl_=null,a.prototype.dispose.call(this)},c.buildCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildWrapperCSSClass.call(this)},c.createMenu=function(){var a=new $f(this.player()),b=this.playbackRates();if(b)for(var c=b.length-1;c>=0;c--)a.addChild(new qg(this.player(),{rate:b[c]+"x"}));return a},c.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},c.handleClick=function(a){for(var b=this.player().playbackRate(),c=this.playbackRates(),d=c[0],e=0;e<c.length;e++)if(c[e]>b){d=c[e];break}this.player().playbackRate(d)},c.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},c.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},c.updateVisibility=function(a){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},c.updateLabel=function(a){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},b}(_f);rg.prototype.controlText_="Playback Rate",nd.registerComponent("PlaybackRateMenuButton",rg);var sg=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-spacer "+a.prototype.buildCSSClass.call(this)},c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},b}(nd);nd.registerComponent("Spacer",sg);var tg=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-custom-control-spacer "+a.prototype.buildCSSClass.call(this)},c.createEl=function(){var b=a.prototype.createEl.call(this,{className:this.buildCSSClass()});return b.innerHTML=" ",b},b}(sg);nd.registerComponent("CustomControlSpacer",tg);var ug=function(a){function b(){return a.apply(this,arguments)||this}qd(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},b}(nd);ug.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in b&&ug.prototype.options_.children.splice(ug.prototype.options_.children.length-1,0,"pictureInPictureToggle"),nd.registerComponent("ControlBar",ug);var vg=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,"error",d.open),d}qd(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-error-display "+a.prototype.buildCSSClass.call(this)},c.content=function(){var a=this.player().error();return a?this.localize(a.message):""},b}(Zd);vg.prototype.options_=Ac({},Zd.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),nd.registerComponent("ErrorDisplay",vg);var wg="vjs-text-track-settings",xg=["#000","Black"],yg=["#00F","Blue"],zg=["#0FF","Cyan"],Ag=["#0F0","Green"],Bg=["#F0F","Magenta"],Cg=["#F00","Red"],Dg=["#FFF","White"],Eg=["#FF0","Yellow"],Fg=["1","Opaque"],Gg=["0.5","Semi-Transparent"],Hg=["0","Transparent"],Ig={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",
label:"Color",options:[xg,Dg,Cg,Ag,yg,Eg,Bg,zg]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Fg,Gg,Hg]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Dg,xg,Cg,Ag,yg,Eg,Bg,zg]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(a){return"1.00"===a?null:Number(a)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Fg,Gg]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Hg,Gg,Fg]}};Ig.windowColor.options=Ig.backgroundColor.options;var Jg=function(b){function c(a,c){var d;return c.temporary=!1,d=b.call(this,a,c)||this,d.updateDisplay=Tc(pd(d),d.updateDisplay),d.fill(),d.hasBeenOpened_=d.hasBeenFilled_=!0,d.endDialog=r("p",{className:"vjs-control-text",textContent:d.localize("End of dialog window.")}),d.el().appendChild(d.endDialog),d.setDefaults(),void 0===c.persistTextTrackSettings&&(d.options_.persistTextTrackSettings=d.options_.playerOptions.persistTextTrackSettings),d.on(d.$(".vjs-done-button"),"click",function(){d.saveSettings(),d.close()}),d.on(d.$(".vjs-default-button"),"click",function(){d.setDefaults(),d.updateDisplay()}),e(Ig,function(a){d.on(d.$(a.selector),"change",d.updateDisplay)}),d.options_.persistTextTrackSettings&&d.restoreSettings(),d}qd(c,b);var d=c.prototype;return d.dispose=function(){this.endDialog=null,b.prototype.dispose.call(this)},d.createElSelect_=function(a,b,c){var d=this;void 0===b&&(b=""),void 0===c&&(c="label");var e=Ig[a],f=e.id.replace("%s",this.id_),g=[b,f].join(" ").trim();return["<"+c+' id="'+f+'" class="'+("label"===c?"vjs-label":"")+'">',this.localize(e.label),"</"+c+">",'<select aria-labelledby="'+g+'">'].concat(e.options.map(function(a){var b=f+"-"+a[1].replace(/\W+/g,"");return['<option id="'+b+'" value="'+a[0]+'" ','aria-labelledby="'+g+" "+b+'">',d.localize(a[1]),"</option>"].join("")})).concat("</select>").join("")},d.createElFgColor_=function(){var a="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",a),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",a),"</span>","</fieldset>"].join("")},d.createElBgColor_=function(){var a="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",a),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",a),"</span>","</fieldset>"].join("")},d.createElWinColor_=function(){var a="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",a),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",a),"</span>","</fieldset>"].join("")},d.createElColors_=function(){return r("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},d.createElFont_=function(){return r("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},d.createElControls_=function(){var a=this.localize("restore all settings to the default values");return r("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+a+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+a+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},d.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},d.label=function(){return this.localize("Caption Settings Dialog")},d.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},d.buildCSSClass=function(){return b.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},d.getValues=function(){var a=this;return f(Ig,function(b,c,d){var e=eb(a.$(c.selector),c.parser);return void 0!==e&&(b[d]=e),b},{})},d.setValues=function(a){var b=this;e(Ig,function(c,d){fb(b.$(c.selector),a[d],c.parser)})},d.setDefaults=function(){var a=this;e(Ig,function(b){var c=b.hasOwnProperty("default")?b.default:0;a.$(b.selector).selectedIndex=c})},d.restoreSettings=function(){var b;try{b=JSON.parse(a.localStorage.getItem(wg))}catch(a){yc.warn(a)}b&&this.setValues(b)},d.saveSettings=function(){if(this.options_.persistTextTrackSettings){var b=this.getValues();try{Object.keys(b).length?a.localStorage.setItem(wg,JSON.stringify(b)):a.localStorage.removeItem(wg)}catch(a){yc.warn(a)}}},d.updateDisplay=function(){var a=this.player_.getChild("textTrackDisplay");a&&a.updateDisplay()},d.conditionalBlur_=function(){this.previouslyActiveEl_=null;var a=this.player_.controlBar,b=a&&a.subsCapsButton,c=a&&a.captionsButton;b?b.focus():c&&c.focus()},c}(Zd);nd.registerComponent("TextTrackSettings",Jg);var Kg=function(b){function c(c,d){var e,f=d.ResizeObserver||a.ResizeObserver;null===d.ResizeObserver&&(f=!1);var g=_({createEl:!f,reportTouchActivity:!1},d);return e=b.call(this,c,g)||this,e.ResizeObserver=d.ResizeObserver||a.ResizeObserver,e.loadListener_=null,e.resizeObserver_=null,e.debouncedHandler_=Vc(function(){e.resizeHandler()},100,!1,pd(e)),f?(e.resizeObserver_=new e.ResizeObserver(e.debouncedHandler_),e.resizeObserver_.observe(c.el())):(e.loadListener_=function(){if(e.el_&&e.el_.contentWindow){var a=e.debouncedHandler_,b=e.unloadListener_=function(){V(this,"resize",a),V(this,"unload",b),b=null};U(e.el_.contentWindow,"unload",b),U(e.el_.contentWindow,"resize",a)}},e.one("load",e.loadListener_)),e}qd(c,b);var d=c.prototype;return d.createEl=function(){return b.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},d.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},d.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,b.prototype.dispose.call(this)},c}(nd);nd.registerComponent("ResizeManager",Kg);var Lg={trackingThreshold:30,liveTolerance:15},Mg=function(c){function d(a,d){var e,f=_(Lg,d,{createEl:!1});return e=c.call(this,a,f)||this,e.reset_(),e.on(e.player_,"durationchange",e.handleDurationchange),Dd&&"hidden"in b&&"visibilityState"in b&&e.on(b,"visibilitychange",e.handleVisibilityChange),e}qd(d,c);var e=d.prototype;return e.handleVisibilityChange=function(){this.player_.duration()===1/0&&(b.hidden?this.stopTracking():this.startTracking())},e.trackLive_=function(){var b=this.player_.seekable();if(b&&b.length){var c=Number(a.performance.now().toFixed(4)),d=this.lastTime_===-1?0:(c-this.lastTime_)/1e3;this.lastTime_=c,this.pastSeekEnd_=this.pastSeekEnd()+d;var e=this.liveCurrentTime(),f=this.player_.currentTime(),g=this.player_.paused()||this.seekedBehindLive_||Math.abs(e-f)>this.options_.liveTolerance;this.timeupdateSeen_&&e!==1/0||(g=!1),g!==this.behindLiveEdge_&&(this.behindLiveEdge_=g,this.trigger("liveedgechange"))}},e.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},e.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,Sc),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},e.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},e.handleSeeked=function(){var a=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&a>2,this.skipNextSeeked_=!1,this.trackLive_()},e.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},e.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},e.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},e.seekableEnd=function(){for(var a=this.player_.seekable(),b=[],c=a?a.length:0;c--;)b.push(a.end(c));return b.length?b.sort()[b.length-1]:1/0},e.seekableStart=function(){for(var a=this.player_.seekable(),b=[],c=a?a.length:0;c--;)b.push(a.start(c));return b.length?b.sort()[0]:0},e.liveWindow=function(){var a=this.liveCurrentTime();return a===1/0?1/0:a-this.seekableStart()},e.isLive=function(){return this.isTracking()},e.atLiveEdge=function(){return!this.behindLiveEdge()},e.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},e.pastSeekEnd=function(){var a=this.seekableEnd();return this.lastSeekEnd_!==-1&&a!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=a,this.pastSeekEnd_},e.behindLiveEdge=function(){return this.behindLiveEdge_},e.isTracking=function(){return"number"==typeof this.trackingInterval_},e.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},e.dispose=function(){this.off(b,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),c.prototype.dispose.call(this)},d}(nd);nd.registerComponent("LiveTracker",Mg);var Ng=function(a){var b=a.el();if(b.hasAttribute("src"))return a.triggerSourceset(b.src),!0;var c=a.$$("source"),d=[],e="";if(!c.length)return!1;for(var f=0;f<c.length;f++){var g=c[f].src;g&&d.indexOf(g)===-1&&d.push(g)}return!!d.length&&(1===d.length&&(e=d[0]),a.triggerSourceset(e),!0)},Og=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(c){var d=b.createElement(this.nodeName.toLowerCase());d.innerHTML=c;for(var e=b.createDocumentFragment();d.childNodes.length;)e.appendChild(d.childNodes[0]);return this.innerText="",a.Element.prototype.appendChild.call(this,e),this.innerHTML}}),Pg=function(a,b){for(var c={},d=0;d<a.length&&(c=Object.getOwnPropertyDescriptor(a[d],b),!(c&&c.set&&c.get));d++);return c.enumerable=!0,c.configurable=!0,c},Qg=function(b){return Pg([b.el(),a.HTMLMediaElement.prototype,a.Element.prototype,Og],"innerHTML")},Rg=function(a){var b=a.el();if(!b.resetSourceWatch_){var c={},d=Qg(a),e=function(c){return function(){for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=c.apply(b,e);return Ng(a),g}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){b[a]&&(c[a]=b[a],b[a]=e(c[a]))}),Object.defineProperty(b,"innerHTML",_(d,{set:e(d.set)})),b.resetSourceWatch_=function(){b.resetSourceWatch_=null,Object.keys(c).forEach(function(a){b[a]=c[a]}),Object.defineProperty(b,"innerHTML",d)},a.one("sourceset",b.resetSourceWatch_)}},Sg=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?ne(a.Element.prototype.getAttribute.call(this,"src")):""},set:function(b){return a.Element.prototype.setAttribute.call(this,"src",b),b}}),Tg=function(b){return Pg([b.el(),a.HTMLMediaElement.prototype,Sg],"src")},Ug=function(a){if(a.featuresSourceset){var b=a.el();if(!b.resetSourceset_){var c=Tg(a),d=b.setAttribute,e=b.load;Object.defineProperty(b,"src",_(c,{set:function(d){var e=c.set.call(b,d);return a.triggerSourceset(b.src),e}})),b.setAttribute=function(c,e){var f=d.call(b,c,e);return/src/i.test(c)&&a.triggerSourceset(b.src),f},b.load=function(){var c=e.call(b);return Ng(a)||(a.triggerSourceset(""),Rg(a)),c},b.currentSrc?a.triggerSourceset(b.currentSrc):Ng(a)||Rg(a),b.resetSourceset_=function(){b.resetSourceset_=null,b.load=e,b.setAttribute=d,Object.defineProperty(b,"src",c),b.resetSourceWatch_&&b.resetSourceWatch_()}}}},Vg=function(a,b,c,d){void 0===d&&(d=!0);var e=function(c){return Object.defineProperty(a,b,{value:c,enumerable:!0,writable:!0})},f={configurable:!0,enumerable:!0,get:function(){var a=c();return e(a),a}};return d&&(f.set=e),Object.defineProperty(a,b,f)},Wg=function(c){function d(a,b){var d;d=c.call(this,a,b)||this;var e=a.source,f=!1;if(e&&(d.el_.currentSrc!==e.src||a.tag&&3===a.tag.initNetworkState_)?d.setSource(e):d.handleLateInit_(d.el_),a.enableSourceset&&d.setupSourcesetHandling_(),d.el_.hasChildNodes()){for(var g=d.el_.childNodes,h=g.length,i=[];h--;){var j=g[h],k=j.nodeName.toLowerCase();"track"===k&&(d.featuresNativeTextTracks?(d.remoteTextTrackEls().addTrackElement_(j),d.remoteTextTracks().addTrack(j.track),d.textTracks().addTrack(j.track),f||d.el_.hasAttribute("crossorigin")||!pe(j.src)||(f=!0)):i.push(j))}for(var l=0;l<i.length;l++)d.el_.removeChild(i[l])}return d.proxyNativeTracks_(),d.featuresNativeTextTracks&&f&&yc.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),d.restoreMetadataTracksInIOSNativePlayer_(),(Gd||Id||yd)&&a.nativeControlsForTouch===!0&&d.setControls(!0),d.proxyWebkitFullscreen_(),d.triggerReady(),d}qd(d,c);var e=d.prototype;return e.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),d.disposeMediaElement(this.el_),this.options_=null,c.prototype.dispose.call(this)},e.setupSourcesetHandling_=function(){Ug(this)},e.restoreMetadataTracksInIOSNativePlayer_=function(){var a,b=this.textTracks(),c=function(){a=[];for(var c=0;c<b.length;c++){var d=b[c];"metadata"===d.kind&&a.push({track:d,storedMode:d.mode})}};c(),b.addEventListener("change",c),this.on("dispose",function(){return b.removeEventListener("change",c)});var d=function c(){for(var d=0;d<a.length;d++){var e=a[d];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}b.removeEventListener("change",c)};this.on("webkitbeginfullscreen",function(){b.removeEventListener("change",c),b.removeEventListener("change",d),b.addEventListener("change",d)}),this.on("webkitendfullscreen",function(){b.removeEventListener("change",c),b.addEventListener("change",c),b.removeEventListener("change",d)})},e.overrideNative_=function(a,b){var c=this;if(b===this["featuresNative"+a+"Tracks"]){var d=a.toLowerCase();this[d+"TracksListeners_"]&&Object.keys(this[d+"TracksListeners_"]).forEach(function(a){var b=c.el()[d+"Tracks"];b.removeEventListener(a,c[d+"TracksListeners_"][a])}),this["featuresNative"+a+"Tracks"]=!b,this[d+"TracksListeners_"]=null,this.proxyNativeTracksForType_(d)}},e.overrideNativeAudioTracks=function(a){this.overrideNative_("Audio",a)},e.overrideNativeVideoTracks=function(a){this.overrideNative_("Video",a)},e.proxyNativeTracksForType_=function(a){var b=this,c=Ge[a],d=this.el()[c.getterName],e=this[c.getterName]();if(this["featuresNative"+c.capitalName+"Tracks"]&&d&&d.addEventListener){var f={change:function(c){var d={type:"change",target:e,currentTarget:e,srcElement:e};e.trigger(d),"text"===a&&b[He.remoteText.getterName]().trigger(d)},addtrack:function(a){e.addTrack(a.track)},removetrack:function(a){e.removeTrack(a.track)}},g=function(){for(var a=[],b=0;b<e.length;b++){for(var c=!1,f=0;f<d.length;f++)if(d[f]===e[b]){c=!0;break}c||a.push(e[b])}for(;a.length;)e.removeTrack(a.shift())};this[c.getterName+"Listeners_"]=f,Object.keys(f).forEach(function(a){var c=f[a];d.addEventListener(a,c),b.on("dispose",function(b){return d.removeEventListener(a,c)})}),this.on("loadstart",g),this.on("dispose",function(a){return b.off("loadstart",g)})}},e.proxyNativeTracks_=function(){var a=this;Ge.names.forEach(function(b){a.proxyNativeTracksForType_(b)})},e.createEl=function(){var a=this.options_.tag;if(!a||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(a){var c=a.cloneNode(!0);a.parentNode&&a.parentNode.insertBefore(c,a),d.disposeMediaElement(a),a=c}else{a=b.createElement("video");var e=this.options_.tag&&z(this.options_.tag),f=_({},e);Gd&&this.options_.nativeControlsForTouch===!0||delete f.controls,y(a,g(f,{id:this.options_.techId,class:"vjs-tech"}))}a.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&B(a,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(a.disablePictureInPicture=this.options_.disablePictureInPicture);for(var h=["loop","muted","playsinline","autoplay"],i=0;i<h.length;i++){var j=h[i],k=this.options_[j];"undefined"!=typeof k&&(k?B(a,j,j):C(a,j),a[j]=k)}return a},e.handleLateInit_=function(a){if(0!==a.networkState&&3!==a.networkState){if(0===a.readyState){var b=!1,c=function(){b=!0};this.on("loadstart",c);var d=function(){b||this.trigger("loadstart")};return this.on("loadedmetadata",d),void this.ready(function(){this.off("loadstart",c),this.off("loadedmetadata",d),b||this.trigger("loadstart")})}var e=["loadstart"];e.push("loadedmetadata"),a.readyState>=2&&e.push("loadeddata"),a.readyState>=3&&e.push("canplay"),a.readyState>=4&&e.push("canplaythrough"),this.ready(function(){e.forEach(function(a){this.trigger(a)},this)})}},e.setScrubbing=function(a){this.isScrubbing_=a},e.setCurrentTime=function(a){try{this.isScrubbing_&&this.el_.fastSeek&&Kd?this.el_.fastSeek(a):this.el_.currentTime=a}catch(a){yc(a,"Video is not ready. (Video.js)")}},e.duration=function(){var a=this;if(this.el_.duration===1/0&&wd&&Bd&&0===this.el_.currentTime){var b=function b(){a.el_.currentTime>0&&(a.el_.duration===1/0&&a.trigger("durationchange"),a.off("timeupdate",b))};return this.on("timeupdate",b),NaN}return this.el_.duration||NaN},e.width=function(){return this.el_.offsetWidth},e.height=function(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function(){var a=this;if("webkitDisplayingFullscreen"in this.el_){var b=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},c=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",b),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",c),this.on("dispose",function(){a.off("webkitbeginfullscreen",c),a.off("webkitendfullscreen",b)})}},e.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var b=a.navigator&&a.navigator.userAgent||"";if(/Android/.test(b)||!/Chrome|Mac OS X 10.5/.test(b))return!0}return!1},e.enterFullScreen=function(){var a=this.el_;if(a.paused&&a.networkState<=a.HAVE_METADATA)ka(this.el_.play()),this.setTimeout(function(){a.pause();try{a.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{a.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},e.exitFullScreen=function(){return this.el_.webkitDisplayingFullscreen?void this.el_.webkitExitFullScreen():void this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},e.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},e.src=function(a){return void 0===a?this.el_.src:void this.setSrc(a)},e.reset=function(){d.resetMediaElement(this.el_)},e.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function(a){this.el_.controls=!!a},e.addTextTrack=function(a,b,d){return this.featuresNativeTextTracks?this.el_.addTextTrack(a,b,d):c.prototype.addTextTrack.call(this,a,b,d)},e.createRemoteTextTrack=function(a){if(!this.featuresNativeTextTracks)return c.prototype.createRemoteTextTrack.call(this,a);var d=b.createElement("track");return a.kind&&(d.kind=a.kind),a.label&&(d.label=a.label),(a.language||a.srclang)&&(d.srclang=a.language||a.srclang),a.default&&(d.default=a.default),a.id&&(d.id=a.id),a.src&&(d.src=a.src),d},e.addRemoteTextTrack=function(a,b){var d=c.prototype.addRemoteTextTrack.call(this,a,b);return this.featuresNativeTextTracks&&this.el().appendChild(d),d},e.removeRemoteTextTrack=function(a){if(c.prototype.removeRemoteTextTrack.call(this,a),this.featuresNativeTextTracks)for(var b=this.$$("track"),d=b.length;d--;)a!==b[d]&&a!==b[d].track||this.el().removeChild(b[d])},e.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var b={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(b.droppedVideoFrames=this.el().webkitDroppedFrameCount,b.totalVideoFrames=this.el().webkitDecodedFrameCount),a.performance&&"function"==typeof a.performance.now?b.creationTime=a.performance.now():a.performance&&a.performance.timing&&"number"==typeof a.performance.timing.navigationStart&&(b.creationTime=a.Date.now()-a.performance.timing.navigationStart),b},d}(_e);Vg(Wg,"TEST_VID",function(){if(n()){var a=b.createElement("video"),c=b.createElement("track");return c.kind="captions",c.srclang="en",c.label="English",a.appendChild(c),a}}),Wg.isSupported=function(){try{Wg.TEST_VID.volume=.5}catch(a){return!1}return!(!Wg.TEST_VID||!Wg.TEST_VID.canPlayType)},Wg.canPlayType=function(a){return Wg.TEST_VID.canPlayType(a)},Wg.canPlaySource=function(a,b){return Wg.canPlayType(a.type)},Wg.canControlVolume=function(){try{var a=Wg.TEST_VID.volume;return Wg.TEST_VID.volume=a/2+.1,a!==Wg.TEST_VID.volume}catch(a){return!1}},Wg.canMuteVolume=function(){try{var a=Wg.TEST_VID.muted;return Wg.TEST_VID.muted=!a,Wg.TEST_VID.muted?B(Wg.TEST_VID,"muted","muted"):C(Wg.TEST_VID,"muted","muted"),a!==Wg.TEST_VID.muted}catch(a){return!1}},Wg.canControlPlaybackRate=function(){if(wd&&Bd&&Cd<58)return!1;try{var a=Wg.TEST_VID.playbackRate;return Wg.TEST_VID.playbackRate=a/2+.1,a!==Wg.TEST_VID.playbackRate}catch(a){return!1}},Wg.canOverrideAttributes=function(){try{var a=function(){};Object.defineProperty(b.createElement("video"),"src",{get:a,set:a}),Object.defineProperty(b.createElement("audio"),"src",{get:a,set:a}),Object.defineProperty(b.createElement("video"),"innerHTML",{get:a,set:a}),Object.defineProperty(b.createElement("audio"),"innerHTML",{get:a,set:a})}catch(a){return!1}return!0},Wg.supportsNativeTextTracks=function(){return Kd||Jd&&Bd},Wg.supportsNativeVideoTracks=function(){return!(!Wg.TEST_VID||!Wg.TEST_VID.videoTracks)},Wg.supportsNativeAudioTracks=function(){return!(!Wg.TEST_VID||!Wg.TEST_VID.audioTracks)},Wg.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(a){var b=a[0],c=a[1];Vg(Wg.prototype,b,function(){return Wg[c]()},!0)}),Wg.prototype.movingMediaElementInDOM=!Jd,Wg.prototype.featuresFullscreenResize=!0,Wg.prototype.featuresProgressEvents=!0,Wg.prototype.featuresTimeupdateEvents=!0;var Xg;Wg.patchCanPlayType=function(){xd>=4&&!zd&&!Bd&&(Xg=Wg.TEST_VID&&Wg.TEST_VID.constructor.prototype.canPlayType,Wg.TEST_VID.constructor.prototype.canPlayType=function(a){var b=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return a&&b.test(a)?"maybe":Xg.call(this,a)})},Wg.unpatchCanPlayType=function(){var a=Wg.TEST_VID.constructor.prototype.canPlayType;return Xg&&(Wg.TEST_VID.constructor.prototype.canPlayType=Xg),a},Wg.patchCanPlayType(),Wg.disposeMediaElement=function(a){if(a){for(a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),"function"==typeof a.load&&!function(){try{a.load()}catch(a){}}()}},Wg.resetMediaElement=function(a){if(a){for(var b=a.querySelectorAll("source"),c=b.length;c--;)a.removeChild(b[c]);a.removeAttribute("src"),"function"==typeof a.load&&!function(){try{a.load()}catch(a){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(a){Wg.prototype[a]=function(){return this.el_[a]||this.el_.hasAttribute(a)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(a){Wg.prototype["set"+hd(a)]=function(b){this.el_[a]=b,b?this.el_.setAttribute(a,a):this.el_.removeAttribute(a)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(a){Wg.prototype[a]=function(){return this.el_[a]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(a){Wg.prototype["set"+hd(a)]=function(b){this.el_[a]=b}}),["pause","load","play"].forEach(function(a){Wg.prototype[a]=function(){return this.el_[a]()}}),_e.withSourceHandlers(Wg),Wg.nativeSourceHandler={},Wg.nativeSourceHandler.canPlayType=function(a){try{return Wg.TEST_VID.canPlayType(a)}catch(a){return""}},Wg.nativeSourceHandler.canHandleSource=function(a,b){if(a.type)return Wg.nativeSourceHandler.canPlayType(a.type);if(a.src){var c=oe(a.src);return Wg.nativeSourceHandler.canPlayType("video/"+c)}return""},Wg.nativeSourceHandler.handleSource=function(a,b,c){b.setSrc(a.src)},Wg.nativeSourceHandler.dispose=function(){},Wg.registerSourceHandler(Wg.nativeSourceHandler),_e.registerTech("Html5",Wg);var Yg=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Zg={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},$g=["tiny","xsmall","small","medium","large","xlarge","huge"],_g={};$g.forEach(function(a){var b="x"===a.charAt(0)?"x-"+a.substring(1):a;_g[a]="vjs-layout-"+b});var ah={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},bh=function(c){function d(a,e,f){var h;if(a.id=a.id||e.id||"vjs_video_"+Q(),e=g(d.getTagSettings(a),e),e.initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof a.closest){var i=a.closest("[lang]");i&&i.getAttribute&&(e.language=i.getAttribute("lang"))}else for(var j=a;j&&1===j.nodeType;){if(z(j).hasOwnProperty("lang")){e.language=j.getAttribute("lang");break}j=j.parentNode}if(h=c.call(this,null,e,f)||this,h.boundDocumentFullscreenChange_=Tc(pd(h),h.documentFullscreenChange_),h.boundFullWindowOnEscKey_=Tc(pd(h),h.fullWindowOnEscKey),h.isFullscreen_=!1,h.log=zc(h.id_),h.fsApi_=Md,h.isPosterFromTech_=!1,h.queuedCallbacks_=[],h.isReady_=!1,h.hasStarted_=!1,h.userActive_=!1,h.debugEnabled_=!1,!h.options_||!h.options_.techOrder||!h.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(h.tag=a,h.tagAttributes=a&&z(a),h.language(h.options_.language),e.languages){var k={};Object.getOwnPropertyNames(e.languages).forEach(function(a){k[a.toLowerCase()]=e.languages[a]}),h.languages_=k}else h.languages_=d.prototype.options_.languages;h.resetCache_(),h.poster_=e.poster||"",h.controls_=!!e.controls,a.controls=!1,a.removeAttribute("controls"),h.changingSrc_=!1,h.playCallbacks_=[],h.playTerminatedQueue_=[],a.hasAttribute("autoplay")?h.autoplay(!0):h.autoplay(h.options_.autoplay),e.plugins&&Object.keys(e.plugins).forEach(function(a){if("function"!=typeof h[a])throw new Error('plugin "'+a+'" does not exist')}),h.scrubbing_=!1,h.el_=h.createEl(),Z(pd(h),{eventBusKey:"el_"}),h.fsApi_.requestFullscreen&&(U(b,h.fsApi_.fullscreenchange,h.boundDocumentFullscreenChange_),h.on(h.fsApi_.fullscreenchange,h.boundDocumentFullscreenChange_)),h.fluid_&&h.on("playerreset",h.updateStyleEl_);var l=_(h.options_);e.plugins&&Object.keys(e.plugins).forEach(function(a){h[a](e.plugins[a])}),e.debug&&h.debug(!0),h.options_.playerOptions=l,h.middleware_=[],h.initChildren(),h.isAudio("audio"===a.nodeName.toLowerCase()),h.controls()?h.addClass("vjs-controls-enabled"):h.addClass("vjs-controls-disabled"),h.el_.setAttribute("role","region"),h.isAudio()?h.el_.setAttribute("aria-label",h.localize("Audio Player")):h.el_.setAttribute("aria-label",h.localize("Video Player")),h.isAudio()&&h.addClass("vjs-audio"),h.flexNotSupported_()&&h.addClass("vjs-no-flex"),Gd&&h.addClass("vjs-touch-enabled"),Jd||h.addClass("vjs-workinghover"),d.players[h.id_]=pd(h);var m=vc.split(".")[0];return h.addClass("vjs-v"+m),h.userActive(!0),h.reportUserActivity(),h.one("play",h.listenForUserActivity_),h.on("stageclick",h.handleStageClick_),h.on("keydown",h.handleKeyDown),h.breakpoints(h.options_.breakpoints),h.responsive(h.options_.responsive),h}qd(d,c);var e=d.prototype;return e.dispose=function(){var a=this;this.trigger("dispose"),this.off("dispose"),V(b,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),V(b,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),d.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Wa(this),Ie.names.forEach(function(b){var c=Ie[b],d=a[c.getterName]();d&&d.off&&d.off()}),c.prototype.dispose.call(this)},e.createEl=function(){var d,e=this.tag,f=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),g="video-js"===this.tag.tagName.toLowerCase();f?d=this.el_=e.parentNode:g||(d=this.el_=c.prototype.createEl.call(this,"div"));var h=z(e);if(g){for(d=this.el_=e,e=this.tag=b.createElement("video");d.children.length;)e.appendChild(d.firstChild);
u(d,"video-js")||v(d,"video-js"),d.appendChild(e),f=this.playerElIngest_=d,Object.keys(d).forEach(function(a){try{e[a]=d[a]}catch(a){}})}if(e.setAttribute("tabindex","-1"),h.tabindex="-1",(Dd||Bd&&Fd)&&(e.setAttribute("role","application"),h.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in h&&delete h.width,"height"in h&&delete h.height,Object.getOwnPropertyNames(h).forEach(function(a){g&&"class"===a||d.setAttribute(a,h[a]),g&&e.setAttribute(a,h[a])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=d.player=this,this.addClass("vjs-paused"),a.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Jc("vjs-styles-dimensions");var i=Dc(".vjs-styles-defaults"),j=Dc("head");j.insertBefore(this.styleEl_,i?i.nextSibling:j.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var k=e.getElementsByTagName("a"),l=0;l<k.length;l++){var m=k.item(l);v(m,"vjs-hidden"),m.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!f&&e.parentNode.insertBefore(d,e),t(e,d),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=d,d},e.crossOrigin=function(a){return a?"anonymous"!==a&&"use-credentials"!==a?void yc.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+a+'"'):void this.techCall_("setCrossOrigin",a):this.techGet_("crossOrigin")},e.width=function(a){return this.dimension("width",a)},e.height=function(a){return this.dimension("height",a)},e.dimension=function(a,b){var c=a+"_";if(void 0===b)return this[c]||0;if(""===b||"auto"===b)return this[c]=void 0,void this.updateStyleEl_();var d=parseFloat(b);return isNaN(d)?void yc.error('Improper value "'+b+'" supplied for for '+a):(this[c]=d,void this.updateStyleEl_())},e.fluid=function(a){return void 0===a?!!this.fluid_:(this.fluid_=!!a,Yc(this)&&this.off("playerreset",this.updateStyleEl_),a?(this.addClass("vjs-fluid"),this.fill(!1),Zc(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},e.fill=function(a){return void 0===a?!!this.fill_:(this.fill_=!!a,void(a?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")))},e.aspectRatio=function(a){if(void 0===a)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(a))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=a,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function(){if(a.VIDEOJS_NO_DYNAMIC_STYLE===!0){var b="number"==typeof this.width_?this.width_:this.options_.width,c="number"==typeof this.height_?this.height_:this.options_.height,d=this.tech_&&this.tech_.el();return void(d&&(b>=0&&(d.width=b),c>=0&&(d.height=c)))}var e,f,g,h;g=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var i=g.split(":"),j=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/j:this.videoWidth()||300,f=void 0!==this.height_?this.height_:e*j,h=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(h),Kc(this.styleEl_,"\n      ."+h+" {\n        width: "+e+"px;\n        height: "+f+"px;\n      }\n\n      ."+h+".vjs-fluid {\n        padding-top: "+100*j+"%;\n      }\n    "),this.options_.params.shadowDom&&(this.styleEl_.textContent="\n        ."+h+" {\n          width: "+e+"px;\n          height: "+f+"px;\n        }\n\n        ."+h+".vjs-fluid {\n          padding-top: "+100*j+"%;\n        }\n      ",a.playerShadowRoot[""+this.id_].appendChild(this.styleEl_)),this.options_.params.idIframe&&(this.styleEl_.textContent="\n        ."+h+" {\n          width: "+e+"px;\n          height: "+f+"px;\n        }\n\n        ."+h+".vjs-fluid {\n          padding-top: "+100*j+"%;\n        }\n      ",a.document.getElementById(this.options_.params.idIframe).contentWindow.document.head.appendChild(this.styleEl_))},e.loadTech_=function(a,b){var c=this;this.tech_&&this.unloadTech_();var d=hd(a),e=a.charAt(0).toLowerCase()+a.slice(1);"Html5"!==d&&this.tag&&(_e.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=d,this.isReady_=!1;var f="string"!=typeof this.autoplay()&&this.autoplay(),h={source:b,autoplay:f,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Ie.names.forEach(function(a){var b=Ie[a];h[b.getterName]=c[b.privateName]}),g(h,this.options_[d]),g(h,this.options_[e]),g(h,this.options_[a.toLowerCase()]),this.tag&&(h.tag=this.tag),b&&b.src===this.cache_.src&&this.cache_.currentTime>0&&(h.startTime=this.cache_.currentTime);var i=_e.getTech(a);if(!i)throw new Error("No Tech named '"+d+"' exists! '"+d+"' should be registered using videojs.registerTech()'");this.tech_=new i(h),this.tech_.ready(Tc(this,this.handleTechReady_),!0),Wd.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Yg.forEach(function(a){c.on(c.tech_,a,c["handleTech"+hd(a)+"_"])}),Object.keys(Zg).forEach(function(a){c.on(c.tech_,a,function(b){return 0===c.tech_.playbackRate()&&c.tech_.seeking()?void c.queuedCallbacks_.push({callback:c["handleTech"+Zg[a]+"_"].bind(c),event:b}):void c["handleTech"+Zg[a]+"_"](b)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===d&&this.tag||t(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function(){var a=this;Ie.names.forEach(function(b){var c=Ie[b];a[c.privateName]=a[c.getterName]()}),this.textTracksJson_=Wd.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function(a){return void 0===a&&yc.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},e.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},e.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.manualAutoplay_=function(a){var b=this;if(this.tech_&&"string"==typeof a){var c,d=function(){var a=b.muted();b.muted(!0);var c=function(){b.muted(a)};b.playTerminatedQueue_.push(c);var d=b.play();if(ja(d))return d.catch(c)};if("any"===a&&this.muted()!==!0?(c=this.play(),ja(c)&&(c=c.catch(d))):c="muted"===a&&this.muted()!==!0?d():this.play(),ja(c))return c.then(function(){b.trigger({type:"autoplay-success",autoplay:a})}).catch(function(c){b.trigger({type:"autoplay-failure",autoplay:a})})}},e.updateSourceCaches_=function(a){void 0===a&&(a="");var b=a,c="";"string"!=typeof b&&(b=a.src,c=a.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],b&&!c&&(c=jf(this,b)),this.cache_.source=_({},a,{src:b,type:c});for(var d=this.cache_.sources.filter(function(a){return a.src&&a.src===b}),e=[],f=this.$$("source"),g=[],h=0;h<f.length;h++){var i=z(f[h]);e.push(i),i.src&&i.src===b&&g.push(i.src)}g.length&&!d.length?this.cache_.sources=e:d.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=b},e.handleTechSourceset_=function(a){var b=this;if(!this.changingSrc_){var c=function(a){return b.updateSourceCaches_(a)},d=this.currentSource().src,e=a.src;d&&!/^blob:/.test(d)&&/^blob:/.test(e)&&(!this.lastSource_||this.lastSource_.tech!==e&&this.lastSource_.player!==d)&&(c=function(){}),c(e),a.src||this.tech_.any(["sourceset","loadstart"],function(a){if("sourceset"!==a.type){var c=b.techGet("currentSrc");b.lastSource_.tech=c,b.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:a.src},this.trigger({src:a.src,type:"sourceset"})},e.hasStarted=function(a){return void 0===a?this.hasStarted_:void(a!==this.hasStarted_&&(this.hasStarted_=a,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")))},e.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(a){return a.callback(a.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.handleTechWaiting_=function(){var a=this;this.addClass("vjs-waiting"),this.trigger("waiting");var b=this.currentTime(),c=function c(){b!==a.currentTime()&&(a.removeClass("vjs-waiting"),a.off("timeupdate",c))};this.on("timeupdate",c)},e.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function(){this.options_.starttime&&(yc.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function(a){N(a)&&this.controls_&&(this.paused()?ka(this.play()):this.pause())},e.handleTechDoubleClick_=function(a){if(this.controls_){var b=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(b){return b.contains(a.target)});b||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&this.options_.userActions.doubleClick===!1||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,a):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},e.handleTechTap_=function(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function(a){a.preventDefault()},e.handleStageClick_=function(){this.reportUserActivity()},e.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function(a){var c=a.target.player;if(!c||c===this){var d=this.el(),e=b[this.fsApi_.fullscreenElement]===d;!e&&d.matches?e=d.matches(":"+this.fsApi_.fullscreen):!e&&d.msMatchesSelector&&(e=d.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(e)}},e.handleTechFullscreenChange_=function(a,b){b&&(b.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(b.isFullscreen))},e.handleTechFullscreenError_=function(a,b){this.trigger("fullscreenerror",b)},e.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function(a){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function(a){this.isInPictureInPicture(!1)},e.handleTechError_=function(){var a=this.tech_.error();this.error(a)},e.handleTechTextData_=function(){var a=null;arguments.length>1&&(a=arguments[1]),this.trigger("textdata",a)},e.getCache=function(){return this.cache_},e.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},e.techCall_=function(a,b){this.ready(function(){if(a in ef)return Sa(this.middleware_,this.tech_,a,b);if(a in ff)return Ta(this.middleware_,this.tech_,a,b);try{this.tech_&&this.tech_[a](b)}catch(a){throw yc(a),a}},!0)},e.techGet_=function(a){if(this.tech_&&this.tech_.isReady_){if(a in df)return Ra(this.middleware_,this.tech_,a);if(a in ff)return Ta(this.middleware_,this.tech_,a);try{return this.tech_[a]()}catch(b){if(void 0===this.tech_[a])throw yc("Video.js: "+a+" method not defined for "+this.techName_+" playback technology.",b),b;if("TypeError"===b.name)throw yc("Video.js: "+a+" unavailable on "+this.techName_+" playback technology element.",b),this.tech_.isReady_=!1,b;throw yc(b),b}}},e.play=function(){var b=this,c=this.options_.Promise||a.Promise;return c?new c(function(a){b.play_(a)}):this.play_()},e.play_=function(a){var b=this;void 0===a&&(a=ka),this.playCallbacks_.push(a);var c=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!c)return this.waitToPlay_=function(a){b.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(c||!Kd&&!Jd||this.load());var d=this.techGet_("play");null===d?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(d)},e.runPlayTerminatedQueue_=function(){var a=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],a.forEach(function(a){a()})},e.runPlayCallbacks_=function(a){var b=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],b.forEach(function(b){b(a)})},e.pause=function(){this.techCall_("pause")},e.paused=function(){return this.techGet_("paused")!==!1},e.played=function(){return this.techGet_("played")||fa(0,0)},e.scrubbing=function(a){return"undefined"==typeof a?this.scrubbing_:(this.scrubbing_=!!a,this.techCall_("setScrubbing",this.scrubbing_),void(a?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")))},e.currentTime=function(a){return"undefined"!=typeof a?(a<0&&(a=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",a),void(this.cache_.initTime=0)):(this.cache_.initTime=a,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},e.duration=function(a){return void 0===a?void 0!==this.cache_.duration?this.cache_.duration:NaN:(a=parseFloat(a),a<0&&(a=1/0),void(a!==this.cache_.duration&&(this.cache_.duration=a,a===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(a)||this.trigger("durationchange"))))},e.remainingTime=function(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function a(){var a=this.techGet_("buffered");return a&&a.length||(a=fa(0,0)),a},e.bufferedPercent=function(){return ga(this.buffered(),this.duration())},e.bufferedEnd=function(){var a=this.buffered(),b=this.duration(),c=a.end(a.length-1);return c>b&&(c=b),c},e.volume=function(a){var b;return void 0!==a?(b=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=b,this.techCall_("setVolume",b),void(b>0&&this.lastVolume_(b))):(b=parseFloat(this.techGet_("volume")),isNaN(b)?1:b)},e.muted=function(a){return void 0!==a?void this.techCall_("setMuted",a):this.techGet_("muted")||!1},e.defaultMuted=function(a){return void 0!==a?this.techCall_("setDefaultMuted",a):this.techGet_("defaultMuted")||!1},e.lastVolume_=function(a){return void 0!==a&&0!==a?void(this.cache_.lastVolume=a):this.cache_.lastVolume},e.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function(a){if(void 0!==a){var b=this.isFullscreen_;return this.isFullscreen_=Boolean(a),this.isFullscreen_!==b&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},e.requestFullscreen=function(b){var c=this.options_.Promise||a.Promise;if(c){var d=this;return new c(function(a,c){function e(){d.off("fullscreenerror",g),d.off("fullscreenchange",f)}function f(){e(),a()}function g(a,b){e(),c(b)}d.one("fullscreenchange",f),d.one("fullscreenerror",g);var h=d.requestFullscreenHelper_(b);if(h)return h.then(e,e),h})}return this.requestFullscreenHelper_()},e.requestFullscreenHelper_=function(a){var b,c=this;if(this.fsApi_.prefixed||(b=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==a&&(b=a)),this.fsApi_.requestFullscreen){var d=this.el_[this.fsApi_.requestFullscreen](b);return d&&d.then(function(){return c.isFullscreen(!0)},function(){return c.isFullscreen(!1)}),d}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},e.exitFullscreen=function(){var b=this.options_.Promise||a.Promise;if(b){var c=this;return new b(function(a,b){function d(){c.off("fullscreenerror",f),c.off("fullscreenchange",e)}function e(){d(),a()}function f(a,c){d(),b(c)}c.one("fullscreenchange",e),c.one("fullscreenerror",f);var g=c.exitFullscreenHelper_();if(g)return g.then(d,d),g})}return this.exitFullscreenHelper_()},e.exitFullscreenHelper_=function(){var a=this;if(this.fsApi_.requestFullscreen){var c=b[this.fsApi_.exitFullscreen]();return c&&c.then(function(){return a.isFullscreen(!1)}),c}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},e.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=b.documentElement.style.overflow,U(b,"keydown",this.boundFullWindowOnEscKey_),b.documentElement.style.overflow="hidden",v(b.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function(a){Xd.isEventKey(a,"Esc")&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},e.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,V(b,"keydown",this.boundFullWindowOnEscKey_),b.documentElement.style.overflow=this.docOrigOverflow,w(b.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.disablePictureInPicture=function(a){return void 0===a?this.techGet_("disablePictureInPicture"):(this.techCall_("setDisablePictureInPicture",a),this.options_.disablePictureInPicture=a,void this.trigger("disablepictureinpicturechanged"))},e.isInPictureInPicture=function(a){return void 0!==a?(this.isInPictureInPicture_=!!a,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function(){if("pictureInPictureEnabled"in b&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function(){if("pictureInPictureEnabled"in b)return b.exitPictureInPicture()},e.handleKeyDown=function(a){var b=this.options_.userActions;if(b&&b.hotkeys){var c=function(a){var b=a.tagName.toLowerCase();if(a.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if("input"===b)return c.indexOf(a.type)===-1;var d=["textarea"];return d.indexOf(b)!==-1};c(this.el_.ownerDocument.activeElement)||("function"==typeof b.hotkeys?b.hotkeys.call(this,a):this.handleHotkeys(a))}},e.handleHotkeys=function(a){var c=this.options_.userActions?this.options_.userActions.hotkeys:{},d=c.fullscreenKey,e=void 0===d?function(a){return Xd.isEventKey(a,"f")}:d,f=c.muteKey,g=void 0===f?function(a){return Xd.isEventKey(a,"m")}:f,h=c.playPauseKey,i=void 0===h?function(a){return Xd.isEventKey(a,"k")||Xd.isEventKey(a,"Space")}:h;if(e.call(this,a)){a.preventDefault(),a.stopPropagation();var j=nd.getComponent("FullscreenToggle");b[this.fsApi_.fullscreenEnabled]!==!1&&j.prototype.handleClick.call(this,a)}else if(g.call(this,a)){a.preventDefault(),a.stopPropagation();var k=nd.getComponent("MuteToggle");k.prototype.handleClick.call(this,a)}else if(i.call(this,a)){a.preventDefault(),a.stopPropagation();var l=nd.getComponent("PlayToggle");l.prototype.handleClick.call(this,a)}},e.canPlayType=function(a){for(var b,c=0,d=this.options_.techOrder;c<d.length;c++){var e=d[c],f=_e.getTech(e);if(f||(f=nd.getComponent(e)),f){if(f.isSupported()&&(b=f.canPlayType(a)))return b}else yc.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function(a){var b,c=this,d=this.options_.techOrder.map(function(a){return[a,_e.getTech(a)]}).filter(function(a){var b=a[0],c=a[1];return c?c.isSupported():(yc.error('The "'+b+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),e=function(a,b,c){var d;return a.some(function(a){return b.some(function(b){if(d=c(a,b))return!0})}),d},f=function(a){return function(b,c){return a(c,b)}},g=function(a,b){var d=a[0],e=a[1];if(e.canPlaySource(b,c.options_[d.toLowerCase()]))return{source:b,tech:d}};return b=this.options_.sourceOrder?e(a,d,f(g)):e(d,a,g),b||!1},e.src=function(a){var b=this;if("undefined"==typeof a)return this.cache_.src||"";var c=kf(a);return c.length?(this.changingSrc_=!0,this.cache_.sources=c,this.updateSourceCaches_(c[0]),void Pa(this,c[0],function(a,d){b.middleware_=d,b.cache_.sources=c,b.updateSourceCaches_(a);var e=b.src_(a);return e?c.length>1?b.src(c.slice(1)):(b.changingSrc_=!1,b.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void b.triggerReady()):void Qa(d,b.tech_)})):void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.src_=function(a){var b=this,c=this.selectSource([a]);return!c||(id(c.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",a):this.techCall_("src",a.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(c.tech,c.source),this.tech_.ready(function(){b.changingSrc_=!1}),!1))},e.load=function(){this.techCall_("load")},e.reset=function(){var b=this,c=this.options_.Promise||a.Promise;if(this.paused()||!c)this.doReset_();else{var d=this.play();ka(d.then(function(){return b.doReset_()}))}},e.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Yc(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function(){this.currentTime(0);var a=this.controlBar,b=a.durationDisplay,c=a.remainingTimeDisplay;b&&b.updateContent(),c&&c.updateContent()},e.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},e.currentSources=function(){var a=this.currentSource(),b=[];return 0!==Object.keys(a).length&&b.push(a),this.cache_.sources||b},e.currentSource=function(){return this.cache_.source||{}},e.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.preload=function(a){return void 0!==a?(this.techCall_("setPreload",a),void(this.options_.preload=a)):this.techGet_("preload")},e.autoplay=function(a){if(void 0===a)return this.options_.autoplay||!1;var b;"string"==typeof a&&/(any|play|muted)/.test(a)?(this.options_.autoplay=a,this.manualAutoplay_(a),b=!1):a?this.options_.autoplay=!0:this.options_.autoplay=!1,b="undefined"==typeof b?this.options_.autoplay:b,this.tech_&&this.techCall_("setAutoplay",b)},e.playsinline=function(a){return void 0!==a?(this.techCall_("setPlaysinline",a),this.options_.playsinline=a,this):this.techGet_("playsinline")},e.loop=function(a){return void 0!==a?(this.techCall_("setLoop",a),void(this.options_.loop=a)):this.techGet_("loop")},e.poster=function(a){return void 0===a?this.poster_:(a||(a=""),void(a!==this.poster_&&(this.poster_=a,this.techCall_("setPoster",a),this.isPosterFromTech_=!1,this.trigger("posterchange"))))},e.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var a=this.tech_.poster()||"";a!==this.poster_&&(this.poster_=a,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.controls=function(a){return void 0===a?!!this.controls_:(a=!!a,void(this.controls_!==a&&(this.controls_=a,this.usingNativeControls()&&this.techCall_("setControls",a),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))))},e.usingNativeControls=function(a){return void 0===a?!!this.usingNativeControls_:(a=!!a,void(this.usingNativeControls_!==a&&(this.usingNativeControls_=a,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))))},e.error=function(a){if(void 0===a)return this.error_||null;if(this.options_.suppressNotSupportedError&&a&&4===a.code){var b=function(){this.error(a)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],b),void this.one("loadstart",function(){this.off(["click","touchstart"],b)})}return null===a?(this.error_=a,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new ha(a),this.addClass("vjs-error"),yc.error("(CODE:"+this.error_.code+" "+ha.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},e.reportUserActivity=function(a){this.userActivity_=!0},e.userActive=function(a){if(void 0===a)return this.userActive_;if(a=!!a,a!==this.userActive_){if(this.userActive_=a,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function(){var a,b,c,d=Tc(this,this.reportUserActivity),e=function(a){a.screenX===b&&a.screenY===c||(b=a.screenX,c=a.screenY,d())},f=function(){d(),this.clearInterval(a),a=this.setInterval(d,250)},g=function(b){d(),this.clearInterval(a)};this.on("mousedown",f),this.on("mousemove",e),this.on("mouseup",g),this.on("mouseleave",g);var h=this.getChild("controlBar");!h||Jd||wd||(h.on("mouseenter",function(a){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),h.on("mouseleave",function(a){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",d),this.on("keyup",d);var i;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var a=this.options_.inactivityTimeout;a<=0||(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},a))}},250)},e.playbackRate=function(a){return void 0!==a?void this.techCall_("setPlaybackRate",a):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},e.defaultPlaybackRate=function(a){return void 0!==a?this.techCall_("setDefaultPlaybackRate",a):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function(a){return void 0!==a?void(this.isAudio_=!!a):!!this.isAudio_},e.addTextTrack=function(a,b,c){if(this.tech_)return this.tech_.addTextTrack(a,b,c)},e.addRemoteTextTrack=function(a,b){if(this.tech_)return this.tech_.addRemoteTextTrack(a,b)},e.removeRemoteTextTrack=function(a){void 0===a&&(a={});var b=a,c=b.track;if(c||(c=a),this.tech_)return this.tech_.removeRemoteTextTrack(c)},e.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function(a){return void 0===a?this.language_:void(this.language_=String(a).toLowerCase())},e.languages=function(){return _(d.prototype.options_.languages,this.languages_)},e.toJSON=function(){var a=_(this.options_),b=a.tracks;a.tracks=[];for(var c=0;c<b.length;c++){var d=b[c];d=_(d),d.player=void 0,a.tracks[c]=d}return a},e.createModal=function(a,b){var c=this;b=b||{},b.content=a||"";var d=new Zd(this,b);return this.addChild(d),d.on("dispose",function(){c.removeChild(d)}),d.open(),d},e.updateCurrentBreakpoint_=function(){if(this.responsive())for(var a=this.currentBreakpoint(),b=this.currentWidth(),c=0;c<$g.length;c++){var d=$g[c],e=this.breakpoints_[d];
if(b<=e){if(a===d)return;a&&this.removeClass(_g[a]),this.addClass(_g[d]),this.breakpoint_=d;break}}},e.removeCurrentBreakpoint_=function(){var a=this.currentBreakpointClass();this.breakpoint_="",a&&this.removeClass(a)},e.breakpoints=function(a){return void 0===a?g(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=g({},ah,a),this.updateCurrentBreakpoint_(),g(this.breakpoints_))},e.responsive=function(a){if(void 0===a)return this.responsive_;a=Boolean(a);var b=this.responsive_;if(a!==b)return this.responsive_=a,a?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),a},e.currentBreakpoint=function(){return this.breakpoint_},e.currentBreakpointClass=function(){return _g[this.breakpoint_]||""},e.loadMedia=function(a,b){var c=this;if(a&&"object"==typeof a){this.reset(),this.cache_.media=_(a);var d=this.cache_.media,e=d.artwork,f=d.poster,g=d.src,h=d.textTracks;!e&&f&&(this.cache_.media.artwork=[{src:f,type:hf(f)}]),g&&this.src(g),f&&this.poster(f),Array.isArray(h)&&h.forEach(function(a){return c.addRemoteTextTrack(a,!1)}),this.ready(b)}},e.getMedia=function(){if(!this.cache_.media){var a=this.poster(),b=this.currentSources(),c=Array.prototype.map.call(this.remoteTextTracks(),function(a){return{kind:a.kind,label:a.label,language:a.language,src:a.src}}),d={src:b,textTracks:c};return a&&(d.poster=a,d.artwork=[{src:d.poster,type:hf(d.poster)}]),d}return _(this.cache_.media)},d.getTagSettings=function(a){var b={sources:[],tracks:[]},c=z(a),d=c["data-setup"];if(u(a,"vjs-fill")&&(c.fill=!0),u(a,"vjs-fluid")&&(c.fluid=!0),null!==d){var e=Sd(d||"{}"),f=e[0],h=e[1];f&&yc.error(f),g(c,h)}if(g(b,c),a.hasChildNodes())for(var i=a.childNodes,j=0,k=i.length;j<k;j++){var l=i[j],m=l.nodeName.toLowerCase();"source"===m?b.sources.push(z(l)):"track"===m&&b.tracks.push(z(l))}return b},e.flexNotSupported_=function(){var a=b.createElement("i");return!("flexBasis"in a.style||"webkitFlexBasis"in a.style||"mozFlexBasis"in a.style||"msFlexBasis"in a.style||"msFlexOrder"in a.style)},e.debug=function(a){return void 0===a?this.debugEnabled_:void(a?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1))},d}(nd);Ie.names.forEach(function(a){var b=Ie[a];bh.prototype[b.getterName]=function(){return this.tech_?this.tech_[b.getterName]():(this[b.privateName]=this[b.privateName]||new b.ListClass,this[b.privateName])}}),bh.prototype.crossorigin=bh.prototype.crossOrigin,bh.players={};var ch=a.navigator;bh.prototype.options_={techOrder:_e.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ch&&(ch.languages&&ch.languages[0]||ch.userLanguage||ch.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(a){bh.prototype[a]=function(){return this.techGet_(a)}}),Yg.forEach(function(a){bh.prototype["handleTech"+hd(a)+"_"]=function(){return this.trigger(a)}}),nd.registerComponent("Player",bh);var dh=d(function(a){function b(c,d){return a.exports=b=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},b(c,d)}a.exports=b}),eh=gb,fh=d(function(a){function b(c,d,e){return eh()?a.exports=b=Reflect.construct:a.exports=b=function(a,b,c){var d=[null];d.push.apply(d,b);var e=Function.bind.apply(a,d),f=new e;return c&&dh(f,c.prototype),f},b.apply(null,arguments)}a.exports=b}),gh="plugin",hh="activePlugins_",ih={},jh=function(a){return ih.hasOwnProperty(a)},kh=function(a){return jh(a)?ih[a]:void 0},lh=function(a,b){a[hh]=a[hh]||{},a[hh][b]=!0},mh=function(a,b,c){var d=(c?"before":"")+"pluginsetup";a.trigger(d,b),a.trigger(d+":"+b.name,b)},nh=function(a,b){var c=function(){mh(this,{name:a,plugin:b,instance:null},!0);var c=b.apply(this,arguments);return lh(this,a),mh(this,{name:a,plugin:b,instance:c}),c};return Object.keys(b).forEach(function(a){c[a]=b[a]}),c},oh=function(a,b){return b.prototype.name=a,function(){mh(this,{name:a,plugin:b,instance:null},!0);for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=fh(b,[this].concat(d));return this[a]=function(){return f},mh(this,f.getEventHash()),f}},ph=function(){function a(b){if(this.constructor===a)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=b,this.log||(this.log=this.player.log.createLogger(this.name)),Z(this),delete this.trigger,$(this,this.constructor.defaultState),lh(b,this.name),this.dispose=Tc(this,this.dispose),b.on("dispose",this.dispose)}var b=a.prototype;return b.version=function(){return this.constructor.VERSION},b.getEventHash=function(a){return void 0===a&&(a={}),a.name=this.name,a.plugin=this.constructor,a.instance=this,a},b.trigger=function(a,b){return void 0===b&&(b={}),W(this.eventBusEl_,a,this.getEventHash(b))},b.handleStateChanged=function(a){},b.dispose=function(){var a=this.name,b=this.player;this.trigger("dispose"),this.off(),b.off("dispose",this.dispose),b[hh][a]=!1,this.player=this.state=null,b[a]=oh(a,ih[a])},a.isBasic=function(b){var c="string"==typeof b?kh(b):b;return"function"==typeof c&&!a.prototype.isPrototypeOf(c.prototype)},a.registerPlugin=function(b,c){if("string"!=typeof b)throw new Error('Illegal plugin name, "'+b+'", must be a string, was '+typeof b+".");if(jh(b))yc.warn('A plugin named "'+b+'" already exists. You may want to avoid re-registering plugins!');else if(bh.prototype.hasOwnProperty(b))throw new Error('Illegal plugin name, "'+b+'", cannot share a name with an existing player method!');if("function"!=typeof c)throw new Error('Illegal plugin for "'+b+'", must be a function, was '+typeof c+".");return ih[b]=c,b!==gh&&(a.isBasic(c)?bh.prototype[b]=nh(b,c):bh.prototype[b]=oh(b,c)),c},a.deregisterPlugin=function(a){if(a===gh)throw new Error("Cannot de-register base plugin.");jh(a)&&(delete ih[a],delete bh.prototype[a])},a.getPlugins=function(a){void 0===a&&(a=Object.keys(ih));var b;return a.forEach(function(a){var c=kh(a);c&&(b=b||{},b[a]=c)}),b},a.getPluginVersion=function(a){var b=kh(a);return b&&b.VERSION||""},a}();ph.getPlugin=kh,ph.BASE_PLUGIN_NAME=gh,ph.registerPlugin(gh,ph),bh.prototype.usingPlugin=function(a){return!!this[hh]&&this[hh][a]===!0},bh.prototype.hasPlugin=function(a){return!!jh(a)};var qh=hb,rh=function(a,b){void 0===b&&(b={});var c=function(){a.apply(this,arguments)},d={};"object"==typeof b?(b.constructor!==Object.prototype.constructor&&(c=b.constructor),d=b):"function"==typeof b&&(c=b),qh(c,a),a&&(c.super_=a);for(var e in d)d.hasOwnProperty(e)&&(c.prototype[e]=d[e]);return c},sh=function(a){return 0===a.indexOf("#")?a.slice(1):a};if(ib.hooks_={},ib.hooks=function(a,b){return ib.hooks_[a]=ib.hooks_[a]||[],b&&(ib.hooks_[a]=ib.hooks_[a].concat(b)),ib.hooks_[a]},ib.hook=function(a,b){ib.hooks(a,b)},ib.hookOnce=function(a,b){ib.hooks(a,[].concat(b).map(function(b){var c=function c(){return ib.removeHook(a,c),b.apply(void 0,arguments)};return c}))},ib.removeHook=function(a,b){var c=ib.hooks(a).indexOf(b);return!(c<=-1)&&(ib.hooks_[a]=ib.hooks_[a].slice(),ib.hooks_[a].splice(c,1),!0)},a.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&n()){var th=Dc(".vjs-styles-defaults");if(!th){th=Jc("vjs-styles-defaults");var uh=Dc("head");uh&&uh.insertBefore(th,uh.firstChild),Kc(th,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}O(1,ib),ib.VERSION=vc,ib.options=bh.prototype.options_,ib.getPlayers=function(){return bh.players},ib.getPlayer=function(a){var b,c=bh.players;if("string"==typeof a){var d=sh(a),e=c[d];if(e)return e;b=Dc("#"+d)}else b=a;if(o(b)){var f=b,g=f.player,h=f.playerId;if(g||c[h])return g||c[h]}},ib.getAllPlayers=function(){return Object.keys(bh.players).map(function(a){return bh.players[a]}).filter(Boolean)},ib.players=bh.players,ib.getComponent=nd.getComponent,ib.registerComponent=function(a,b){_e.isTech(b)&&yc.warn("The "+a+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),nd.registerComponent.call(nd,a,b)},ib.getTech=_e.getTech,ib.registerTech=_e.registerTech,ib.use=Oa,Object.defineProperty(ib,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(ib.middleware,"TERMINATOR",{value:cf,writeable:!1,enumerable:!0}),ib.browser=Ld,ib.TOUCH_ENABLED=Gd,ib.extend=rh,ib.mergeOptions=_,ib.bind=Tc,ib.registerPlugin=ph.registerPlugin,ib.deregisterPlugin=ph.deregisterPlugin,ib.plugin=function(a,b){return yc.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ph.registerPlugin(a,b)},ib.getPlugins=ph.getPlugins,ib.getPlugin=ph.getPlugin,ib.getPluginVersion=ph.getPluginVersion,ib.addLanguage=function(a,b){var c;return a=(""+a).toLowerCase(),ib.options.languages=_(ib.options.languages,(c={},c[a]=b,c)),ib.options.languages[a]},ib.log=yc,ib.createLogger=zc,ib.createTimeRange=ib.createTimeRanges=fa,ib.formatTime=cb,ib.setFormatTime=ab,ib.resetFormatTime=bb,ib.parseUrl=me,ib.isCrossOrigin=pe,ib.EventTarget=Wc,ib.on=U,ib.one=X,ib.off=V,ib.trigger=W,ib.xhr=ue,ib.TextTrack=ye,ib.AudioTrack=ze,ib.VideoTrack=Ae,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(a){ib[a]=function(){return yc.warn("videojs."+a+"() is deprecated; use videojs.dom."+a+"() instead"),Fc[a].apply(null,arguments)}}),ib.computedStyle=j,ib.dom=Fc,ib.url=qe,ib.defineLazyProperty=Vg;var vh=d(function(a,b){!function(b){var c=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,d=/^([^\/?#]*)(.*)$/,e=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,g={buildAbsoluteURL:function(a,b,c){if(c=c||{},a=a.trim(),b=b.trim(),!b){if(!c.alwaysNormalize)return a;var e=g.parseURL(a);if(!e)throw new Error("Error trying to parse base URL.");return e.path=g.normalizePath(e.path),g.buildURLFromParts(e)}var f=g.parseURL(b);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=g.normalizePath(f.path),g.buildURLFromParts(f)):b;var h=g.parseURL(a);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&"/"!==h.path[0]){var i=d.exec(h.path);h.netLoc=i[1],h.path=i[2]}h.netLoc&&!h.path&&(h.path="/");var j={scheme:h.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(j.netLoc=h.netLoc,"/"!==f.path[0]))if(f.path){var k=h.path,l=k.substring(0,k.lastIndexOf("/")+1)+f.path;j.path=g.normalizePath(l)}else j.path=h.path,f.params||(j.params=h.params,f.query||(j.query=h.query));return null===j.path&&(j.path=c.alwaysNormalize?g.normalizePath(f.path):f.path),g.buildURLFromParts(j)},parseURL:function(a){var b=c.exec(a);return b?{scheme:b[1]||"",netLoc:b[2]||"",path:b[3]||"",params:b[4]||"",query:b[5]||"",fragment:b[6]||""}:null},normalizePath:function(a){for(a=a.split("").reverse().join("").replace(e,"");a.length!==(a=a.replace(f,"")).length;);return a.split("").reverse().join("")},buildURLFromParts:function(a){return a.scheme+a.netLoc+a.path+a.params+a.query+a.fragment}};a.exports=g}()}),wh=function(){function a(){this.listeners={}}var b=a.prototype;return b.on=function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)},b.off=function(a,b){if(!this.listeners[a])return!1;var c=this.listeners[a].indexOf(b);return this.listeners[a].splice(c,1),c>-1},b.trigger=function(a){var b,c,d,e=this.listeners[a];if(e)if(2===arguments.length)for(c=e.length,b=0;b<c;++b)e[b].call(this,arguments[1]);else for(d=Array.prototype.slice.call(arguments,1),c=e.length,b=0;b<c;++b)e[b].apply(this,d)},b.dispose=function(){this.listeners={}},b.pipe=function(a){this.on("data",function(b){a.push(b)})},a}(),xh=function(a){function b(){var b;return b=a.call(this)||this,b.buffer="",b}kb(b,a);var c=b.prototype;return c.push=function(a){var b;for(this.buffer+=a,b=this.buffer.indexOf("\n");b>-1;b=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,b)),this.buffer=this.buffer.substring(b+1)},b}(wh),yh=function(){var a="[^=]*",b='"[^"]*"|[^,]*',c="(?:"+a+")=(?:"+b+")";return new RegExp("(?:^|,)("+c+")")},zh=function(a){for(var b,c=a.split(yh()),d={},e=c.length;e--;)""!==c[e]&&(b=/([^=]*)=(.*)/.exec(c[e]).slice(1),b[0]=b[0].replace(/^\s+|\s+$/g,""),b[1]=b[1].replace(/^\s+|\s+$/g,""),b[1]=b[1].replace(/^['"](.*)['"]$/g,"$1"),d[b[0]]=b[1]);return d},Ah=function(a){function b(){var b;return b=a.call(this)||this,b.customParsers=[],b.tagMappers=[],b}kb(b,a);var c=b.prototype;return c.push=function(a){var b,c,d=this;if(a=a.trim(),0!==a.length){if("#"!==a[0])return void this.trigger("data",{type:"uri",uri:a});var e=this.tagMappers.reduce(function(b,c){var d=c(a);return d===a?b:b.concat([d])},[a]);e.forEach(function(a){for(var e=0;e<d.customParsers.length;e++)if(d.customParsers[e].call(d,a))return;if(0!==a.indexOf("#EXT"))return void d.trigger("data",{type:"comment",text:a.slice(1)});if(a=a.replace("\r",""),b=/^#EXTM3U/.exec(a))return void d.trigger("data",{type:"tag",tagType:"m3u"});if(b=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(a))return c={type:"tag",tagType:"inf"},b[1]&&(c.duration=parseFloat(b[1])),b[2]&&(c.title=b[2]),void d.trigger("data",c);if(b=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"targetduration"},b[1]&&(c.duration=parseInt(b[1],10)),void d.trigger("data",c);if(b=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"totalduration"},b[1]&&(c.duration=parseInt(b[1],10)),void d.trigger("data",c);if(b=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"version"},b[1]&&(c.version=parseInt(b[1],10)),void d.trigger("data",c);if(b=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))return c={type:"tag",tagType:"media-sequence"},b[1]&&(c.number=parseInt(b[1],10)),void d.trigger("data",c);if(b=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))return c={type:"tag",tagType:"discontinuity-sequence"},b[1]&&(c.number=parseInt(b[1],10)),void d.trigger("data",c);if(b=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(a))return c={type:"tag",tagType:"playlist-type"},b[1]&&(c.playlistType=b[1]),void d.trigger("data",c);if(b=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"byterange"},b[1]&&(c.length=parseInt(b[1],10)),b[2]&&(c.offset=parseInt(b[2],10)),void d.trigger("data",c);if(b=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(a))return c={type:"tag",tagType:"allow-cache"},b[1]&&(c.allowed=!/NO/.test(b[1])),void d.trigger("data",c);if(b=/^#EXT-X-MAP:?(.*)$/.exec(a)){if(c={type:"tag",tagType:"map"},b[1]){var f=zh(b[1]);if(f.URI&&(c.uri=f.URI),f.BYTERANGE){var g=f.BYTERANGE.split("@"),h=g[0],i=g[1];c.byterange={},h&&(c.byterange.length=parseInt(h,10)),i&&(c.byterange.offset=parseInt(i,10))}}return void d.trigger("data",c)}if(b=/^#EXT-X-STREAM-INF:?(.*)$/.exec(a)){if(c={type:"tag",tagType:"stream-inf"},b[1]){if(c.attributes=zh(b[1]),c.attributes.RESOLUTION){var j=c.attributes.RESOLUTION.split("x"),k={};j[0]&&(k.width=parseInt(j[0],10)),j[1]&&(k.height=parseInt(j[1],10)),c.attributes.RESOLUTION=k}c.attributes.BANDWIDTH&&(c.attributes.BANDWIDTH=parseInt(c.attributes.BANDWIDTH,10)),c.attributes["PROGRAM-ID"]&&(c.attributes["PROGRAM-ID"]=parseInt(c.attributes["PROGRAM-ID"],10))}return void d.trigger("data",c)}return(b=/^#EXT-X-MEDIA:?(.*)$/.exec(a))?(c={type:"tag",tagType:"media"},b[1]&&(c.attributes=zh(b[1])),void d.trigger("data",c)):(b=/^#EXT-X-ENDLIST/.exec(a))?void d.trigger("data",{type:"tag",tagType:"endlist"}):(b=/^#EXT-X-DISCONTINUITY/.exec(a))?void d.trigger("data",{type:"tag",tagType:"discontinuity"}):(b=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(a))?(c={type:"tag",tagType:"program-date-time"},b[1]&&(c.dateTimeString=b[1],c.dateTimeObject=new Date(b[1])),void d.trigger("data",c)):(b=/^#EXT-X-KEY:?(.*)$/.exec(a))?(c={type:"tag",tagType:"key"},b[1]&&(c.attributes=zh(b[1]),c.attributes.IV&&("0x"===c.attributes.IV.substring(0,2).toLowerCase()&&(c.attributes.IV=c.attributes.IV.substring(2)),c.attributes.IV=c.attributes.IV.match(/.{8}/g),c.attributes.IV[0]=parseInt(c.attributes.IV[0],16),c.attributes.IV[1]=parseInt(c.attributes.IV[1],16),c.attributes.IV[2]=parseInt(c.attributes.IV[2],16),c.attributes.IV[3]=parseInt(c.attributes.IV[3],16),c.attributes.IV=new Uint32Array(c.attributes.IV))),void d.trigger("data",c)):(b=/^#EXT-X-START:?(.*)$/.exec(a))?(c={type:"tag",tagType:"start"},b[1]&&(c.attributes=zh(b[1]),c.attributes["TIME-OFFSET"]=parseFloat(c.attributes["TIME-OFFSET"]),c.attributes.PRECISE=/YES/.test(c.attributes.PRECISE)),void d.trigger("data",c)):(b=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(a))?(c={type:"tag",tagType:"cue-out-cont"},b[1]?c.data=b[1]:c.data="",void d.trigger("data",c)):(b=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(a))?(c={type:"tag",tagType:"cue-out"},b[1]?c.data=b[1]:c.data="",void d.trigger("data",c)):(b=/^#EXT-X-CUE-IN:?(.*)?$/.exec(a))?(c={type:"tag",tagType:"cue-in"},b[1]?c.data=b[1]:c.data="",void d.trigger("data",c)):void d.trigger("data",{type:"tag",data:a.slice(4)})})}},c.addParser=function(a){var b=this,c=a.expression,d=a.customType,e=a.dataParser,f=a.segment;"function"!=typeof e&&(e=function(a){return a}),this.customParsers.push(function(a){var g=c.exec(a);if(g)return b.trigger("data",{type:"custom",data:e(a),customType:d,segment:f}),!0})},c.addTagMapper=function(a){var b=a.expression,c=a.map,d=function(a){return b.test(a)?c(a):a};this.tagMappers.push(d)},b}(wh),Bh=function(a){function b(){var b;b=a.call(this)||this,b.lineStream=new xh,b.parseStream=new Ah,b.lineStream.pipe(b.parseStream);var c,d,e=lb(b),f=[],g={},h=function(){},i={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},j="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",k=0;return b.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},b.parseStream.on("data",function(a){var b,l;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=a.allowed,"allowed"in a||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function b(){var b={};"length"in a&&(g.byterange=b,b.length=a.length,"offset"in a||(this.trigger("info",{message:"defaulting offset to zero"}),a.offset=0)),"offset"in a&&(g.byterange=b,b.offset=a.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),a.duration>0&&(g.duration=a.duration),0===a.duration&&(g.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=f},key:function(){if(!a.attributes)return void this.trigger("warn",{message:"ignoring key declaration without attribute list"});if("NONE"===a.attributes.METHOD)return void(d=null);if(!a.attributes.URI)return void this.trigger("warn",{message:"ignoring key declaration without URI"});if(a.attributes.KEYFORMAT===j){var b=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];return b.indexOf(a.attributes.METHOD)===-1?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===a.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==a.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):a.attributes.KEYID&&"0x"===a.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:a.attributes.KEYFORMAT,keyId:a.attributes.KEYID.substring(2)},pssh:mb(a.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}a.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),d={method:a.attributes.METHOD||"AES-128",uri:a.attributes.URI},"undefined"!=typeof a.attributes.IV&&(d.iv=a.attributes.IV)},"media-sequence":function(){return isFinite(a.number)?void(this.manifest.mediaSequence=a.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+a.number})},"discontinuity-sequence":function(){return isFinite(a.number)?(this.manifest.discontinuitySequence=a.number,void(k=a.number)):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+a.number})},"playlist-type":function(){return/VOD|EVENT/.test(a.playlistType)?void(this.manifest.playlistType=a.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+a.playlist})},map:function(){c={},a.uri&&(c.uri=a.uri),a.byterange&&(c.byterange=a.byterange)},"stream-inf":function(){return this.manifest.playlists=f,this.manifest.mediaGroups=this.manifest.mediaGroups||i,a.attributes?(g.attributes||(g.attributes={}),void jb(g.attributes,a.attributes)):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||i,!(a.attributes&&a.attributes.TYPE&&a.attributes["GROUP-ID"]&&a.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var c=this.manifest.mediaGroups[a.attributes.TYPE];c[a.attributes["GROUP-ID"]]=c[a.attributes["GROUP-ID"]]||{},b=c[a.attributes["GROUP-ID"]],l={default:/yes/i.test(a.attributes.DEFAULT)},l.default?l.autoselect=!0:l.autoselect=/yes/i.test(a.attributes.AUTOSELECT),a.attributes.LANGUAGE&&(l.language=a.attributes.LANGUAGE),a.attributes.URI&&(l.uri=a.attributes.URI),a.attributes["INSTREAM-ID"]&&(l.instreamId=a.attributes["INSTREAM-ID"]),a.attributes.CHARACTERISTICS&&(l.characteristics=a.attributes.CHARACTERISTICS),a.attributes.FORCED&&(l.forced=/yes/i.test(a.attributes.FORCED)),b[a.attributes.NAME]=l},discontinuity:function(){k+=1,g.discontinuity=!0,this.manifest.discontinuityStarts.push(f.length)},"program-date-time":function(){"undefined"==typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=a.dateTimeString,this.manifest.dateTimeObject=a.dateTimeObject),g.dateTimeString=a.dateTimeString,g.dateTimeObject=a.dateTimeObject},targetduration:function(){return!isFinite(a.duration)||a.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+a.duration}):void(this.manifest.targetDuration=a.duration)},totalduration:function(){return!isFinite(a.duration)||a.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+a.duration}):void(this.manifest.totalDuration=a.duration)},start:function(){return!a.attributes||isNaN(a.attributes["TIME-OFFSET"])?void this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"}):void(this.manifest.start={timeOffset:a.attributes["TIME-OFFSET"],precise:a.attributes.PRECISE})},"cue-out":function(){g.cueOut=a.data},"cue-out-cont":function(){g.cueOutCont=a.data},"cue-in":function(){g.cueIn=a.data}})[a.tagType]||h).call(e)},uri:function(){g.uri=a.uri,f.push(g),!this.manifest.targetDuration||"duration"in g||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),g.duration=this.manifest.targetDuration),d&&(g.key=d),g.timeline=k,c&&(g.map=c),g={}},comment:function(){},custom:function(){a.segment?(g.custom=g.custom||{},g.custom[a.customType]=a.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[a.customType]=a.data)}})[a.type].call(e)}),b}kb(b,a);var c=b.prototype;return c.push=function(a){this.lineStream.push(a)},c.end=function(){this.lineStream.push("\n")},c.addParser=function(a){this.parseStream.addParser(a)},c.addTagMapper=function(a){this.parseStream.addTagMapper(a)},b}(wh),Ch=nb(vh),Dh=nb(a),Eh=function(a,b){return/^[a-z]+:/i.test(b)?b:(/\/\//i.test(a)||(a=Ch.buildAbsoluteURL(Dh.location&&Dh.location.href||"",a)),Ch.buildAbsoluteURL(a,b))},Fh=Eh,Gh=ob(a),Hh=function(a){return Gh.atob?Gh.atob(a):Buffer.from(a,"base64").toString("binary")},Ih=pb,Jh=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Kh=new RegExp("[\\-\\.0-9"+Jh.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Lh=new RegExp("^"+Jh.source+Kh.source+"*(?::"+Jh.source+Kh.source+"*)?$"),Mh=0,Nh=1,Oh=2,Ph=3,Qh=4,Rh=5,Sh=6,Th=7;qb.prototype={parse:function(a,b,c){var d=this.domBuilder;d.startDocument(),xb(b,b={}),rb(a,b,c,d,this.errorHandler),d.endDocument()}},Ab.prototype={setTagName:function(a){if(!Lh.test(a))throw new Error("invalid tagName:"+a);this.tagName=a},add:function(a,b,c){if(!Lh.test(a))throw new Error("invalid attribute:"+a);this[this.length++]={qName:a,value:b,offset:c}},length:0,getLocalName:function(a){return this[a].localName},getLocator:function(a){return this[a].locator},getQName:function(a){return this[a].qName},getURI:function(a){return this[a].uri},getValue:function(a){return this[a].value}},Bb({},Bb.prototype)instanceof Bb||(Bb=function(a,b){function c(){}c.prototype=b,c=new c;for(b in a)c[b]=a[b];return c});var Uh=qb,Vh={XMLReader:Uh},Wh="http://www.w3.org/1999/xhtml",Xh={},Yh=Xh.ELEMENT_NODE=1,Zh=Xh.ATTRIBUTE_NODE=2,$h=Xh.TEXT_NODE=3,_h=Xh.CDATA_SECTION_NODE=4,ai=Xh.ENTITY_REFERENCE_NODE=5,bi=Xh.ENTITY_NODE=6,ci=Xh.PROCESSING_INSTRUCTION_NODE=7,di=Xh.COMMENT_NODE=8,ei=Xh.DOCUMENT_NODE=9,fi=Xh.DOCUMENT_TYPE_NODE=10,gi=Xh.DOCUMENT_FRAGMENT_NODE=11,hi=Xh.NOTATION_NODE=12,ii={},ji={},ki=(ii.INDEX_SIZE_ERR=(ji[1]="Index size error",1),ii.DOMSTRING_SIZE_ERR=(ji[2]="DOMString size error",2),ii.HIERARCHY_REQUEST_ERR=(ji[3]="Hierarchy request error",3)),li=(ii.WRONG_DOCUMENT_ERR=(ji[4]="Wrong document",4),ii.INVALID_CHARACTER_ERR=(ji[5]="Invalid character",5),ii.NO_DATA_ALLOWED_ERR=(ji[6]="No data allowed",6),ii.NO_MODIFICATION_ALLOWED_ERR=(ji[7]="No modification allowed",7),ii.NOT_FOUND_ERR=(ji[8]="Not found",8)),mi=(ii.NOT_SUPPORTED_ERR=(ji[9]="Not supported",9),ii.INUSE_ATTRIBUTE_ERR=(ji[10]="Attribute in use",10));ii.INVALID_STATE_ERR=(ji[11]="Invalid state",11),ii.SYNTAX_ERR=(ji[12]="Syntax error",12),ii.INVALID_MODIFICATION_ERR=(ji[13]="Invalid modification",13),ii.NAMESPACE_ERR=(ji[14]="Invalid namespace",14),ii.INVALID_ACCESS_ERR=(ji[15]="Invalid access",15);Fb.prototype=Error.prototype,Db(ii,Fb),Gb.prototype={length:0,item:function(a){return this[a]||null},toString:function(a,b){for(var c=[],d=0;d<this.length;d++)lc(this[d],c,a,b);return c.join("")}},Hb.prototype.item=function(a){return Ib(this),this[a]},Eb(Hb,Gb),Jb.prototype={length:0,item:Gb.prototype.item,getNamedItem:function(a){for(var b=this.length;b--;){var c=this[b];if(c.nodeName==a)return c}},setNamedItem:function(a){var b=a.ownerElement;if(b&&b!=this._ownerElement)throw new Fb(mi);var c=this.getNamedItem(a.nodeName);return Lb(this._ownerElement,this,a,c),c},setNamedItemNS:function(a){var b,c=a.ownerElement;if(c&&c!=this._ownerElement)throw new Fb(mi);return b=this.getNamedItemNS(a.namespaceURI,a.localName),Lb(this._ownerElement,this,a,b),b},removeNamedItem:function(a){var b=this.getNamedItem(a);return Mb(this._ownerElement,this,b),b},removeNamedItemNS:function(a,b){var c=this.getNamedItemNS(a,b);return Mb(this._ownerElement,this,c),c},getNamedItemNS:function(a,b){for(var c=this.length;c--;){var d=this[c];if(d.localName==b&&d.namespaceURI==a)return d}return null}},Nb.prototype={hasFeature:function(a,b){var c=this._features[a.toLowerCase()];return!(!c||b&&!(b in c))},createDocument:function(a,b,c){var d=new Rb;if(d.implementation=this,d.childNodes=new Gb,d.doctype=c,c&&d.appendChild(c),b){var e=d.createElementNS(a,b);d.appendChild(e)}return d},createDocumentType:function(a,b,c){var d=new cc;return d.name=a,d.nodeName=a,d.publicId=b,d.systemId=c,d}},Ob.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(a,b){return Wb(this,a,b)},replaceChild:function(a,b){this.insertBefore(a,b),b&&this.removeChild(b)},removeChild:function(a){return Vb(this,a)},appendChild:function(a){return this.insertBefore(a,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(a){return nc(this.ownerDocument||this,this,a)},normalize:function(){for(var a=this.firstChild;a;){var b=a.nextSibling;b&&b.nodeType==$h&&a.nodeType==$h?(this.removeChild(b),a.appendData(b.data)):(a.normalize(),a=b)}},isSupported:function(a,b){return this.ownerDocument.implementation.hasFeature(a,b)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(a){for(var b=this;b;){var c=b._nsMap;if(c)for(var d in c)if(c[d]==a)return d;b=b.nodeType==Zh?b.ownerDocument:b.parentNode}return null},lookupNamespaceURI:function(a){for(var b=this;b;){var c=b._nsMap;if(c&&a in c)return c[a];b=b.nodeType==Zh?b.ownerDocument:b.parentNode}return null},isDefaultNamespace:function(a){var b=this.lookupPrefix(a);return null==b}},Db(Xh,Ob),Db(Xh,Ob.prototype),Rb.prototype={nodeName:"#document",nodeType:ei,doctype:null,documentElement:null,_inc:1,insertBefore:function(a,b){if(a.nodeType==gi){for(var c=a.firstChild;c;){var d=c.nextSibling;this.insertBefore(c,b),c=d}return a}return null==this.documentElement&&a.nodeType==Yh&&(this.documentElement=a),Wb(this,a,b),a.ownerDocument=this,a},removeChild:function(a){return this.documentElement==a&&(this.documentElement=null),Vb(this,a)},importNode:function(a,b){return mc(this,a,b)},getElementById:function(a){var b=null;return Qb(this.documentElement,function(c){if(c.nodeType==Yh&&c.getAttribute("id")==a)return b=c,!0}),b},createElement:function(a){var b=new Yb;b.ownerDocument=this,b.nodeName=a,b.tagName=a,b.childNodes=new Gb;var c=b.attributes=new Jb;return c._ownerElement=b,b},createDocumentFragment:function(){var a=new gc;return a.ownerDocument=this,a.childNodes=new Gb,a},createTextNode:function(a){var b=new _b;return b.ownerDocument=this,b.appendData(a),b},createComment:function(a){var b=new ac;return b.ownerDocument=this,b.appendData(a),b},createCDATASection:function(a){var b=new bc;return b.ownerDocument=this,b.appendData(a),b},createProcessingInstruction:function(a,b){var c=new hc;return c.ownerDocument=this,c.tagName=c.target=a,c.nodeValue=c.data=b,c},createAttribute:function(a){var b=new Zb;return b.ownerDocument=this,b.name=a,b.nodeName=a,b.localName=a,b.specified=!0,b},createEntityReference:function(a){var b=new fc;return b.ownerDocument=this,b.nodeName=a,b},createElementNS:function(a,b){var c=new Yb,d=b.split(":"),e=c.attributes=new Jb;return c.childNodes=new Gb,c.ownerDocument=this,c.nodeName=b,c.tagName=b,c.namespaceURI=a,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,e._ownerElement=c,c},createAttributeNS:function(a,b){var c=new Zb,d=b.split(":");return c.ownerDocument=this,c.nodeName=b,c.name=b,c.namespaceURI=a,c.specified=!0,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,c}},Eb(Rb,Ob),Yb.prototype={nodeType:Yh,hasAttribute:function(a){return null!=this.getAttributeNode(a)},getAttribute:function(a){var b=this.getAttributeNode(a);return b&&b.value||""},getAttributeNode:function(a){return this.attributes.getNamedItem(a)},setAttribute:function(a,b){var c=this.ownerDocument.createAttribute(a);c.value=c.nodeValue=""+b,this.setAttributeNode(c)},removeAttribute:function(a){var b=this.getAttributeNode(a);b&&this.removeAttributeNode(b)},appendChild:function(a){return a.nodeType===gi?this.insertBefore(a,null):Xb(this,a)},setAttributeNode:function(a){return this.attributes.setNamedItem(a)},setAttributeNodeNS:function(a){
return this.attributes.setNamedItemNS(a)},removeAttributeNode:function(a){return this.attributes.removeNamedItem(a.nodeName)},removeAttributeNS:function(a,b){var c=this.getAttributeNodeNS(a,b);c&&this.removeAttributeNode(c)},hasAttributeNS:function(a,b){return null!=this.getAttributeNodeNS(a,b)},getAttributeNS:function(a,b){var c=this.getAttributeNodeNS(a,b);return c&&c.value||""},setAttributeNS:function(a,b,c){var d=this.ownerDocument.createAttributeNS(a,b);d.value=d.nodeValue=""+c,this.setAttributeNode(d)},getAttributeNodeNS:function(a,b){return this.attributes.getNamedItemNS(a,b)},getElementsByTagName:function(a){return new Hb(this,function(b){var c=[];return Qb(b,function(d){d===b||d.nodeType!=Yh||"*"!==a&&d.tagName!=a||c.push(d)}),c})},getElementsByTagNameNS:function(a,b){return new Hb(this,function(c){var d=[];return Qb(c,function(e){e===c||e.nodeType!==Yh||"*"!==a&&e.namespaceURI!==a||"*"!==b&&e.localName!=b||d.push(e)}),d})}},Rb.prototype.getElementsByTagName=Yb.prototype.getElementsByTagName,Rb.prototype.getElementsByTagNameNS=Yb.prototype.getElementsByTagNameNS,Eb(Yb,Ob),Zb.prototype.nodeType=Zh,Eb(Zb,Ob),$b.prototype={data:"",substringData:function(a,b){return this.data.substring(a,a+b)},appendData:function(a){a=this.data+a,this.nodeValue=this.data=a,this.length=a.length},insertData:function(a,b){this.replaceData(a,0,b)},appendChild:function(a){throw new Error(ji[ki])},deleteData:function(a,b){this.replaceData(a,b,"")},replaceData:function(a,b,c){var d=this.data.substring(0,a),e=this.data.substring(a+b);c=d+c+e,this.nodeValue=this.data=c,this.length=c.length}},Eb($b,Ob),_b.prototype={nodeName:"#text",nodeType:$h,splitText:function(a){var b=this.data,c=b.substring(a);b=b.substring(0,a),this.data=this.nodeValue=b,this.length=b.length;var d=this.ownerDocument.createTextNode(c);return this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling),d}},Eb(_b,$b),ac.prototype={nodeName:"#comment",nodeType:di},Eb(ac,$b),bc.prototype={nodeName:"#cdata-section",nodeType:_h},Eb(bc,$b),cc.prototype.nodeType=fi,Eb(cc,Ob),dc.prototype.nodeType=hi,Eb(dc,Ob),ec.prototype.nodeType=bi,Eb(ec,Ob),fc.prototype.nodeType=ai,Eb(fc,Ob),gc.prototype.nodeName="#document-fragment",gc.prototype.nodeType=gi,Eb(gc,Ob),hc.prototype.nodeType=ci,Eb(hc,Ob),ic.prototype.serializeToString=function(a,b,c){return jc.call(a,b,c)},Ob.prototype.toString=jc;try{if(Object.defineProperty){var ni=function a(b){switch(b.nodeType){case Yh:case gi:var c=[];for(b=b.firstChild;b;)7!==b.nodeType&&8!==b.nodeType&&c.push(a(b)),b=b.nextSibling;return c.join("");default:return b.nodeValue}};Object.defineProperty(Hb.prototype,"length",{get:function(){return Ib(this),this.$$length}}),Object.defineProperty(Ob.prototype,"textContent",{get:function(){return ni(this)},set:function(a){switch(this.nodeType){case Yh:case gi:for(;this.firstChild;)this.removeChild(this.firstChild);(a||String(a))&&this.appendChild(this.ownerDocument.createTextNode(a));break;default:this.data=a,this.value=a,this.nodeValue=a}}}),oc=function(a,b,c){a["$$"+b]=c}}}catch(a){}var oi,pi,qi=Nb,ri=ic,si={DOMImplementation:qi,XMLSerializer:ri},ti=d(function(a,b){function c(a){this.options=a||{locator:{}}}function d(a,b,c){function d(b){var d=a[b];!d&&h&&(d=2==a.length?function(c){a(b,c)}:a),f[b]=d&&function(a){d("[xmldom "+b+"]\t"+a+g(c))}||function(){}}if(!a){if(b instanceof e)return b;a=b}var f={},h=a instanceof Function;return c=c||{},d("warning"),d("error"),d("fatalError"),f}function e(){this.cdata=!1}function f(a,b){b.lineNumber=a.lineNumber,b.columnNumber=a.columnNumber}function g(a){if(a)return"\n@"+(a.systemId||"")+"#[line:"+a.lineNumber+",col:"+a.columnNumber+"]"}function h(a,b,c){return"string"==typeof a?a.substr(b,c):a.length>=b+c||b?new java.lang.String(a,b,c)+"":a}function i(a,b){a.currentElement?a.currentElement.appendChild(b):a.doc.appendChild(b)}c.prototype.parseFromString=function(a,b){var c=this.options,f=new j,g=c.domBuilder||new e,h=c.errorHandler,i=c.locator,k=c.xmlns||{},l={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return i&&g.setDocumentLocator(i),f.errorHandler=d(h,g,i),f.domBuilder=c.domBuilder||g,/\/x?html?$/.test(b)&&(l.nbsp=" ",l.copy="©",k[""]="http://www.w3.org/1999/xhtml"),k.xml=k.xml||"http://www.w3.org/XML/1998/namespace",a?f.parse(a,k,l):f.errorHandler.error("invalid doc source"),g.doc},e.prototype={startDocument:function(){this.doc=(new k).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(a,b,c,d){var e=this.doc,g=e.createElementNS(a,c||b),h=d.length;i(this,g),this.currentElement=g,this.locator&&f(this.locator,g);for(var j=0;j<h;j++){var a=d.getURI(j),k=d.getValue(j),c=d.getQName(j),l=e.createAttributeNS(a,c);this.locator&&f(d.getLocator(j),l),l.value=l.nodeValue=k,g.setAttributeNode(l)}},endElement:function(a,b,c){var d=this.currentElement;d.tagName;this.currentElement=d.parentNode},startPrefixMapping:function(a,b){},endPrefixMapping:function(a){},processingInstruction:function(a,b){var c=this.doc.createProcessingInstruction(a,b);this.locator&&f(this.locator,c),i(this,c)},ignorableWhitespace:function(a,b,c){},characters:function(a,b,c){if(a=h.apply(this,arguments)){if(this.cdata)var d=this.doc.createCDATASection(a);else var d=this.doc.createTextNode(a);this.currentElement?this.currentElement.appendChild(d):/^\s*$/.test(a)&&this.doc.appendChild(d),this.locator&&f(this.locator,d)}},skippedEntity:function(a){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(a){(this.locator=a)&&(a.lineNumber=0)},comment:function(a,b,c){a=h.apply(this,arguments);var d=this.doc.createComment(a);this.locator&&f(this.locator,d),i(this,d)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(a,b,c){var d=this.doc.implementation;if(d&&d.createDocumentType){var e=d.createDocumentType(a,b,c);this.locator&&f(this.locator,e),i(this,e)}},warning:function(a){},error:function(a){},fatalError:function(a){throw a}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(a){e.prototype[a]=function(){return null}});var j=Vh.XMLReader,k=b.DOMImplementation=si.DOMImplementation;b.XMLSerializer=si.XMLSerializer,b.DOMParser=c}),ui=(ti.DOMImplementation,ti.XMLSerializer,ti.DOMParser),vi=function(a){return!!a&&"object"==typeof a},wi=function a(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.reduce(function(b,c){return Object.keys(c).forEach(function(d){Array.isArray(b[d])&&Array.isArray(c[d])?b[d]=b[d].concat(c[d]):vi(b[d])&&vi(c[d])?b[d]=a(b[d],c[d]):b[d]=c[d]}),b},{})},xi=function(a){return Object.keys(a).map(function(b){return a[b]})},yi=function(a,b){for(var c=[],d=a;d<b;d++)c.push(d);return c},zi=function(a){return a.reduce(function(a,b){return a.concat(b)},[])},Ai=function(a){if(!a.length)return[];for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},Bi=function(a,b){return a.reduce(function(a,c,d){return c[b]&&a.push(d),a},[])},Ci={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Di=function(a){var b=a.baseUrl,c=void 0===b?"":b,d=a.source,e=void 0===d?"":d,f=a.range,g=void 0===f?"":f,h=a.indexRange,i=void 0===h?"":h,j={uri:e,resolvedUri:Fh(c||"",e)};if(g||i){var k=g?g:i,l=k.split("-"),m=parseInt(l[0],10),n=parseInt(l[1],10);j.byterange={length:n-m+1,offset:m}}return j},Ei=function(a){var b=a.offset+a.length-1;return a.offset+"-"+b},Fi={static:function(a){var b=a.duration,c=a.timescale,d=void 0===c?1:c,e=a.sourceDuration;return{start:0,end:Math.ceil(e/(b/d))}},dynamic:function(a){var b=a.NOW,c=a.clientOffset,d=a.availabilityStartTime,e=a.timescale,f=void 0===e?1:e,g=a.duration,h=a.start,i=void 0===h?0:h,j=a.minimumUpdatePeriod,k=void 0===j?0:j,l=a.timeShiftBufferDepth,m=void 0===l?1/0:l,n=(b+c)/1e3,o=d+i,p=n+k,q=p-o,r=Math.ceil(q*f/g),s=Math.floor((n-o-m)*f/g),t=Math.floor((n-o)*f/g);return{start:Math.max(0,s),end:Math.min(r,t)}}},Gi=function(a){return function(b,c){var d=a.duration,e=a.timescale,f=void 0===e?1:e,g=a.periodIndex,h=a.startNumber,i=void 0===h?1:h;return{number:i+b,duration:d/f,timeline:g,time:c*d}}},Hi=function(a){var b=a.type,c=void 0===b?"static":b,d=a.duration,e=a.timescale,f=void 0===e?1:e,g=a.sourceDuration,h=Fi[c](a),i=h.start,j=h.end,k=yi(i,j).map(Gi(a));if("static"===c){var l=k.length-1;k[l].duration=g-d/f*l}return k},Ii=function(a){var b=a.baseUrl,c=a.initialization,d=void 0===c?{}:c,e=a.sourceDuration,f=a.timescale,g=void 0===f?1:f,h=a.indexRange,i=void 0===h?"":h,j=a.duration;if(!b)throw new Error(Ci.NO_BASE_URL);var k=Di({baseUrl:b,source:d.sourceURL,range:d.range}),l=Di({baseUrl:b,source:b,indexRange:i});if(l.map=k,j){var m=Hi(a);m.length&&(l.duration=m[0].duration,l.timeline=m[0].timeline)}else e&&(l.duration=e/g,l.timeline=0);return l.number=0,[l]},Ji=function(a,b,c){for(var d=a.sidx.map?a.sidx.map:null,e=a.sidx.duration,f=a.timeline||0,g=a.sidx.byterange,h=g.offset+g.length,i=b.timescale,j=b.references.filter(function(a){return 1!==a.referenceType}),k=[],l=h+b.firstOffset,m=0;m<j.length;m++){var n=b.references[m],o=n.referencedSize,p=n.subsegmentDuration,q=l+o-1,r=l+"-"+q,s={baseUrl:c,timescale:i,timeline:f,periodIndex:f,duration:p,sourceDuration:e,indexRange:r},t=Ii(s)[0];d&&(t.map=d),k.push(t),l+=o}return a.segments=k,a},Ki=function(a){var b=xi(a.reduce(function(a,b){var c=b.attributes.id+(b.attributes.lang||"");if(a[c]){var d;b.segments[0]&&(b.segments[0].discontinuity=!0),(d=a[c].segments).push.apply(d,b.segments),b.attributes.contentProtection&&(a[c].attributes.contentProtection=b.attributes.contentProtection)}else a[c]=b;return a},{}));return b.map(function(a){return a.discontinuityStarts=Bi(a.segments,"discontinuity"),a})},Li=function(a,b){if(void 0===b&&(b={}),!Object.keys(b).length)return a;for(var c in a){var d=a[c];if(d.sidx){var e=d.sidx.uri+"-"+Ei(d.sidx.byterange),f=b[e]&&b[e].sidx;d.sidx&&f&&Ji(d,f,d.sidx.resolvedUri)}}return a},Mi=function(a){var b,c=a.attributes,d=a.segments,e=a.sidx,f={attributes:(b={NAME:c.id,BANDWIDTH:c.bandwidth,CODECS:c.codecs},b["PROGRAM-ID"]=1,b),uri:"",endList:"static"===(c.type||"static"),timeline:c.periodIndex,resolvedUri:"",targetDuration:c.duration,segments:d,mediaSequence:d.length?d[0].number:1};return c.contentProtection&&(f.contentProtection=c.contentProtection),e&&(f.sidx=e),f},Ni=function(a){var b,c=a.attributes,d=a.segments;return"undefined"==typeof d&&(d=[{uri:c.baseUrl,timeline:c.periodIndex,resolvedUri:c.baseUrl||"",duration:c.sourceDuration,number:0}],c.duration=c.sourceDuration),{attributes:(b={NAME:c.id,BANDWIDTH:c.bandwidth},b["PROGRAM-ID"]=1,b),uri:"",endList:"static"===(c.type||"static"),timeline:c.periodIndex,resolvedUri:c.baseUrl||"",targetDuration:c.duration,segments:d,mediaSequence:d.length?d[0].number:1}},Oi=function(a,b){void 0===b&&(b={});var c,d=a.reduce(function(a,d){var e=d.attributes.role&&d.attributes.role.value||"",f=d.attributes.lang||"",g="main";if(f){var h=e?" ("+e+")":"";g=""+d.attributes.lang+h}return a[g]&&a[g].playlists[0].attributes.BANDWIDTH>d.attributes.bandwidth?a:(a[g]={language:f,autoselect:!0,default:"main"===e,playlists:Li([Mi(d)],b),uri:""},"undefined"==typeof c&&"main"===e&&(c=d,c.default=!0),a)},{});if(!c){var e=Object.keys(d)[0];d[e].default=!0}return d},Pi=function(a,b){return void 0===b&&(b={}),a.reduce(function(a,c){var d=c.attributes.lang||"text";return a[d]?a:(a[d]={language:d,default:!1,autoselect:!1,playlists:Li([Ni(c)],b),uri:""},a)},{})},Qi=function(a){var b,c=a.attributes,d=a.segments,e=a.sidx,f={attributes:(b={NAME:c.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:c.width,height:c.height},CODECS:c.codecs,BANDWIDTH:c.bandwidth},b["PROGRAM-ID"]=1,b),uri:"",endList:"static"===(c.type||"static"),timeline:c.periodIndex,resolvedUri:"",targetDuration:c.duration,segments:d,mediaSequence:d.length?d[0].number:1};return c.contentProtection&&(f.contentProtection=c.contentProtection),e&&(f.sidx=e),f},Ri=function(a,b){var c;if(void 0===b&&(b={}),!a.length)return{};var d=a[0].attributes,e=d.sourceDuration,f=d.type,g=void 0===f?"static":f,h=d.suggestedPresentationDelay,i=d.minimumUpdatePeriod,j=void 0===i?0:i,k=function(a){var b=a.attributes;return"video/mp4"===b.mimeType||"video"===b.contentType},l=function(a){var b=a.attributes;return"audio/mp4"===b.mimeType||"audio"===b.contentType},m=function(a){var b=a.attributes;return"text/vtt"===b.mimeType||"text"===b.contentType},n=Ki(a.filter(k)).map(Qi),o=Ki(a.filter(l)),p=a.filter(m),q={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(c={AUDIO:{},VIDEO:{}},c["CLOSED-CAPTIONS"]={},c.SUBTITLES={},c),uri:"",duration:e,playlists:Li(n,b),minimumUpdatePeriod:1e3*j};return"dynamic"===g&&(q.suggestedPresentationDelay=h),o.length&&(q.mediaGroups.AUDIO.audio=Oi(o,b)),p.length&&(q.mediaGroups.SUBTITLES.subs=Pi(p,b)),q},Si=function(a,b,c){var d=a.NOW,e=a.clientOffset,f=a.availabilityStartTime,g=a.timescale,h=void 0===g?1:g,i=a.start,j=void 0===i?0:i,k=a.minimumUpdatePeriod,l=void 0===k?0:k,m=(d+e)/1e3,n=f+j,o=m+l,p=o-n;return Math.ceil((p*h-b)/c)},Ti=function(a,b){for(var c=a.type,d=void 0===c?"static":c,e=a.minimumUpdatePeriod,f=void 0===e?0:e,g=a.media,h=void 0===g?"":g,i=a.sourceDuration,j=a.timescale,k=void 0===j?1:j,l=a.startNumber,m=void 0===l?1:l,n=a.periodIndex,o=[],p=-1,q=0;q<b.length;q++){var r=b[q],s=r.d,t=r.r||0,u=r.t||0;p<0&&(p=u),u&&u>p&&(p=u);var v=void 0;if(t<0){var w=q+1;v=w===b.length?"dynamic"===d&&f>0&&h.indexOf("$Number$")>0?Si(a,p,s):(i*k-p)/s:(b[w].t-p)/s}else v=t+1;for(var x=m+o.length+v,y=m+o.length;y<x;)o.push({number:y,duration:s/k,time:p,timeline:n}),p+=s,y++}return o},Ui=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Vi=function(a){return function(b,c,d,e){if("$$"===b)return"$";if("undefined"==typeof a[c])return b;var f=""+a[c];return"RepresentationID"===c?f:(e=d?parseInt(e,10):1,f.length>=e?f:""+new Array(e-f.length+1).join("0")+f)}},Wi=function(a,b){return a.replace(Ui,Vi(b))},Xi=function(a,b){return a.duration||b?a.duration?Hi(a):Ti(a,b):[{number:a.startNumber||1,duration:a.sourceDuration,time:0,timeline:a.periodIndex}]},Yi=function(a,b){var c={RepresentationID:a.id,Bandwidth:a.bandwidth||0},d=a.initialization,e=void 0===d?{sourceURL:"",range:""}:d,f=Di({baseUrl:a.baseUrl,source:Wi(e.sourceURL,c),range:e.range}),g=Xi(a,b);return g.map(function(b){c.Number=b.number,c.Time=b.time;var d=Wi(a.media||"",c);return{uri:d,timeline:b.timeline,duration:b.duration,resolvedUri:Fh(a.baseUrl||"",d),map:f,number:b.number}})},Zi=function(a,b){var c=a.baseUrl,d=a.initialization,e=void 0===d?{}:d,f=Di({baseUrl:c,source:e.sourceURL,range:e.range}),g=Di({baseUrl:c,source:b.media,range:b.mediaRange});return g.map=f,g},$i=function(a,b){var c=a.duration,d=a.segmentUrls,e=void 0===d?[]:d;if(!c&&!b||c&&b)throw new Error(Ci.SEGMENT_TIME_UNSPECIFIED);var f,g=e.map(function(b){return Zi(a,b)});c&&(f=Hi(a)),b&&(f=Ti(a,b));var h=f.map(function(a,b){if(g[b]){var c=g[b];return c.timeline=a.timeline,c.duration=a.duration,c.number=a.number,c}}).filter(function(a){return a});return h},_i=function(a){var b,c,d=a.attributes,e=a.segmentInfo;e.template?(c=Yi,b=wi(d,e.template)):e.base?(c=Ii,b=wi(d,e.base)):e.list&&(c=$i,b=wi(d,e.list));var f={attributes:d};if(!c)return f;var g=c(b,e.timeline);if(b.duration){var h=b,i=h.duration,j=h.timescale,k=void 0===j?1:j;b.duration=i/k}else g.length?b.duration=g.reduce(function(a,b){return Math.max(a,Math.ceil(b.duration))},0):b.duration=0;return f.attributes=b,f.segments=g,e.base&&b.indexRange&&(f.sidx=g[0],f.segments=[]),f},aj=function(a){return a.map(_i)},bj=function(a,b){return Ai(a.childNodes).filter(function(a){var c=a.tagName;return c===b})},cj=function(a){return a.textContent.trim()},dj=function(a){var b=31536e3,c=2592e3,d=86400,e=3600,f=60,g=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,h=g.exec(a);if(!h)return 0;var i=h.slice(1),j=i[0],k=i[1],l=i[2],m=i[3],n=i[4],o=i[5];return parseFloat(j||0)*b+parseFloat(k||0)*c+parseFloat(l||0)*d+parseFloat(m||0)*e+parseFloat(n||0)*f+parseFloat(o||0)},ej=function(a){var b=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return b.test(a)&&(a+="Z"),Date.parse(a)},fj={mediaPresentationDuration:function(a){return dj(a)},availabilityStartTime:function(a){return ej(a)/1e3},minimumUpdatePeriod:function(a){return dj(a)},suggestedPresentationDelay:function(a){return dj(a)},type:function(a){return a},timeShiftBufferDepth:function(a){return dj(a)},start:function(a){return dj(a)},width:function(a){return parseInt(a,10)},height:function(a){return parseInt(a,10)},bandwidth:function(a){return parseInt(a,10)},startNumber:function(a){return parseInt(a,10)},timescale:function(a){return parseInt(a,10)},duration:function(a){var b=parseInt(a,10);return isNaN(b)?dj(a):b},d:function(a){return parseInt(a,10)},t:function(a){return parseInt(a,10)},r:function(a){return parseInt(a,10)},DEFAULT:function(a){return a}},gj=function(a){return a&&a.attributes?Ai(a.attributes).reduce(function(a,b){var c=fj[b.name]||fj.DEFAULT;return a[b.name]=c(b.value),a},{}):{}},hj={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},ij=function(a,b){return b.length?zi(a.map(function(a){return b.map(function(b){return Fh(a,cj(b))})})):a},jj=function(a){var b=bj(a,"SegmentTemplate")[0],c=bj(a,"SegmentList")[0],d=c&&bj(c,"SegmentURL").map(function(a){return wi({tag:"SegmentURL"},gj(a))}),e=bj(a,"SegmentBase")[0],f=c||b,g=f&&bj(f,"SegmentTimeline")[0],h=c||e||b,i=h&&bj(h,"Initialization")[0],j=b&&gj(b);j&&i?j.initialization=i&&gj(i):j&&j.initialization&&(j.initialization={sourceURL:j.initialization});var k={template:j,timeline:g&&bj(g,"S").map(function(a){return gj(a)}),list:c&&wi(gj(c),{segmentUrls:d,initialization:gj(i)}),base:e&&wi(gj(e),{initialization:gj(i)})};return Object.keys(k).forEach(function(a){k[a]||delete k[a]}),k},kj=function(a,b,c){return function(d){var e=bj(d,"BaseURL"),f=ij(b,e),g=wi(a,gj(d)),h=jj(d);return f.map(function(a){return{segmentInfo:wi(c,h),attributes:wi(g,{baseUrl:a})}})}},lj=function(a){return a.reduce(function(a,b){var c=gj(b),d=hj[c.schemeIdUri];if(d){a[d]={attributes:c};var e=bj(b,"cenc:pssh")[0];if(e){var f=cj(e),g=f&&Ih(f);a[d].pssh=g}}return a},{})},mj=function(a,b,c){return function(d){var e=gj(d),f=ij(b,bj(d,"BaseURL")),g=bj(d,"Role")[0],h={role:gj(g)},i=wi(a,e,h),j=lj(bj(d,"ContentProtection"));Object.keys(j).length&&(i=wi(i,{contentProtection:j}));var k=jj(d),l=bj(d,"Representation"),m=wi(c,k);return zi(l.map(kj(i,f,m)))}},nj=function(b,c){return function(d,e){var f=ij(c,bj(d,"BaseURL")),g=gj(d),h=parseInt(g.id,10),i=a.isNaN(h)?e:h,j=wi(b,{periodIndex:i}),k=bj(d,"AdaptationSet"),l=jj(d);return zi(k.map(mj(j,f,l)))}},oj=function(a,b){void 0===b&&(b={});var c=b,d=c.manifestUri,e=void 0===d?"":d,f=c.NOW,g=void 0===f?Date.now():f,h=c.clientOffset,i=void 0===h?0:h,j=bj(a,"Period");if(!j.length)throw new Error(Ci.INVALID_NUMBER_OF_PERIOD);var k=gj(a),l=ij([e],bj(a,"BaseURL"));return k.sourceDuration=k.mediaPresentationDuration||0,k.NOW=g,k.clientOffset=i,zi(j.map(nj(k,l)))},pj=function(a){if(""===a)throw new Error(Ci.DASH_EMPTY_MANIFEST);var b=new ui,c=b.parseFromString(a,"application/xml"),d=c&&"MPD"===c.documentElement.tagName?c.documentElement:null;if(!d||d&&d.getElementsByTagName("parsererror").length>0)throw new Error(Ci.DASH_INVALID_XML);return d},qj=function(a){var b=bj(a,"UTCTiming")[0];if(!b)return null;var c=gj(b);switch(c.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":c.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":c.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":c.method="DIRECT",c.value=Date.parse(c.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Ci.UNSUPPORTED_UTC_TIMING_SCHEME)}return c},rj=function(a,b){return void 0===b&&(b={}),Ri(aj(oj(pj(a),b)),b.sidxMapping)},sj=function(a){return qj(pj(a))},tj=function(a){return a>>>0},uj=function(a){return("00"+a.toString(16)).slice(-2)},vj={toUnsigned:tj,toHexString:uj},wj=vj.toUnsigned,xj=function(a){return new Date(1e3*a-20828448e5)},yj=function(a){return{isLeading:(12&a[0])>>>2,dependsOn:3&a[0],isDependedOn:(192&a[1])>>>6,hasRedundancy:(48&a[1])>>>4,paddingValue:(14&a[1])>>>1,isNonSyncSample:1&a[1],degradationPriority:a[2]<<8|a[3]}},zj=function(a){var b="";return b+=String.fromCharCode(a[0]),b+=String.fromCharCode(a[1]),b+=String.fromCharCode(a[2]),b+=String.fromCharCode(a[3])},Aj=function a(b,c){var d,e,f,g,h,i=[];if(!c.length)return null;for(d=0;d<b.byteLength;)e=wj(b[d]<<24|b[d+1]<<16|b[d+2]<<8|b[d+3]),f=zj(b.subarray(d+4,d+8)),g=e>1?d+e:b.byteLength,f===c[0]&&(1===c.length?i.push(b.subarray(d+8,g)):(h=a(b.subarray(d+8,g),c.slice(1)),h.length&&(i=i.concat(h)))),d=g;return i},Bj=function(a){var b,c,d=new DataView(a.buffer,a.byteOffset,a.byteLength),e=[];for(b=0;b+4<a.length;b+=c)if(c=d.getUint32(b),b+=4,c<=0)e.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&a[b]){case 1:e.push("slice_layer_without_partitioning_rbsp");break;case 5:e.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:e.push("sei_rbsp");break;case 7:e.push("seq_parameter_set_rbsp");break;case 8:e.push("pic_parameter_set_rbsp");break;case 9:e.push("access_unit_delimiter_rbsp");break;default:e.push("UNKNOWN NAL - "+a[b]&31)}return e},Cj={avc1:function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength);return{dataReferenceIndex:b.getUint16(6),width:b.getUint16(24),height:b.getUint16(26),horizresolution:b.getUint16(28)+b.getUint16(30)/16,vertresolution:b.getUint16(32)+b.getUint16(34)/16,frameCount:b.getUint16(40),depth:b.getUint16(74),config:oi(a.subarray(78,a.byteLength))}},avcC:function(a){var b,c,d,e,f=new DataView(a.buffer,a.byteOffset,a.byteLength),g={configurationVersion:a[0],avcProfileIndication:a[1],profileCompatibility:a[2],avcLevelIndication:a[3],lengthSizeMinusOne:3&a[4],sps:[],pps:[]},h=31&a[5];for(d=6,e=0;e<h;e++)c=f.getUint16(d),d+=2,g.sps.push(new Uint8Array(a.subarray(d,d+c))),d+=c;for(b=a[d],d++,e=0;e<b;e++)c=f.getUint16(d),d+=2,g.pps.push(new Uint8Array(a.subarray(d,d+c))),d+=c;return g},btrt:function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength);return{bufferSizeDB:b.getUint32(0),maxBitrate:b.getUint32(4),avgBitrate:b.getUint32(8)}},esds:function(a){return{version:a[0],flags:new Uint8Array(a.subarray(1,4)),esId:a[6]<<8|a[7],streamPriority:31&a[8],decoderConfig:{objectProfileIndication:a[11],streamType:a[12]>>>2&63,bufferSize:a[13]<<16|a[14]<<8|a[15],maxBitrate:a[16]<<24|a[17]<<16|a[18]<<8|a[19],avgBitrate:a[20]<<24|a[21]<<16|a[22]<<8|a[23],decoderConfigDescriptor:{tag:a[24],length:a[25],audioObjectType:a[26]>>>3&31,samplingFrequencyIndex:(7&a[26])<<1|a[27]>>>7&1,channelConfiguration:a[27]>>>3&15}}}},ftyp:function(a){for(var b=new DataView(a.buffer,a.byteOffset,a.byteLength),c={majorBrand:zj(a.subarray(0,4)),minorVersion:b.getUint32(4),compatibleBrands:[]},d=8;d<a.byteLength;)c.compatibleBrands.push(zj(a.subarray(d,d+4))),d+=4;return c},dinf:function(a){return{boxes:oi(a)}},dref:function(a){return{version:a[0],flags:new Uint8Array(a.subarray(1,4)),dataReferences:oi(a.subarray(8))}},hdlr:function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength),c={version:b.getUint8(0),flags:new Uint8Array(a.subarray(1,4)),handlerType:zj(a.subarray(8,12)),name:""},d=8;for(d=24;d<a.byteLength;d++){if(0===a[d]){d++;break}c.name+=String.fromCharCode(a[d])}return c.name=decodeURIComponent(escape(c.name)),c},mdat:function(a){return{byteLength:a.byteLength,nals:Bj(a)}},mdhd:function(a){var b,c=new DataView(a.buffer,a.byteOffset,a.byteLength),d=4,e={version:c.getUint8(0),flags:new Uint8Array(a.subarray(1,4)),language:""};return 1===e.version?(d+=4,e.creationTime=xj(c.getUint32(d)),d+=8,e.modificationTime=xj(c.getUint32(d)),d+=4,e.timescale=c.getUint32(d),d+=8,e.duration=c.getUint32(d)):(e.creationTime=xj(c.getUint32(d)),d+=4,e.modificationTime=xj(c.getUint32(d)),d+=4,e.timescale=c.getUint32(d),d+=4,e.duration=c.getUint32(d)),d+=4,b=c.getUint16(d),e.language+=String.fromCharCode((b>>10)+96),e.language+=String.fromCharCode(((992&b)>>5)+96),e.language+=String.fromCharCode((31&b)+96),e},mdia:function(a){return{boxes:oi(a)}},mfhd:function(a){return{version:a[0],flags:new Uint8Array(a.subarray(1,4)),sequenceNumber:a[4]<<24|a[5]<<16|a[6]<<8|a[7]}},minf:function(a){return{boxes:oi(a)}},mp4a:function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength),c={dataReferenceIndex:b.getUint16(6),channelcount:b.getUint16(16),samplesize:b.getUint16(18),samplerate:b.getUint16(24)+b.getUint16(26)/65536};return a.byteLength>28&&(c.streamDescriptor=oi(a.subarray(28))[0]),c},moof:function(a){return{boxes:oi(a)}},moov:function(a){return{boxes:oi(a)}},mvex:function(a){return{boxes:oi(a)}},mvhd:function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength),c=4,d={version:b.getUint8(0),flags:new Uint8Array(a.subarray(1,4))};return 1===d.version?(c+=4,d.creationTime=xj(b.getUint32(c)),c+=8,d.modificationTime=xj(b.getUint32(c)),c+=4,d.timescale=b.getUint32(c),c+=8,d.duration=b.getUint32(c)):(d.creationTime=xj(b.getUint32(c)),c+=4,d.modificationTime=xj(b.getUint32(c)),c+=4,d.timescale=b.getUint32(c),c+=4,d.duration=b.getUint32(c)),c+=4,d.rate=b.getUint16(c)+b.getUint16(c+2)/16,c+=4,d.volume=b.getUint8(c)+b.getUint8(c+1)/8,c+=2,c+=2,c+=8,d.matrix=new Uint32Array(a.subarray(c,c+36)),c+=36,c+=24,d.nextTrackId=b.getUint32(c),d},pdin:function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength);return{version:b.getUint8(0),flags:new Uint8Array(a.subarray(1,4)),rate:b.getUint32(4),initialDelay:b.getUint32(8)}},sdtp:function(a){var b,c={version:a[0],flags:new Uint8Array(a.subarray(1,4)),samples:[]};for(b=4;b<a.byteLength;b++)c.samples.push({dependsOn:(48&a[b])>>4,isDependedOn:(12&a[b])>>2,hasRedundancy:3&a[b]});return c},sidx:function(a){var b,c=new DataView(a.buffer,a.byteOffset,a.byteLength),d={version:a[0],flags:new Uint8Array(a.subarray(1,4)),references:[],referenceId:c.getUint32(4),timescale:c.getUint32(8),earliestPresentationTime:c.getUint32(12),firstOffset:c.getUint32(16)},e=c.getUint16(22);for(b=24;e;b+=12,e--)d.references.push({referenceType:(128&a[b])>>>7,referencedSize:2147483647&c.getUint32(b),subsegmentDuration:c.getUint32(b+4),startsWithSap:!!(128&a[b+8]),sapType:(112&a[b+8])>>>4,sapDeltaTime:268435455&c.getUint32(b+8)});return d},smhd:function(a){return{version:a[0],flags:new Uint8Array(a.subarray(1,4)),balance:a[4]+a[5]/256}},stbl:function(a){return{boxes:oi(a)}},stco:function(a){var b,c=new DataView(a.buffer,a.byteOffset,a.byteLength),d={version:a[0],flags:new Uint8Array(a.subarray(1,4)),chunkOffsets:[]},e=c.getUint32(4);for(b=8;e;b+=4,e--)d.chunkOffsets.push(c.getUint32(b));return d},stsc:function(a){var b,c=new DataView(a.buffer,a.byteOffset,a.byteLength),d=c.getUint32(4),e={version:a[0],flags:new Uint8Array(a.subarray(1,4)),sampleToChunks:[]};for(b=8;d;b+=12,d--)e.sampleToChunks.push({firstChunk:c.getUint32(b),samplesPerChunk:c.getUint32(b+4),sampleDescriptionIndex:c.getUint32(b+8)});return e},stsd:function(a){return{version:a[0],flags:new Uint8Array(a.subarray(1,4)),sampleDescriptions:oi(a.subarray(8))}},stsz:function(a){var b,c=new DataView(a.buffer,a.byteOffset,a.byteLength),d={version:a[0],flags:new Uint8Array(a.subarray(1,4)),sampleSize:c.getUint32(4),entries:[]};for(b=12;b<a.byteLength;b+=4)d.entries.push(c.getUint32(b));return d},stts:function(a){var b,c=new DataView(a.buffer,a.byteOffset,a.byteLength),d={version:a[0],flags:new Uint8Array(a.subarray(1,4)),timeToSamples:[]},e=c.getUint32(4);for(b=8;e;b+=8,e--)d.timeToSamples.push({sampleCount:c.getUint32(b),sampleDelta:c.getUint32(b+4)});return d},styp:function(a){return Cj.ftyp(a)},tfdt:function(a){var b={version:a[0],flags:new Uint8Array(a.subarray(1,4)),baseMediaDecodeTime:wj(a[4]<<24|a[5]<<16|a[6]<<8|a[7])};return 1===b.version&&(b.baseMediaDecodeTime*=Math.pow(2,32),b.baseMediaDecodeTime+=wj(a[8]<<24|a[9]<<16|a[10]<<8|a[11])),b},tfhd:function(a){var b,c=new DataView(a.buffer,a.byteOffset,a.byteLength),d={version:a[0],flags:new Uint8Array(a.subarray(1,4)),trackId:c.getUint32(4)},e=1&d.flags[2],f=2&d.flags[2],g=8&d.flags[2],h=16&d.flags[2],i=32&d.flags[2],j=65536&d.flags[0],k=131072&d.flags[0];return b=8,e&&(b+=4,d.baseDataOffset=c.getUint32(12),b+=4),f&&(d.sampleDescriptionIndex=c.getUint32(b),b+=4),g&&(d.defaultSampleDuration=c.getUint32(b),b+=4),h&&(d.defaultSampleSize=c.getUint32(b),b+=4),i&&(d.defaultSampleFlags=c.getUint32(b)),j&&(d.durationIsEmpty=!0),!e&&k&&(d.baseDataOffsetIsMoof=!0),d},tkhd:function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength),c=4,d={version:b.getUint8(0),flags:new Uint8Array(a.subarray(1,4))};return 1===d.version?(c+=4,d.creationTime=xj(b.getUint32(c)),c+=8,d.modificationTime=xj(b.getUint32(c)),c+=4,d.trackId=b.getUint32(c),c+=4,c+=8,d.duration=b.getUint32(c)):(d.creationTime=xj(b.getUint32(c)),c+=4,d.modificationTime=xj(b.getUint32(c)),c+=4,d.trackId=b.getUint32(c),c+=4,c+=4,d.duration=b.getUint32(c)),c+=4,c+=8,d.layer=b.getUint16(c),c+=2,d.alternateGroup=b.getUint16(c),c+=2,d.volume=b.getUint8(c)+b.getUint8(c+1)/8,c+=2,c+=2,d.matrix=new Uint32Array(a.subarray(c,c+36)),c+=36,d.width=b.getUint16(c)+b.getUint16(c+2)/65536,c+=4,d.height=b.getUint16(c)+b.getUint16(c+2)/65536,d},traf:function(a){return{boxes:oi(a)}},trak:function(a){return{boxes:oi(a)}},trex:function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength);return{version:a[0],flags:new Uint8Array(a.subarray(1,4)),trackId:b.getUint32(4),defaultSampleDescriptionIndex:b.getUint32(8),defaultSampleDuration:b.getUint32(12),defaultSampleSize:b.getUint32(16),sampleDependsOn:3&a[20],sampleIsDependedOn:(192&a[21])>>6,sampleHasRedundancy:(48&a[21])>>4,samplePaddingValue:(14&a[21])>>1,sampleIsDifferenceSample:!!(1&a[21]),sampleDegradationPriority:b.getUint16(22)}},trun:function(a){var b,c={version:a[0],flags:new Uint8Array(a.subarray(1,4)),samples:[]},d=new DataView(a.buffer,a.byteOffset,a.byteLength),e=1&c.flags[2],f=4&c.flags[2],g=1&c.flags[1],h=2&c.flags[1],i=4&c.flags[1],j=8&c.flags[1],k=d.getUint32(4),l=8;for(e&&(c.dataOffset=d.getInt32(l),l+=4),f&&k&&(b={flags:yj(a.subarray(l,l+4))},l+=4,g&&(b.duration=d.getUint32(l),l+=4),h&&(b.size=d.getUint32(l),l+=4),j&&(b.compositionTimeOffset=d.getUint32(l),l+=4),c.samples.push(b),k--);k--;)b={},g&&(b.duration=d.getUint32(l),l+=4),h&&(b.size=d.getUint32(l),l+=4),i&&(b.flags=yj(a.subarray(l,l+4)),l+=4),j&&(b.compositionTimeOffset=d.getUint32(l),l+=4),c.samples.push(b);return c},"url ":function(a){return{version:a[0],flags:new Uint8Array(a.subarray(1,4))}},vmhd:function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength);return{version:a[0],flags:new Uint8Array(a.subarray(1,4)),graphicsmode:b.getUint16(4),opcolor:new Uint16Array([b.getUint16(6),b.getUint16(8),b.getUint16(10)])}}};oi=function(a){for(var b,c,d,e,f,g=0,h=[],i=new ArrayBuffer(a.length),j=new Uint8Array(i),k=0;k<a.length;++k)j[k]=a[k];for(b=new DataView(i);g<a.byteLength;)c=b.getUint32(g),d=zj(a.subarray(g+4,g+8)),e=c>1?g+c:a.byteLength,f=(Cj[d]||function(a){return{data:a}})(a.subarray(g+8,e)),f.size=c,f.type=d,h.push(f),g=e;return h},pi=function(a,b){var c;return b=b||0,c=new Array(2*b+1).join(" "),a.map(function(a,d){return c+a.type+"\n"+Object.keys(a).filter(function(a){return"type"!==a&&"boxes"!==a}).map(function(b){var d=c+"  "+b+": ",e=a[b];if(e instanceof Uint8Array||e instanceof Uint32Array){
var f=Array.prototype.slice.call(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).map(function(a){return" "+("00"+a.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return f?1===f.length?d+"<"+f.join("").slice(1)+">":d+"<\n"+f.map(function(a){return c+"  "+a}).join("\n")+"\n"+c+"  >":d+"<>"}return d+JSON.stringify(e,null,2).split("\n").map(function(a,b){return 0===b?a:c+"  "+a}).join("\n")}).join("\n")+(a.boxes?"\n"+pi(a.boxes,b+1):"")}).join("\n")};var Dj,Ej,Fj,Gj,Hj,Ij={inspect:oi,textify:pi,parseType:zj,findBox:Aj,parseTraf:Cj.traf,parseTfdt:Cj.tfdt,parseHdlr:Cj.hdlr,parseTfhd:Cj.tfhd,parseTrun:Cj.trun,parseSidx:Cj.sidx},Jj=vj.toUnsigned,Kj=vj.toHexString;Dj=function(a){var b={},c=Ij.findBox(a,["moov","trak"]);return c.reduce(function(a,b){var c,d,e,f,g;return(c=Ij.findBox(b,["tkhd"])[0])?(d=c[0],e=0===d?12:20,f=Jj(c[e]<<24|c[e+1]<<16|c[e+2]<<8|c[e+3]),(g=Ij.findBox(b,["mdia","mdhd"])[0])?(d=g[0],e=0===d?12:20,a[f]=Jj(g[e]<<24|g[e+1]<<16|g[e+2]<<8|g[e+3]),a):null):null},b)},Ej=function(a,b){var c,d,e;return c=Ij.findBox(b,["moof","traf"]),d=[].concat.apply([],c.map(function(b){return Ij.findBox(b,["tfhd"]).map(function(c){var d,e,f;return d=Jj(c[4]<<24|c[5]<<16|c[6]<<8|c[7]),e=a[d]||9e4,f=Ij.findBox(b,["tfdt"]).map(function(a){var b,c;return b=a[0],c=Jj(a[4]<<24|a[5]<<16|a[6]<<8|a[7]),1===b&&(c*=Math.pow(2,32),c+=Jj(a[8]<<24|a[9]<<16|a[10]<<8|a[11])),c})[0],f=f||1/0,f/e})})),e=Math.min.apply(null,d),isFinite(e)?e:0},Fj=function(a,b){var c,d=Ij.findBox(b,["moof","traf"]),e=0,f=0;if(d&&d.length)for(var g=Ij.parseTraf(d[0]),h=0;h<g.boxes.length;h++)"tfhd"===g.boxes[h].type?c=g.boxes[h].trackId:"tfdt"===g.boxes[h].type?e=g.boxes[h].baseMediaDecodeTime:"trun"===g.boxes[h].type&&g.boxes[h].samples.length&&(f=g.boxes[h].samples[0].compositionTimeOffset||0);var i=a[c]||9e4;return(e+f)/i},Gj=function(a){var b=Ij.findBox(a,["moov","trak"]),c=[];return b.forEach(function(a){var b=Ij.findBox(a,["mdia","hdlr"]),d=Ij.findBox(a,["tkhd"]);b.forEach(function(a,b){var e,f,g,h=Ij.parseType(a.subarray(8,12)),i=d[b];"vide"===h&&(e=new DataView(i.buffer,i.byteOffset,i.byteLength),f=e.getUint8(0),g=0===f?e.getUint32(12):e.getUint32(20),c.push(g))})}),c},Hj=function(a){var b=Ij.findBox(a,["moov","trak"]),c=[];return b.forEach(function(a){var b,d,e={},f=Ij.findBox(a,["tkhd"])[0];f&&(b=new DataView(f.buffer,f.byteOffset,f.byteLength),d=b.getUint8(0),e.id=0===d?b.getUint32(12):b.getUint32(20));var g=Ij.findBox(a,["mdia","hdlr"])[0];if(g){var h=Ij.parseType(g.subarray(8,12));"vide"===h?e.type="video":"soun"===h?e.type="audio":e.type=h}var i=Ij.findBox(a,["mdia","minf","stbl","stsd"])[0];if(i){var j=i.subarray(8);e.codec=Ij.parseType(j.subarray(4,8));var k,l,m=Ij.findBox(j,[e.codec])[0];m&&(/^[a-z]vc[1-9]$/i.test(e.codec)?(k=m.subarray(78),l=Ij.parseType(k.subarray(4,8)),"avcC"===l&&k.length>11?(e.codec+=".",e.codec+=Kj(k[9]),e.codec+=Kj(k[10]),e.codec+=Kj(k[11])):e.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(e.codec)&&(k=m.subarray(28),l=Ij.parseType(k.subarray(4,8)),"esds"===l&&k.length>20&&0!==k[19]?(e.codec+="."+Kj(k[19]),e.codec+="."+Kj(k[20]>>>2&63).replace(/^0/,"")):e.codec="mp4a.40.2"))}var n=Ij.findBox(a,["mdia","mdhd"])[0];if(n&&f){var o=0===d?12:20;e.timescale=Jj(n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3])}c.push(e)}),c};var Lj={findBox:Ij.findBox,parseType:Ij.parseType,timescale:Dj,startTime:Ej,compositionStartTime:Fj,videoTrackIds:Gj,tracks:Hj},Mj=4,Nj=128,Oj=function(a){for(var b=0,c={payloadType:-1,payloadSize:0},d=0,e=0;b<a.byteLength&&a[b]!==Nj;){for(;255===a[b];)d+=255,b++;for(d+=a[b++];255===a[b];)e+=255,b++;if(e+=a[b++],!c.payload&&d===Mj){c.payloadType=d,c.payloadSize=e,c.payload=a.subarray(b,b+e);var f=String.fromCharCode(c.payload[3],c.payload[4],c.payload[5],c.payload[6]);if("GA94"===f)break;c.payload=void 0}b+=e,d=0,e=0}return c},Pj=function(a){return 181!==a.payload[0]?null:49!==(a.payload[1]<<8|a.payload[2])?null:"GA94"!==String.fromCharCode(a.payload[3],a.payload[4],a.payload[5],a.payload[6])?null:3!==a.payload[7]?null:a.payload.subarray(8,a.payload.length-1)},Qj=function(a,b){var c,d,e,f,g=[];if(!(64&b[0]))return g;for(d=31&b[0],c=0;c<d;c++)e=3*c,f={type:3&b[e+2],pts:a},4&b[e+2]&&(f.ccData=b[e+3]<<8|b[e+4],g.push(f));return g},Rj=function(a){for(var b,c,d=a.byteLength,e=[],f=1;f<d-2;)0===a[f]&&0===a[f+1]&&3===a[f+2]?(e.push(f+2),f+=2):f++;if(0===e.length)return a;b=d-e.length,c=new Uint8Array(b);var g=0;for(f=0;f<b;g++,f++)g===e[0]&&(g++,e.shift()),c[f]=a[g];return c},Sj={parseSei:Oj,parseUserData:Pj,parseCaptionPackets:Qj,discardEmulationPreventionBytes:Rj,USER_DATA_REGISTERED_ITU_T_T35:Mj},Tj=function(){this.init=function(){var a={};this.on=function(b,c){a[b]||(a[b]=[]),a[b]=a[b].concat(c)},this.off=function(b,c){var d;return!!a[b]&&(d=a[b].indexOf(c),a[b]=a[b].slice(),a[b].splice(d,1),d>-1)},this.trigger=function(b){var c,d,e,f;if(c=a[b])if(2===arguments.length)for(e=c.length,d=0;d<e;++d)c[d].call(this,arguments[1]);else{for(f=[],d=arguments.length,d=1;d<arguments.length;++d)f.push(arguments[d]);for(e=c.length,d=0;d<e;++d)c[d].apply(this,f)}},this.dispose=function(){a={}}}};Tj.prototype.pipe=function(a){return this.on("data",function(b){a.push(b)}),this.on("done",function(b){a.flush(b)}),this.on("partialdone",function(b){a.partialFlush(b)}),this.on("endedtimeline",function(b){a.endTimeline(b)}),this.on("reset",function(b){a.reset(b)}),a},Tj.prototype.push=function(a){this.trigger("data",a)},Tj.prototype.flush=function(a){this.trigger("done",a)},Tj.prototype.partialFlush=function(a){this.trigger("partialdone",a)},Tj.prototype.endTimeline=function(a){this.trigger("endedtimeline",a)},Tj.prototype.reset=function(a){this.trigger("reset",a)};var Uj=Tj,Vj=function a(){a.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new _j(0,0),new _j(0,1),new _j(1,0),new _j(1,1)],this.reset(),this.ccStreams_.forEach(function(a){a.on("data",this.trigger.bind(this,"data")),a.on("partialdone",this.trigger.bind(this,"partialdone")),a.on("done",this.trigger.bind(this,"done"))},this)};Vj.prototype=new Uj,Vj.prototype.push=function(a){var b,c,d;if("sei_rbsp"===a.nalUnitType&&(b=Sj.parseSei(a.escapedRBSP),b.payloadType===Sj.USER_DATA_REGISTERED_ITU_T_T35&&(c=Sj.parseUserData(b)))){if(a.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(a.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));d=Sj.parseCaptionPackets(a.pts,c),this.captionPackets_=this.captionPackets_.concat(d),this.latestDts_!==a.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=a.dts}},Vj.prototype.flushCCStreams=function(a){this.ccStreams_.forEach(function(b){return"flush"===a?b.flush():b.partialFlush()},this)},Vj.prototype.flushStream=function(a){return this.captionPackets_.length?(this.captionPackets_.forEach(function(a,b){a.presortIndex=b}),this.captionPackets_.sort(function(a,b){return a.pts===b.pts?a.presortIndex-b.presortIndex:a.pts-b.pts}),this.captionPackets_.forEach(function(a){a.type<2&&this.dispatchCea608Packet(a)},this),this.captionPackets_.length=0,void this.flushCCStreams(a)):void this.flushCCStreams(a)},Vj.prototype.flush=function(){return this.flushStream("flush")},Vj.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Vj.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(a){a.reset()})},Vj.prototype.dispatchCea608Packet=function(a){this.setsTextOrXDSActive(a)?this.activeCea608Channel_[a.type]=null:this.setsChannel1Active(a)?this.activeCea608Channel_[a.type]=0:this.setsChannel2Active(a)&&(this.activeCea608Channel_[a.type]=1),null!==this.activeCea608Channel_[a.type]&&this.ccStreams_[(a.type<<1)+this.activeCea608Channel_[a.type]].push(a)},Vj.prototype.setsChannel1Active=function(a){return 4096===(30720&a.ccData)},Vj.prototype.setsChannel2Active=function(a){return 6144===(30720&a.ccData)},Vj.prototype.setsTextOrXDSActive=function(a){return 256===(28928&a.ccData)||4138===(30974&a.ccData)||6186===(30974&a.ccData)};var Wj={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Xj=function(a){return null===a?"":(a=Wj[a]||a,String.fromCharCode(a))},Yj=14,Zj=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],$j=function(){for(var a=[],b=Yj+1;b--;)a.push("");return a},_j=function a(b,c){a.prototype.init.call(this),this.field_=b||0,this.dataChannel_=c||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(a){var b,c,d,e,f;if(b=32639&a.ccData,b===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096===(61440&b)?this.lastControlCode_=b:b!==this.PADDING_&&(this.lastControlCode_=null),d=b>>>8,e=255&b,b!==this.PADDING_)if(b===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(b===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(a.pts),this.flushDisplayed(a.pts),c=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=c,this.startPts_=a.pts;else if(b===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(a.pts);else if(b===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(a.pts);else if(b===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(a.pts);else if(b===this.CARRIAGE_RETURN_)this.clearFormatting(a.pts),this.flushDisplayed(a.pts),this.shiftRowsUp_(),this.startPts_=a.pts;else if(b===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(b===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(a.pts),this.displayed_=$j();else if(b===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=$j();else if(b===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(a.pts),this.displayed_=$j()),this.mode_="paintOn",this.startPts_=a.pts;else if(this.isSpecialCharacter(d,e))d=(3&d)<<8,f=Xj(d|e),this[this.mode_](a.pts,f),this.column_++;else if(this.isExtCharacter(d,e))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),d=(3&d)<<8,f=Xj(d|e),this[this.mode_](a.pts,f),this.column_++;else if(this.isMidRowCode(d,e))this.clearFormatting(a.pts),this[this.mode_](a.pts," "),this.column_++,14===(14&e)&&this.addFormatting(a.pts,["i"]),1===(1&e)&&this.addFormatting(a.pts,["u"]);else if(this.isOffsetControlCode(d,e))this.column_+=3&e;else if(this.isPAC(d,e)){var g=Zj.indexOf(7968&b);"rollUp"===this.mode_&&(g-this.rollUpRows_+1<0&&(g=this.rollUpRows_-1),this.setRollUp(a.pts,g)),g!==this.row_&&(this.clearFormatting(a.pts),this.row_=g),1&e&&this.formatting_.indexOf("u")===-1&&this.addFormatting(a.pts,["u"]),16===(16&b)&&(this.column_=4*((14&b)>>1)),this.isColorPAC(e)&&14===(14&e)&&this.addFormatting(a.pts,["i"])}else this.isNormalChar(d)&&(0===e&&(e=null),f=Xj(d),f+=Xj(e),this[this.mode_](a.pts,f),this.column_+=f.length)}};_j.prototype=new Uj,_j.prototype.flushDisplayed=function(a){var b=this.displayed_.map(function(a){try{return a.trim()}catch(a){return""}}).join("\n").replace(/^\n+|\n+$/g,"");b.length&&this.trigger("data",{startPts:this.startPts_,endPts:a,text:b,stream:this.name_})},_j.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=$j(),this.nonDisplayed_=$j(),this.lastControlCode_=null,this.column_=0,this.row_=Yj,this.rollUpRows_=2,this.formatting_=[]},_j.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},_j.prototype.isSpecialCharacter=function(a,b){return a===this.EXT_&&b>=48&&b<=63},_j.prototype.isExtCharacter=function(a,b){return(a===this.EXT_+1||a===this.EXT_+2)&&b>=32&&b<=63},_j.prototype.isMidRowCode=function(a,b){return a===this.EXT_&&b>=32&&b<=47},_j.prototype.isOffsetControlCode=function(a,b){return a===this.OFFSET_&&b>=33&&b<=35},_j.prototype.isPAC=function(a,b){return a>=this.BASE_&&a<this.BASE_+8&&b>=64&&b<=127},_j.prototype.isColorPAC=function(a){return a>=64&&a<=79||a>=96&&a<=127},_j.prototype.isNormalChar=function(a){return a>=32&&a<=127},_j.prototype.setRollUp=function(a,b){if("rollUp"!==this.mode_&&(this.row_=Yj,this.mode_="rollUp",this.flushDisplayed(a),this.nonDisplayed_=$j(),this.displayed_=$j()),void 0!==b&&b!==this.row_)for(var c=0;c<this.rollUpRows_;c++)this.displayed_[b-c]=this.displayed_[this.row_-c],this.displayed_[this.row_-c]="";void 0===b&&(b=this.row_),this.topRow_=b-this.rollUpRows_+1},_j.prototype.addFormatting=function(a,b){this.formatting_=this.formatting_.concat(b);var c=b.reduce(function(a,b){return a+"<"+b+">"},"");this[this.mode_](a,c)},_j.prototype.clearFormatting=function(a){if(this.formatting_.length){var b=this.formatting_.reverse().reduce(function(a,b){return a+"</"+b+">"},"");this.formatting_=[],this[this.mode_](a,b)}},_j.prototype.popOn=function(a,b){var c=this.nonDisplayed_[this.row_];c+=b,this.nonDisplayed_[this.row_]=c},_j.prototype.rollUp=function(a,b){var c=this.displayed_[this.row_];c+=b,this.displayed_[this.row_]=c},_j.prototype.shiftRowsUp_=function(){var a;for(a=0;a<this.topRow_;a++)this.displayed_[a]="";for(a=this.row_+1;a<Yj+1;a++)this.displayed_[a]="";for(a=this.topRow_;a<this.row_;a++)this.displayed_[a]=this.displayed_[a+1];this.displayed_[this.row_]=""},_j.prototype.paintOn=function(a,b){var c=this.displayed_[this.row_];c+=b,this.displayed_[this.row_]=c};var ak={CaptionStream:Vj,Cea608Stream:_j},bk=Sj.discardEmulationPreventionBytes,ck=ak.CaptionStream,dk=function(a,b){for(var c=a,d=0;d<b.length;d++){var e=b[d];if(c<e.size)return e;c-=e.size}return null},ek=function(a,b,c){var d,e,f,g,h=new DataView(a.buffer,a.byteOffset,a.byteLength),i=[];for(e=0;e+4<a.length;e+=f)if(f=h.getUint32(e),e+=4,!(f<=0))switch(31&a[e]){case 6:var j=a.subarray(e+1,e+1+f),k=dk(e,b);if(d={nalUnitType:"sei_rbsp",size:f,data:j,escapedRBSP:bk(j),trackId:c},k)d.pts=k.pts,d.dts=k.dts,g=k;else{if(!g)break;d.pts=g.pts,d.dts=g.dts}i.push(d)}return i},fk=function(a,b,c){var d=b,e=c.defaultSampleDuration||0,f=c.defaultSampleSize||0,g=c.trackId,h=[];return a.forEach(function(a){var b=Ij.parseTrun(a),c=b.samples;c.forEach(function(a){void 0===a.duration&&(a.duration=e),void 0===a.size&&(a.size=f),a.trackId=g,a.dts=d,void 0===a.compositionTimeOffset&&(a.compositionTimeOffset=0),a.pts=d+a.compositionTimeOffset,d+=a.duration}),h=h.concat(c)}),h},gk=function(a,b){var c=Lj.findBox(a,["moof","traf"]),d=Lj.findBox(a,["mdat"]),e={},f=[];return d.forEach(function(a,b){var d=c[b];f.push({mdat:a,traf:d})}),f.forEach(function(a){var c,d,f=a.mdat,g=a.traf,h=Lj.findBox(g,["tfhd"]),i=Ij.parseTfhd(h[0]),j=i.trackId,k=Lj.findBox(g,["tfdt"]),l=k.length>0?Ij.parseTfdt(k[0]).baseMediaDecodeTime:0,m=Lj.findBox(g,["trun"]);b===j&&m.length>0&&(c=fk(m,l,i),d=ek(f,c,j),e[j]||(e[j]=[]),e[j]=e[j].concat(d))}),e},hk=function(a,b,c){var d;return null===b?null:(d=gk(a,b),{seiNals:d[b],timescale:c})},ik=function(){var a,b,c,d,e,f,g=!1;this.isInitialized=function(){return g},this.init=function(b){a=new ck,g=!0,f=!!b&&b.isPartial,a.on("data",function(a){a.startTime=a.startPts/d,a.endTime=a.endPts/d,e.captions.push(a),e.captionStreams[a.stream]=!0})},this.isNewInit=function(a,b){return!(a&&0===a.length||b&&"object"==typeof b&&0===Object.keys(b).length)&&(c!==a[0]||d!==b[c])},this.parse=function(a,f,g){var h;if(!this.isInitialized())return null;if(!f||!g)return null;if(this.isNewInit(f,g))c=f[0],d=g[c];else if(null===c||!d)return b.push(a),null;for(;b.length>0;){var i=b.shift();this.parse(i,f,g)}return h=hk(a,c,d),null!==h&&h.seiNals?(this.pushNals(h.seiNals),this.flushStream(),e):null},this.pushNals=function(b){return this.isInitialized()&&b&&0!==b.length?void b.forEach(function(b){a.push(b)}):null},this.flushStream=function(){return this.isInitialized()?void(f?a.partialFlush():a.flush()):null},this.clearParsedCaptions=function(){e.captions=[],e.captionStreams={}},this.resetCaptionStream=function(){return this.isInitialized()?void a.reset():null},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){b=[],c=null,d=null,e?this.clearParsedCaptions():e={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},jk=ik,kk={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},lk=8589934592,mk=4294967296,nk="shared",ok=function(a,b){var c=1;for(a>b&&(c=-1);Math.abs(b-a)>mk;)a+=c*lk;return a},pk=function a(b){var c,d;a.prototype.init.call(this),this.type_=b||nk,this.push=function(a){this.type_!==nk&&a.type!==this.type_||(void 0===d&&(d=a.dts),a.dts=ok(a.dts,d),a.pts=ok(a.pts,d),c=a.dts,this.trigger("data",a))},this.flush=function(){d=c,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){d=void 0,c=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};pk.prototype=new Uj;var qk,rk,sk,tk,uk,vk,wk,xk={TimestampRolloverStream:pk,handleRollover:ok},yk=function(a){var b=31&a[1];return b<<=8,b|=a[2]},zk=function(a){return!!(64&a[1])},Ak=function(a){var b=0;return(48&a[3])>>>4>1&&(b+=a[4]+1),b},Bk=function(a,b){var c=yk(a);return 0===c?"pat":c===b?"pmt":b?"pes":null},Ck=function(a){var b=zk(a),c=4+Ak(a);return b&&(c+=a[c]+1),(31&a[c+10])<<8|a[c+11]},Dk=function(a){var b={},c=zk(a),d=4+Ak(a);if(c&&(d+=a[d]+1),1&a[d+5]){var e,f,g;e=(15&a[d+1])<<8|a[d+2],f=3+e-4,g=(15&a[d+10])<<8|a[d+11];for(var h=12+g;h<f;){var i=d+h;b[(31&a[i+1])<<8|a[i+2]]=a[i],h+=((15&a[i+3])<<8|a[i+4])+5}return b}},Ek=function(a,b){var c=yk(a),d=b[c];switch(d){case kk.H264_STREAM_TYPE:return"video";case kk.ADTS_STREAM_TYPE:return"audio";case kk.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Fk=function(a){var b=zk(a);if(!b)return null;var c=4+Ak(a);if(c>=a.byteLength)return null;var d,e=null;return d=a[c+7],192&d&&(e={},e.pts=(14&a[c+9])<<27|(255&a[c+10])<<20|(254&a[c+11])<<12|(255&a[c+12])<<5|(254&a[c+13])>>>3,e.pts*=4,e.pts+=(6&a[c+13])>>>1,e.dts=e.pts,64&d&&(e.dts=(14&a[c+14])<<27|(255&a[c+15])<<20|(254&a[c+16])<<12|(255&a[c+17])<<5|(254&a[c+18])>>>3,e.dts*=4,e.dts+=(6&a[c+18])>>>1)),e},Gk=function(a){switch(a){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Hk=function(a){for(var b,c=4+Ak(a),d=a.subarray(c),e=0,f=0,g=!1;f<d.byteLength-3;f++)if(1===d[f+2]){e=f+5;break}for(;e<d.byteLength;)switch(d[e]){case 0:if(0!==d[e-1]){e+=2;break}if(0!==d[e-2]){e++;break}f+3!==e-2&&(b=Gk(31&d[f+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(g=!0));do e++;while(1!==d[e]&&e<d.length);f=e-2,e+=3;break;case 1:if(0!==d[e-1]||0!==d[e-2]){e+=3;break}b=Gk(31&d[f+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(g=!0),f=e-2,e+=3;break;default:e+=3}return d=d.subarray(f),e-=f,f=0,d&&d.byteLength>3&&(b=Gk(31&d[f+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(g=!0)),g},Ik={parseType:Bk,parsePat:Ck,parsePmt:Dk,parsePayloadUnitStartIndicator:zk,parsePesType:Ek,parsePesTime:Fk,videoPacketContainsKeyFrame:Hk},Jk=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Kk=function(a){return a[0]==="I".charCodeAt(0)&&a[1]==="D".charCodeAt(0)&&a[2]==="3".charCodeAt(0)},Lk=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},Mk=function(a,b,c){var d,e="";for(d=b;d<c;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},Nk=function(a,b,c){return unescape(Mk(a,b,c))},Ok=function(a,b){var c=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9],d=a[b+5],e=(16&d)>>4;return e?c+20:c+10},Pk=function(a,b){var c=(224&a[b+5])>>5,d=a[b+4]<<3,e=6144&a[b+3];return e|d|c},Qk=function(a,b){return a[b]==="I".charCodeAt(0)&&a[b+1]==="D".charCodeAt(0)&&a[b+2]==="3".charCodeAt(0)?"timed-metadata":a[b]&!0&&240===(240&a[b+1])?"audio":null},Rk=function(a){for(var b=0;b+5<a.length;){if(255===a[b]&&240===(246&a[b+1]))return Jk[(60&a[b+2])>>>2];b++}return null},Sk=function(a){var b,c,d,e;b=10,64&a[5]&&(b+=4,b+=Lk(a.subarray(10,14)));do{if(c=Lk(a.subarray(b+4,b+8)),c<1)return null;if(e=String.fromCharCode(a[b],a[b+1],a[b+2],a[b+3]),"PRIV"===e){d=a.subarray(b+10,b+c+10);for(var f=0;f<d.byteLength;f++)if(0===d[f]){var g=Nk(d,0,f);if("com.apple.streaming.transportStreamTimestamp"===g){var h=d.subarray(f+1),i=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;return i*=4,i+=3&h[7]}break}}b+=10,b+=c}while(b<a.byteLength);return null},Tk={isLikelyAacData:Kk,parseId3TagSize:Ok,parseAdtsSize:Pk,parseType:Qk,parseSampleRate:Rk,parseAacTimestamp:Sk},Uk=9e4;qk=function(a){return a*Uk},rk=function(a,b){return a*b},sk=function(a){return a/Uk},tk=function(a,b){return a/b},uk=function(a,b){return qk(tk(a,b))},vk=function(a,b){return rk(sk(a),b)},wk=function(a,b,c){return sk(c?a:a-b)};var Vk={ONE_SECOND_IN_TS:Uk,secondsToVideoTs:qk,secondsToAudioTs:rk,videoTsToSeconds:sk,audioTsToSeconds:tk,audioTsToVideoTs:uk,videoTsToAudioTs:vk,metadataTsToSeconds:wk},Wk=xk.handleRollover,Xk={};Xk.ts=Ik,Xk.aac=Tk;var Yk=Vk.ONE_SECOND_IN_TS,Zk=188,$k=71,_k=function(a,b){for(var c,d,e=0,f=Zk;f<a.byteLength;)if(a[e]!==$k||a[f]!==$k)e++,f++;else{switch(c=a.subarray(e,f),d=Xk.ts.parseType(c,b.pid)){case"pat":b.pid||(b.pid=Xk.ts.parsePat(c));break;case"pmt":b.table||(b.table=Xk.ts.parsePmt(c))}if(b.pid&&b.table)return;e+=Zk,f+=Zk}},al=function(a,b,c){for(var d,e,f,g,h,i=0,j=Zk,k=!1;j<=a.byteLength;)if(a[i]!==$k||a[j]!==$k&&j!==a.byteLength)i++,j++;else{switch(d=a.subarray(i,j),e=Xk.ts.parseType(d,b.pid)){case"pes":f=Xk.ts.parsePesType(d,b.table),g=Xk.ts.parsePayloadUnitStartIndicator(d),"audio"===f&&g&&(h=Xk.ts.parsePesTime(d),h&&(h.type="audio",c.audio.push(h),k=!0))}if(k)break;i+=Zk,j+=Zk}for(j=a.byteLength,i=j-Zk,k=!1;i>=0;)if(a[i]!==$k||a[j]!==$k&&j!==a.byteLength)i--,j--;else{switch(d=a.subarray(i,j),e=Xk.ts.parseType(d,b.pid)){case"pes":f=Xk.ts.parsePesType(d,b.table),g=Xk.ts.parsePayloadUnitStartIndicator(d),"audio"===f&&g&&(h=Xk.ts.parsePesTime(d),h&&(h.type="audio",c.audio.push(h),k=!0))}if(k)break;i-=Zk,j-=Zk}},bl=function(a,b,c){for(var d,e,f,g,h,i,j,k,l=0,m=Zk,n=!1,o={data:[],size:0};m<a.byteLength;)if(a[l]!==$k||a[m]!==$k)l++,m++;else{switch(d=a.subarray(l,m),e=Xk.ts.parseType(d,b.pid)){case"pes":if(f=Xk.ts.parsePesType(d,b.table),g=Xk.ts.parsePayloadUnitStartIndicator(d),"video"===f&&(g&&!n&&(h=Xk.ts.parsePesTime(d),h&&(h.type="video",c.video.push(h),n=!0)),!c.firstKeyFrame)){if(g&&0!==o.size){for(i=new Uint8Array(o.size),j=0;o.data.length;)k=o.data.shift(),i.set(k,j),j+=k.byteLength;if(Xk.ts.videoPacketContainsKeyFrame(i)){var p=Xk.ts.parsePesTime(i);p&&(c.firstKeyFrame=p,c.firstKeyFrame.type="video")}o.size=0}o.data.push(d),o.size+=d.byteLength}}if(n&&c.firstKeyFrame)break;l+=Zk,m+=Zk}for(m=a.byteLength,l=m-Zk,n=!1;l>=0;)if(a[l]!==$k||a[m]!==$k)l--,m--;else{switch(d=a.subarray(l,m),e=Xk.ts.parseType(d,b.pid)){case"pes":f=Xk.ts.parsePesType(d,b.table),g=Xk.ts.parsePayloadUnitStartIndicator(d),"video"===f&&g&&(h=Xk.ts.parsePesTime(d),h&&(h.type="video",c.video.push(h),n=!0))}if(n)break;l-=Zk,m-=Zk}},cl=function(a,b){if(a.audio&&a.audio.length){var c=b;"undefined"==typeof c&&(c=a.audio[0].dts),a.audio.forEach(function(a){a.dts=Wk(a.dts,c),a.pts=Wk(a.pts,c),a.dtsTime=a.dts/Yk,a.ptsTime=a.pts/Yk})}if(a.video&&a.video.length){var d=b;if("undefined"==typeof d&&(d=a.video[0].dts),a.video.forEach(function(a){a.dts=Wk(a.dts,d),a.pts=Wk(a.pts,d),a.dtsTime=a.dts/Yk,a.ptsTime=a.pts/Yk}),a.firstKeyFrame){var e=a.firstKeyFrame;e.dts=Wk(e.dts,d),e.pts=Wk(e.pts,d),e.dtsTime=e.dts/Yk,e.ptsTime=e.dts/Yk}}},dl=function(a){for(var b,c=!1,d=0,e=null,f=null,g=0,h=0;a.length-h>=3;){var i=Xk.aac.parseType(a,h);switch(i){case"timed-metadata":if(a.length-h<10){c=!0;break}if(g=Xk.aac.parseId3TagSize(a,h),g>a.length){c=!0;break}null===f&&(b=a.subarray(h,h+g),f=Xk.aac.parseAacTimestamp(b)),h+=g;break;case"audio":if(a.length-h<7){c=!0;break}if(g=Xk.aac.parseAdtsSize(a,h),g>a.length){c=!0;break}null===e&&(b=a.subarray(h,h+g),e=Xk.aac.parseSampleRate(b)),d++,h+=g;break;default:h++}if(c)return null}if(null===e||null===f)return null;var j=Yk/e,k={audio:[{type:"audio",dts:f,pts:f},{type:"audio",dts:f+1024*d*j,pts:f+1024*d*j}]};return k},el=function(a){var b={pid:null,table:null},c={};_k(a,b);for(var d in b.table)if(b.table.hasOwnProperty(d)){var e=b.table[d];switch(e){case kk.H264_STREAM_TYPE:c.video=[],bl(a,b,c),0===c.video.length&&delete c.video;break;case kk.ADTS_STREAM_TYPE:c.audio=[],al(a,b,c),0===c.audio.length&&delete c.audio}}return c},fl=function(a,b){var c,d=Xk.aac.isLikelyAacData(a);return c=d?dl(a):el(a),c&&(c.audio||c.video)?(cl(c,b),c):null},gl={inspect:fl,parseAudioPes_:al},hl=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},il=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),jl=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},kl=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},ll=function(){var a=[[[],[],[],[],[]],[[],[],[],[],[]]],b=a[0],c=a[1],d=b[4],e=c[4],f=void 0,g=void 0,h=void 0,i=[],j=[],k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0;for(f=0;f<256;f++)j[(i[f]=f<<1^283*(f>>7))^f]=f;for(g=h=0;!d[g];g^=k||1,h=j[h]||1)for(n=h^h<<1^h<<2^h<<3^h<<4,n=n>>8^255&n^99,d[g]=n,e[n]=g,m=i[l=i[k=i[g]]],p=16843009*m^65537*l^257*k^16843008*g,o=257*i[n]^16843008*n,f=0;f<4;f++)b[f][g]=o=o<<24^o>>>8,c[f][n]=p=p<<24^p>>>8;for(f=0;f<5;f++)b[f]=b[f].slice(0),c[f]=c[f].slice(0);return a},ml=null,nl=function(){function a(b){hl(this,a),ml||(ml=ll()),this._tables=[[ml[0][0].slice(),ml[0][1].slice(),ml[0][2].slice(),ml[0][3].slice(),ml[0][4].slice()],[ml[1][0].slice(),ml[1][1].slice(),ml[1][2].slice(),ml[1][3].slice(),ml[1][4].slice()]];var c=void 0,d=void 0,e=void 0,f=void 0,g=void 0,h=this._tables[0][4],i=this._tables[1],j=b.length,k=1;if(4!==j&&6!==j&&8!==j)throw new Error("Invalid aes key size");for(f=b.slice(0),g=[],this._key=[f,g],c=j;c<4*j+28;c++)e=f[c-1],(c%j===0||8===j&&c%j===4)&&(e=h[e>>>24]<<24^h[e>>16&255]<<16^h[e>>8&255]<<8^h[255&e],c%j===0&&(e=e<<8^e>>>24^k<<24,k=k<<1^283*(k>>7))),f[c]=f[c-j]^e;for(d=0;c;d++,c--)e=f[3&d?c:c-4],c<=4||d<4?g[d]=e:g[d]=i[0][h[e>>>24]]^i[1][h[e>>16&255]]^i[2][h[e>>8&255]]^i[3][h[255&e]]}return a.prototype.decrypt=function(a,b,c,d,e,f){var g=this._key[1],h=a^g[0],i=d^g[1],j=c^g[2],k=b^g[3],l=void 0,m=void 0,n=void 0,o=g.length/4-2,p=void 0,q=4,r=this._tables[1],s=r[0],t=r[1],u=r[2],v=r[3],w=r[4];for(p=0;p<o;p++)l=s[h>>>24]^t[i>>16&255]^u[j>>8&255]^v[255&k]^g[q],m=s[i>>>24]^t[j>>16&255]^u[k>>8&255]^v[255&h]^g[q+1],n=s[j>>>24]^t[k>>16&255]^u[h>>8&255]^v[255&i]^g[q+2],k=s[k>>>24]^t[h>>16&255]^u[i>>8&255]^v[255&j]^g[q+3],q+=4,h=l,i=m,j=n;for(p=0;p<4;p++)e[(3&-p)+f]=w[h>>>24]<<24^w[i>>16&255]<<16^w[j>>8&255]<<8^w[255&k]^g[q++],l=h,h=i,i=j,j=k,k=l},a}(),ol=function(){function a(){hl(this,a),this.listeners={}}return a.prototype.on=function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)},a.prototype.off=function(a,b){if(!this.listeners[a])return!1;var c=this.listeners[a].indexOf(b);return this.listeners[a].splice(c,1),c>-1},a.prototype.trigger=function(a){var b=this.listeners[a];if(b)if(2===arguments.length)for(var c=b.length,d=0;d<c;++d)b[d].call(this,arguments[1]);else for(var e=Array.prototype.slice.call(arguments,1),f=b.length,g=0;g<f;++g)b[g].apply(this,e)},a.prototype.dispose=function(){this.listeners={}},a.prototype.pipe=function(a){this.on("data",function(b){a.push(b)})},a}(),pl=function(a){function b(){hl(this,b);var c=kl(this,a.call(this,ol));return c.jobs=[],c.delay=1,c.timeout_=null,c}return jl(b,a),b.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},b.prototype.push=function(a){this.jobs.push(a),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},b}(ol),ql=function(a){return a<<24|(65280&a)<<8|(16711680&a)>>8|a>>>24},rl=function(a,b,c){var d=new Int32Array(a.buffer,a.byteOffset,a.byteLength>>2),e=new nl(Array.prototype.slice.call(b)),f=new Uint8Array(a.byteLength),g=new Int32Array(f.buffer),h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0;for(h=c[0],i=c[1],j=c[2],k=c[3],p=0;p<d.length;p+=4)l=ql(d[p]),m=ql(d[p+1]),n=ql(d[p+2]),o=ql(d[p+3]),e.decrypt(l,m,n,o,g,p),g[p]=ql(g[p]^h),g[p+1]=ql(g[p+1]^i),g[p+2]=ql(g[p+2]^j),g[p+3]=ql(g[p+3]^k),h=l,i=m,j=n,k=o;return f},sl=function(){function a(b,c,d,e){hl(this,a);var f=a.STEP,g=new Int32Array(b.buffer),h=new Uint8Array(b.byteLength),i=0;for(this.asyncStream_=new pl,this.asyncStream_.push(this.decryptChunk_(g.subarray(i,i+f),c,d,h)),i=f;i<g.length;i+=f)d=new Uint32Array([ql(g[i-4]),ql(g[i-3]),ql(g[i-2]),ql(g[i-1])]),this.asyncStream_.push(this.decryptChunk_(g.subarray(i,i+f),c,d,h));this.asyncStream_.push(function(){e(null,pc(h))})}return a.prototype.decryptChunk_=function(a,b,c,d){return function(){var e=rl(a,b,c);d.set(e,a.byteOffset)}},il(a,null,[{key:"STEP",get:function(){return 32e3}}]),a}(),tl=function(b,c){return/^[a-z]+:/i.test(c)?c:(/\/\//i.test(b)||(b=vh.buildAbsoluteURL(a.location.href,b)),vh.buildAbsoluteURL(b,c))},ul=function(a,b,c){return a&&c.responseURL&&b!==c.responseURL?c.responseURL:b},vl=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},wl=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),xl=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},yl=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},zl=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b;
},Al=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Bl=ib.mergeOptions,Cl=ib.EventTarget,Dl=ib.log,El=function(a,b){["AUDIO","SUBTITLES"].forEach(function(c){for(var d in a.mediaGroups[c])for(var e in a.mediaGroups[c][d]){var f=a.mediaGroups[c][d][e];b(f,c,d,e)}})},Fl=function(a,b,c){var d=b.slice();c=c||0;for(var e=Math.min(a.length,b.length+c),f=c;f<e;f++)d[f-c]=Bl(a[f],d[f-c]);return d},Gl=function(a,b){a.resolvedUri||(a.resolvedUri=tl(b,a.uri)),a.key&&!a.key.resolvedUri&&(a.key.resolvedUri=tl(b,a.key.uri)),a.map&&!a.map.resolvedUri&&(a.map.resolvedUri=tl(b,a.map.uri))},Hl=function(a,b){var c=Bl(a,{}),d=c.playlists[b.id];if(!d)return null;if(d.segments&&b.segments&&d.segments.length===b.segments.length&&d.endList===b.endList&&d.mediaSequence===b.mediaSequence)return null;var e=Bl(d,b);d.segments&&(e.segments=Fl(d.segments,b.segments,b.mediaSequence-d.mediaSequence)),e.segments.forEach(function(a){Gl(a,e.resolvedUri)});for(var f=0;f<c.playlists.length;f++)c.playlists[f].id===b.id&&(c.playlists[f]=e);return c.playlists[b.id]=e,c.playlists[b.uri]=e,c},Il=function(a,b){return a+"-"+b},Jl=function(a){for(var b=a.playlists.length;b--;){var c=a.playlists[b];c.resolvedUri=tl(a.uri,c.uri),c.id=Il(b,c.uri),a.playlists[c.id]=c,a.playlists[c.uri]=c,c.attributes||(c.attributes={},Dl.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},Kl=function(a){El(a,function(b){b.uri&&(b.resolvedUri=tl(a.uri,b.uri))})},Ll=function(a,b){var c=a.segments[a.segments.length-1],d=void 0;return d=b&&c&&c.duration?1e3*c.duration:500*(a.targetDuration||10)},Ml=function(b){function c(a,b){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vl(this,c);var e=zl(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),f=d.withCredentials,g=void 0!==f&&f,h=d.handleManifestRedirects,i=void 0!==h&&h;e.srcUrl=a,e.hls_=b,e.withCredentials=g,e.handleManifestRedirects=i;var j=b.options_;if(e.customTagParsers=j&&j.customTagParsers||[],e.customTagMappers=j&&j.customTagMappers||[],!e.srcUrl)throw new Error("A non-empty playlist URL is required");return e.state="HAVE_NOTHING",e.on("mediaupdatetimeout",function(){"HAVE_METADATA"===e.state&&(e.state="HAVE_CURRENT_METADATA",e.request=e.hls_.xhr({uri:tl(e.master.uri,e.media().uri),withCredentials:e.withCredentials},function(a,b){if(e.request)return a?e.playlistRequestError(e.request,e.media(),"HAVE_METADATA"):void e.haveMetadata(e.request,e.media().uri,e.media().id)}))}),e}return yl(c,b),wl(c,[{key:"playlistRequestError",value:function(a,b,c){var d=b.uri,e=b.id;this.request=null,c&&(this.state=c),this.error={playlist:this.master.playlists[e],status:a.status,message:"HLS playlist request error at URL: "+d+".",responseText:a.responseText,code:a.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(b,c,d){var e=this;this.request=null,this.state="HAVE_METADATA";var f=new Bh;this.customTagParsers.forEach(function(a){return f.addParser(a)}),this.customTagMappers.forEach(function(a){return f.addTagMapper(a)}),f.push(b.responseText),f.end(),f.manifest.uri=c,f.manifest.id=d,f.manifest.attributes=f.manifest.attributes||{};var g=Hl(this.master,f.manifest);this.targetDuration=f.manifest.targetDuration,g?(this.master=g,this.media_=this.master.playlists[d]):this.trigger("playlistunchanged"),this.media().endList||(a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=a.setTimeout(function(){e.trigger("mediaupdatetimeout")},Ll(this.media(),!!g))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),a.clearTimeout(this.mediaUpdateTimeout),a.clearTimeout(this.finalRenditionTimeout),this.off()}},{key:"stopRequest",value:function(){if(this.request){var a=this.request;this.request=null,a.onreadystatechange=null,a.abort()}}},{key:"media",value:function(b,c){var d=this;if(!b)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof b){if(!this.master.playlists[b])throw new Error("Unknown playlist URI: "+b);b=this.master.playlists[b]}if(a.clearTimeout(this.finalRenditionTimeout),c){var e=b.targetDuration/2*1e3||5e3;return void(this.finalRenditionTimeout=a.setTimeout(this.media.bind(this,b,!1),e))}var f=this.state,g=!this.media_||b.id!==this.media_.id;if(this.master.playlists[b.id].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=b,void(g&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(g){if(this.state="SWITCHING_MEDIA",this.request){if(b.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:b.resolvedUri,withCredentials:this.withCredentials},function(a,c){if(d.request){if(b.resolvedUri=ul(d.handleManifestRedirects,b.resolvedUri,c),a)return d.playlistRequestError(d.request,b,f);d.haveMetadata(c,b.uri,b.id),"HAVE_MASTER"===f?d.trigger("loadedmetadata"):d.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(b){var c=this;a.clearTimeout(this.mediaUpdateTimeout);var d=this.media();if(b){var e=d?d.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=a.setTimeout(function(){return c.load()},e))}return this.started?void(d&&!d.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")):void this.start()}},{key:"start",value:function(){var b=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(c,d){if(b.request){if(b.request=null,c)return b.error={status:d.status,message:"HLS playlist request error at URL: "+b.srcUrl+".",responseText:d.responseText,code:2},"HAVE_NOTHING"===b.state&&(b.started=!1),b.trigger("error");var e=new Bh;if(b.customTagParsers.forEach(function(a){return e.addParser(a)}),b.customTagMappers.forEach(function(a){return e.addTagMapper(a)}),e.push(d.responseText),e.end(),b.state="HAVE_MASTER",b.srcUrl=ul(b.handleManifestRedirects,b.srcUrl,d),e.manifest.uri=b.srcUrl,e.manifest.playlists)return b.master=e.manifest,Jl(b.master),Kl(b.master),b.trigger("loadedplaylist"),void(b.request||b.media(e.manifest.playlists[0]));var f=Il(0,b.srcUrl);return b.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:a.location.href,playlists:[{uri:b.srcUrl,id:f,resolvedUri:b.srcUrl,attributes:{}}]},b.master.playlists[f]=b.master.playlists[0],b.master.playlists[b.srcUrl]=b.master.playlists[0],b.haveMetadata(d,b.srcUrl,f),b.trigger("loadedmetadata")}})}}]),c}(Cl),Nl=ib.createTimeRange,Ol=function(a,b){var c=0,d=b-a.mediaSequence,e=a.segments[d];if(e){if("undefined"!=typeof e.start)return{result:e.start,precise:!0};if("undefined"!=typeof e.end)return{result:e.end-e.duration,precise:!0}}for(;d--;){if(e=a.segments[d],"undefined"!=typeof e.end)return{result:c+e.end,precise:!0};if(c+=e.duration,"undefined"!=typeof e.start)return{result:c+e.start,precise:!0}}return{result:c,precise:!1}},Pl=function(a,b){for(var c=0,d=void 0,e=b-a.mediaSequence;e<a.segments.length;e++){if(d=a.segments[e],"undefined"!=typeof d.start)return{result:d.start-c,precise:!0};if(c+=d.duration,"undefined"!=typeof d.end)return{result:d.end-c,precise:!0}}return{result:-1,precise:!1}},Ql=function(a,b,c){var d=void 0,e=void 0;return"undefined"==typeof b&&(b=a.mediaSequence+a.segments.length),b<a.mediaSequence?0:(d=Ol(a,b),d.precise?d.result:(e=Pl(a,b),e.precise?e.result:d.result+c))},Rl=function(b,c,d){if(!b)return 0;if("number"!=typeof d&&(d=0),"undefined"==typeof c){if(b.totalDuration)return b.totalDuration;if(!b.endList)return a.Infinity}return Ql(b,c,d)},Sl=function(a,b,c){var d=0;if(b>c){var e=[c,b];b=e[0],c=e[1]}if(b<0){for(var f=b;f<Math.min(0,c);f++)d+=a.targetDuration;b=0}for(var g=b;g<c;g++)d+=a.segments[g].duration;return d},Tl=function(a,b){if(!a.segments.length)return 0;var c=a.segments.length,d=a.segments[c-1].duration||a.targetDuration,e="number"==typeof b?b:d+2*a.targetDuration;if(0===e)return c;for(var f=0;c--&&(f+=a.segments[c].duration,!(f>=e)););return Math.max(0,c)},Ul=function(a,b,c,d){if(!a||!a.segments)return null;if(a.endList)return Rl(a);if(null===b)return null;b=b||0;var e=c?Tl(a,d):a.segments.length;return Ql(a,a.mediaSequence+e,b)},Vl=function(a,b,c){var d=!0,e=b||0,f=Ul(a,b,d,c);return null===f?Nl():Nl(e,f)},Wl=function(a){return a-Math.floor(a)===0},Xl=function(a,b){if(Wl(b))return b+.1*a;for(var c=b.toString().split(".")[1].length,d=1;d<=c;d++){var e=Math.pow(10,d),f=b*e;if(Wl(f)||d===c)return(f+a)/e}},Yl=Xl.bind(null,1),Zl=Xl.bind(null,-1),$l=function(a,b,c,d){var e=void 0,f=void 0,g=a.segments.length,h=b-d;if(h<0){if(c>0)for(e=c-1;e>=0;e--)if(f=a.segments[e],h+=Zl(f.duration),h>0)return{mediaIndex:e,startTime:d-Sl(a,c,e)};return{mediaIndex:0,startTime:b}}if(c<0){for(e=c;e<0;e++)if(h-=a.targetDuration,h<0)return{mediaIndex:0,startTime:b};c=0}for(e=c;e<g;e++)if(f=a.segments[e],h-=Yl(f.duration),h<0)return{mediaIndex:e,startTime:d+Sl(a,c,e)};return{mediaIndex:g-1,startTime:b}},_l=function(a){return a.excludeUntil&&a.excludeUntil>Date.now()},am=function(a){return a.excludeUntil&&a.excludeUntil===1/0},bm=function(a){var b=_l(a);return!a.disabled&&!b},cm=function(a){return a.disabled},dm=function(a){for(var b=0;b<a.segments.length;b++)if(a.segments[b].key)return!0;return!1},em=function(a){for(var b=0;b<a.segments.length;b++)if(a.segments[b].map)return!0;return!1},fm=function(a,b){return b.attributes&&b.attributes[a]},gm=function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!fm("BANDWIDTH",c))return NaN;var e=a*c.attributes.BANDWIDTH;return(e-8*d)/b},hm=function(a,b){if(1===a.playlists.length)return!0;var c=b.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===a.playlists.filter(function(a){return!!bm(a)&&(a.attributes.BANDWIDTH||0)<c}).length},im={duration:Rl,seekable:Vl,safeLiveIndex:Tl,getMediaInfoForTime:$l,isEnabled:bm,isDisabled:cm,isBlacklisted:_l,isIncompatible:am,playlistEnd:Ul,isAes:dm,isFmp4:em,hasAttribute:fm,estimateSegmentRequestTime:gm,isLowestEnabledRendition:hm},jm=ib.xhr,km=ib.mergeOptions,lm=function(){var a=function a(b,c){b=km({timeout:45e3},b);var d=a.beforeRequest||ib.Hls.xhr.beforeRequest;if(d&&"function"==typeof d){var e=d(b);e&&(b=e)}var f=jm(b,function(a,b){var d=f.response;!a&&d&&(f.responseTime=Date.now(),f.roundTripTime=f.responseTime-f.requestTime,f.bytesReceived=d.byteLength||d.length,f.bandwidth||(f.bandwidth=Math.floor(f.bytesReceived/f.roundTripTime*8*1e3))),b.headers&&(f.responseHeaders=b.headers),a&&"ETIMEDOUT"===a.code&&(f.timedout=!0),a||f.aborted||200===b.statusCode||206===b.statusCode||0===b.statusCode||(a=new Error("XHR Failed with a response of: "+(f&&(d||f.responseText)))),c(a,f)}),g=f.abort;return f.abort=function(){return f.aborted=!0,g.apply(f,arguments)},f.uri=b.uri,f.requestTime=Date.now(),f};return a},mm=function(a){var b=void 0,c=void 0;return c=a.offset+a.length-1,b=a.offset,"bytes="+b+"-"+c},nm=function(a){var b={};return a.byterange&&(b.Range=mm(a.byterange)),b},om=function(a,b){return a.start(b)+"-"+a.end(b)},pm=function(a,b){var c=a.toString(16);return"00".substring(0,2-c.length)+c+(b%2?" ":"")},qm=function(a){return a>=32&&a<126?String.fromCharCode(a):"."},rm=function(a){var b={};return Object.keys(a).forEach(function(c){var d=a[c];ArrayBuffer.isView(d)?b[c]={bytes:d.buffer,byteOffset:d.byteOffset,byteLength:d.byteLength}:b[c]=d}),b},sm=function(a){var b=a.byterange||{length:1/0,offset:0};return[b.length,b.offset,a.resolvedUri].join(",")},tm=function(a){return a.resolvedUri},um=function(a){for(var b=Array.prototype.slice.call(a),c=16,d="",e=void 0,f=void 0,g=0;g<b.length/c;g++)e=b.slice(g*c,g*c+c).map(pm).join(""),f=b.slice(g*c,g*c+c).map(qm).join(""),d+=e+" "+f+"\n";return d},vm=function(a){var b=a.bytes;return um(b)},wm=function(a){var b="",c=void 0;for(c=0;c<a.length;c++)b+=om(a,c)+" ";return b},xm=Object.freeze({createTransferableMessage:rm,initSegmentId:sm,segmentKeyId:tm,hexDump:um,tagDump:vm,textRanges:wm}),ym=.25,zm=function(a,b){if(!b.dateTimeObject)return null;var c=b.videoTimingInfo.transmuxerPrependedSeconds,d=b.videoTimingInfo.transmuxedPresentationStart,e=d+c,f=a-e;return new Date(b.dateTimeObject.getTime()+1e3*f)},Am=function(a){return a.transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds},Bm=function(a,b){var c=void 0;try{c=new Date(a)}catch(a){return null}if(!b||!b.segments||0===b.segments.length)return null;var d=b.segments[0];if(c<d.dateTimeObject)return null;for(var e=0;e<b.segments.length-1;e++){d=b.segments[e];var f=b.segments[e+1].dateTimeObject;if(c<f)break}var g=b.segments[b.segments.length-1],h=g.dateTimeObject,i=g.videoTimingInfo?Am(g.videoTimingInfo):g.duration+g.duration*ym,j=new Date(h.getTime()+1e3*i);return c>j?null:(c>h&&(d=g),{segment:d,estimatedStart:d.videoTimingInfo?d.videoTimingInfo.transmuxedPresentationStart:im.duration(b,b.mediaSequence+b.segments.indexOf(d)),type:d.videoTimingInfo?"accurate":"estimate"})},Cm=function(a,b){if(!b||!b.segments||0===b.segments.length)return null;for(var c=0,d=void 0,e=0;e<b.segments.length&&(d=b.segments[e],c=d.videoTimingInfo?d.videoTimingInfo.transmuxedPresentationEnd:c+d.duration,!(a<=c));e++);var f=b.segments[b.segments.length-1];if(f.videoTimingInfo&&f.videoTimingInfo.transmuxedPresentationEnd<a)return null;if(a>c){if(a>c+f.duration*ym)return null;d=f}return{segment:d,estimatedStart:d.videoTimingInfo?d.videoTimingInfo.transmuxedPresentationStart:c-d.duration,type:d.videoTimingInfo?"accurate":"estimate"}},Dm=function(a,b){var c=void 0,d=void 0;try{c=new Date(a),d=new Date(b)}catch(a){}var e=c.getTime(),f=d.getTime();return(f-e)/1e3},Em=function(a){if(!a.segments||0===a.segments.length)return!1;for(var b=0;b<a.segments.length;b++){var c=a.segments[b];if(!c.dateTimeObject)return!1}return!0},Fm=function(a){var b=a.playlist,c=a.time,d=void 0===c?void 0:c,e=a.callback;if(!e)throw new Error("getProgramTime: callback must be provided");if(!b||void 0===d)return e({message:"getProgramTime: playlist and time must be provided"});var f=Cm(d,b);if(!f)return e({message:"valid programTime was not found"});if("estimate"===f.type)return e({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:f.estimatedStart});var g={mediaSeconds:d},h=zm(d,f.segment);return h&&(g.programDateTime=h.toISOString()),e(null,g)},Gm=function a(b){var c=b.programTime,d=b.playlist,e=b.retryCount,f=void 0===e?2:e,g=b.seekTo,h=b.pauseAfterSeek,i=void 0===h||h,j=b.tech,k=b.callback;if(!k)throw new Error("seekToProgramTime: callback must be provided");if("undefined"==typeof c||!d||!g)return k({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!d.endList&&!j.hasStarted_)return k({message:"player must be playing a live stream to start buffering"});if(!Em(d))return k({message:"programDateTime tags must be provided in the manifest "+d.resolvedUri});var l=Bm(c,d);if(!l)return k({message:c+" was not found in the stream"});var m=l.segment,n=Dm(m.dateTimeObject,c);if("estimate"===l.type)return 0===f?k({message:c+" is not buffered yet. Try again"}):(g(l.estimatedStart+n),void j.one("seeked",function(){a({programTime:c,playlist:d,retryCount:f-1,seekTo:g,pauseAfterSeek:i,tech:j,callback:k})}));var o=m.start+n,p=function(){return k(null,j.currentTime())};j.one("seeked",p),i&&j.pause(),g(o)},Hm=1/30,Im=3*Hm,Jm=function(a,b){var c=[],d=void 0;if(a&&a.length)for(d=0;d<a.length;d++)b(a.start(d),a.end(d))&&c.push([a.start(d),a.end(d)]);return ib.createTimeRanges(c)},Km=function(a,b){return Jm(a,function(a,c){return a-Im<=b&&c+Im>=b})},Lm=function(a,b){return Jm(a,function(a){return a-Hm>=b})},Mm=function(a){if(a.length<2)return ib.createTimeRanges();for(var b=[],c=1;c<a.length;c++){var d=a.end(c-1),e=a.start(c);b.push([d,e])}return ib.createTimeRanges(b)},Nm=function(a){var b=[];if(!a||!a.length)return"";for(var c=0;c<a.length;c++)b.push(a.start(c)+" => "+a.end(c));return b.join(", ")},Om=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=a.length?a.end(a.length-1):0;return(d-b)/c},Pm=function(a){for(var b=[],c=0;c<a.length;c++)b.push({start:a.start(c),end:a.end(c)});return b},Qm=function(a,b,c){var d=b.player_;if(c.captions&&c.captions.length){a.inbandTextTracks_||(a.inbandTextTracks_={});for(var e in c.captionStreams)if(!a.inbandTextTracks_[e]){d.tech_.trigger({type:"usage",name:"hls-608"});var f=d.textTracks().getTrackById(e);f?a.inbandTextTracks_[e]=f:a.inbandTextTracks_[e]=d.addRemoteTextTrack({kind:"captions",id:e,label:e},!1).track}}c.metadata&&c.metadata.length&&!a.metadataTrack_&&(a.metadataTrack_=d.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,a.metadataTrack_.inBandMetadataTrackDispatchType=c.metadata.dispatchType)},Rm=function(a,b,c){var d=void 0,e=void 0;if(c&&c.cues)for(d=c.cues.length;d--;)e=c.cues[d],e.startTime<=b&&e.endTime>=a&&c.removeCue(e)},Sm=function(a){Object.defineProperties(a.frame,{id:{get:function(){return ib.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),a.value.key}},value:{get:function(){return ib.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),a.value.data}},privateData:{get:function(){return ib.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),a.value.data}}})},Tm=function(a){var b=void 0;return b=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a},Um=function(b,c,d){var e=a.WebKitDataCue||a.VTTCue;if(c&&c.forEach(function(a){var b=a.stream;this.inbandTextTracks_[b].addCue(new e(a.startTime+this.timestampOffset,a.endTime+this.timestampOffset,a.text))},b),d){var f=Tm(b.mediaSource_.duration);if(d.forEach(function(b){var c=b.cueTime+this.timestampOffset;!("number"!=typeof c||a.isNaN(c)||c<0)&&c<1/0&&b.frames.forEach(function(a){var b=new e(c,c,a.value||a.url||a.data||"");b.frame=a,b.value=a,Sm(b),this.metadataTrack_.addCue(b)},this)},b),b.metadataTrack_&&b.metadataTrack_.cues&&b.metadataTrack_.cues.length){for(var g=b.metadataTrack_.cues,h=[],i=0;i<g.length;i++)g[i]&&h.push(g[i]);var j=h.reduce(function(a,b){var c=a[b.startTime]||[];return c.push(b),a[b.startTime]=c,a},{}),k=Object.keys(j).sort(function(a,b){return Number(a)-Number(b)});k.forEach(function(a,b){var c=j[a],d=Number(k[b+1])||f;c.forEach(function(a){a.endTime=d})})}}},Vm="undefined"!=typeof window?window:{},Wm="undefined"==typeof Symbol?"__target":Symbol(),Xm="application/javascript",Ym=Vm.BlobBuilder||Vm.WebKitBlobBuilder||Vm.MozBlobBuilder||Vm.MSBlobBuilder,Zm=Vm.URL||Vm.webkitURL||Zm&&Zm.msURL,$m=Vm.Worker;if($m){var _m,an=rc("self.onmessage = function () {}"),bn=new Uint8Array(1);try{_m=new $m(an),_m.postMessage(bn,[bn.buffer])}catch(a){$m=null}finally{Zm.revokeObjectURL(an),_m&&_m.terminate()}}var cn=new qc("./transmuxer-worker.worker.js",function(a,b){var c=this;(function(){var a=function(){this.init=function(){var a={};this.on=function(b,c){a[b]||(a[b]=[]),a[b]=a[b].concat(c)},this.off=function(b,c){var d;return!!a[b]&&(d=a[b].indexOf(c),a[b]=a[b].slice(),a[b].splice(d,1),d>-1)},this.trigger=function(b){var c,d,e,f;if(c=a[b])if(2===arguments.length)for(e=c.length,d=0;d<e;++d)c[d].call(this,arguments[1]);else{for(f=[],d=arguments.length,d=1;d<arguments.length;++d)f.push(arguments[d]);for(e=c.length,d=0;d<e;++d)c[d].apply(this,f)}},this.dispose=function(){a={}}}};a.prototype.pipe=function(a){return this.on("data",function(b){a.push(b)}),this.on("done",function(b){a.flush(b)}),this.on("partialdone",function(b){a.partialFlush(b)}),this.on("endedtimeline",function(b){a.endTimeline(b)}),this.on("reset",function(b){a.reset(b)}),a},a.prototype.push=function(a){this.trigger("data",a)},a.prototype.flush=function(a){this.trigger("done",a)},a.prototype.partialFlush=function(a){this.trigger("partialdone",a)},a.prototype.endTimeline=function(a){this.trigger("endedtimeline",a)},a.prototype.reset=function(a){this.trigger("reset",a)};var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=a,N=Math.pow(2,32)-1;!function(){var a;if(y={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(a in y)y.hasOwnProperty(a)&&(y[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);z=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),B=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),A=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),D=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),E={video:C,audio:D},H=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),G=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),J=I,K=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=I,F=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),b=function(a){var b,c,d,e=[],f=0;for(b=1;b<arguments.length;b++)e.push(arguments[b]);for(b=e.length;b--;)f+=e[b].byteLength;for(c=new Uint8Array(f+8),d=new DataView(c.buffer,c.byteOffset,c.byteLength),d.setUint32(0,c.byteLength),c.set(a,4),b=0,f=8;b<e.length;b++)c.set(e[b],f),f+=e[b].byteLength;return c},d=function(){return b(y.dinf,b(y.dref,H))},e=function(a){return b(y.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,a.audioobjecttype<<3|a.samplingfrequencyindex>>>1,a.samplingfrequencyindex<<7|a.channelcount<<3,6,1,2]))},f=function(){return b(y.ftyp,z,A,z,B)},r=function(a){return b(y.hdlr,E[a])},g=function(a){return b(y.mdat,a)},q=function(a){var c=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,a.duration>>>24&255,a.duration>>>16&255,a.duration>>>8&255,255&a.duration,85,196,0,0]);return a.samplerate&&(c[12]=a.samplerate>>>24&255,c[13]=a.samplerate>>>16&255,c[14]=a.samplerate>>>8&255,c[15]=255&a.samplerate),b(y.mdhd,c)},p=function(a){return b(y.mdia,q(a),r(a.type),i(a))},h=function(a){return b(y.mfhd,new Uint8Array([0,0,0,0,(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a]))},i=function(a){return b(y.minf,"video"===a.type?b(y.vmhd,F):b(y.smhd,G),d(),t(a))},j=function(a,c){for(var d=[],e=c.length;e--;)d[e]=v(c[e]);return b.apply(null,[y.moof,h(a)].concat(d))},k=function(a){for(var c=a.length,d=[];c--;)d[c]=n(a[c]);return b.apply(null,[y.moov,m(4294967295)].concat(d).concat(l(a)))},l=function(a){for(var c=a.length,d=[];c--;)d[c]=w(a[c]);return b.apply(null,[y.mvex].concat(d))},m=function(a){var c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return b(y.mvhd,c)},s=function(a){var c,d,e=a.samples||[],f=new Uint8Array(4+e.length);for(d=0;d<e.length;d++)c=e[d].flags,f[d+4]=c.dependsOn<<4|c.isDependedOn<<2|c.hasRedundancy;return b(y.sdtp,f)},t=function(a){return b(y.stbl,u(a),b(y.stts,L),b(y.stsc,J),b(y.stsz,K),b(y.stco,I))},function(){var a,c;u=function(d){return b(y.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===d.type?a(d):c(d))},a=function(a){var c,d,e=a.sps||[],f=a.pps||[],g=[],h=[];for(c=0;c<e.length;c++)g.push((65280&e[c].byteLength)>>>8),g.push(255&e[c].byteLength),g=g.concat(Array.prototype.slice.call(e[c]));for(c=0;c<f.length;c++)h.push((65280&f[c].byteLength)>>>8),h.push(255&f[c].byteLength),h=h.concat(Array.prototype.slice.call(f[c]));if(d=[y.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&a.width)>>8,255&a.width,(65280&a.height)>>8,255&a.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),b(y.avcC,new Uint8Array([1,a.profileIdc,a.profileCompatibility,a.levelIdc,255].concat([e.length],g,[f.length],h))),b(y.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],a.sarRatio){var i=a.sarRatio[0],j=a.sarRatio[1];d.push(b(y.pasp,new Uint8Array([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i,(4278190080&j)>>24,(16711680&j)>>16,(65280&j)>>8,255&j])))}return b.apply(null,d)},c=function(a){return b(y.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&a.channelcount)>>8,255&a.channelcount,(65280&a.samplesize)>>8,255&a.samplesize,0,0,0,0,(65280&a.samplerate)>>8,255&a.samplerate,0,0]),e(a))}}(),o=function(a){var c=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,0,(4278190080&a.duration)>>24,(16711680&a.duration)>>16,(65280&a.duration)>>8,255&a.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&a.width)>>8,255&a.width,0,0,(65280&a.height)>>8,255&a.height,0,0]);return b(y.tkhd,c)},v=function(a){var c,d,e,f,g,h,i;return c=b(y.tfhd,new Uint8Array([0,0,0,58,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),h=Math.floor(a.baseMediaDecodeTime/(N+1)),i=Math.floor(a.baseMediaDecodeTime%(N+1)),d=b(y.tfdt,new Uint8Array([1,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),g=92,"audio"===a.type?(e=x(a,g),b(y.traf,c,d,e)):(f=s(a),e=x(a,f.length+g),b(y.traf,c,d,e,f))},n=function(a){return a.duration=a.duration||4294967295,b(y.trak,o(a),p(a))},w=function(a){var c=new Uint8Array([0,0,0,0,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==a.type&&(c[c.length-1]=0),b(y.trex,c)},function(){var a,c,d;d=function(a,b){var c=0,d=0,e=0,f=0;return a.length&&(void 0!==a[0].duration&&(c=1),void 0!==a[0].size&&(d=2),void 0!==a[0].flags&&(e=4),void 0!==a[0].compositionTimeOffset&&(f=8)),[0,0,c|d|e|f,1,(4278190080&a.length)>>>24,(16711680&a.length)>>>16,(65280&a.length)>>>8,255&a.length,(4278190080&b)>>>24,(16711680&b)>>>16,(65280&b)>>>8,255&b]},c=function(a,c){var e,f,g,h,i,j;for(h=a.samples||[],c+=20+16*h.length,g=d(h,c),f=new Uint8Array(g.length+16*h.length),f.set(g),e=g.length,j=0;j<h.length;j++)i=h[j],f[e++]=(4278190080&i.duration)>>>24,f[e++]=(16711680&i.duration)>>>16,f[e++]=(65280&i.duration)>>>8,f[e++]=255&i.duration,f[e++]=(4278190080&i.size)>>>24,f[e++]=(16711680&i.size)>>>16,f[e++]=(65280&i.size)>>>8,f[e++]=255&i.size,f[e++]=i.flags.isLeading<<2|i.flags.dependsOn,f[e++]=i.flags.isDependedOn<<6|i.flags.hasRedundancy<<4|i.flags.paddingValue<<1|i.flags.isNonSyncSample,f[e++]=61440&i.flags.degradationPriority,f[e++]=15&i.flags.degradationPriority,f[e++]=(4278190080&i.compositionTimeOffset)>>>24,f[e++]=(16711680&i.compositionTimeOffset)>>>16,f[e++]=(65280&i.compositionTimeOffset)>>>8,f[e++]=255&i.compositionTimeOffset;return b(y.trun,f)},a=function(a,c){var e,f,g,h,i,j;for(h=a.samples||[],c+=20+8*h.length,g=d(h,c),e=new Uint8Array(g.length+8*h.length),e.set(g),f=g.length,j=0;j<h.length;j++)i=h[j],e[f++]=(4278190080&i.duration)>>>24,e[f++]=(16711680&i.duration)>>>16,e[f++]=(65280&i.duration)>>>8,e[f++]=255&i.duration,e[f++]=(4278190080&i.size)>>>24,e[f++]=(16711680&i.size)>>>16,e[f++]=(65280&i.size)>>>8,e[f++]=255&i.size;return b(y.trun,e)},x=function(b,d){return"audio"===b.type?a(b,d):c(b,d)}}();var O,P,Q,R,S,T,U,V,W={ftyp:f,mdat:g,moof:j,moov:k,initSegment:function(a){var b,c=f(),d=k(a);return b=new Uint8Array(c.byteLength+d.byteLength),b.set(c),b.set(d,c.byteLength),b}},X=function(a){var b,c,d=[],e=[];for(e.byteLength=0,e.nalCount=0,e.duration=0,d.byteLength=0,b=0;b<a.length;b++)c=a[b],"access_unit_delimiter_rbsp"===c.nalUnitType?(d.length&&(d.duration=c.dts-d.dts,e.byteLength+=d.byteLength,e.nalCount+=d.length,e.duration+=d.duration,e.push(d)),d=[c],d.byteLength=c.data.byteLength,d.pts=c.pts,d.dts=c.dts):("slice_layer_without_partitioning_rbsp_idr"===c.nalUnitType&&(d.keyFrame=!0),d.duration=c.dts-d.dts,d.byteLength+=c.data.byteLength,d.push(c));return e.length&&(!d.duration||d.duration<=0)&&(d.duration=e[e.length-1].duration),e.byteLength+=d.byteLength,e.nalCount+=d.length,e.duration+=d.duration,e.push(d),e},Y=function(a){var b,c,d=[],e=[];for(d.byteLength=0,d.nalCount=0,d.duration=0,d.pts=a[0].pts,d.dts=a[0].dts,e.byteLength=0,e.nalCount=0,e.duration=0,e.pts=a[0].pts,e.dts=a[0].dts,b=0;b<a.length;b++)c=a[b],c.keyFrame?(d.length&&(e.push(d),e.byteLength+=d.byteLength,e.nalCount+=d.nalCount,e.duration+=d.duration),d=[c],d.nalCount=c.length,d.byteLength=c.byteLength,d.pts=c.pts,d.dts=c.dts,d.duration=c.duration):(d.duration+=c.duration,d.nalCount+=c.length,d.byteLength+=c.byteLength,d.push(c));return e.length&&d.duration<=0&&(d.duration=e[e.length-1].duration),e.byteLength+=d.byteLength,e.nalCount+=d.nalCount,e.duration+=d.duration,e.push(d),e},Z=function(a){var b;return!a[0][0].keyFrame&&a.length>1&&(b=a.shift(),a.byteLength-=b.byteLength,a.nalCount-=b.nalCount,a[0][0].dts=b.dts,a[0][0].pts=b.pts,a[0][0].duration+=b.duration),a},$=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},_=function(a,b){var c=$();return c.dataOffset=b,c.compositionTimeOffset=a.pts-a.dts,c.duration=a.duration,c.size=4*a.length,c.size+=a.byteLength,a.keyFrame&&(c.flags.dependsOn=2,c.flags.isNonSyncSample=0),c},aa=function(a,b){var c,d,e,f,g,h=b||0,i=[];for(c=0;c<a.length;c++)for(f=a[c],d=0;d<f.length;d++)g=f[d],e=_(g,h),h+=e.size,i.push(e);return i},ba=function(a){var b,c,d,e,f,g,h=0,i=a.byteLength,j=a.nalCount,k=i+4*j,l=new Uint8Array(k),m=new DataView(l.buffer);for(b=0;b<a.length;b++)for(e=a[b],c=0;c<e.length;c++)for(f=e[c],d=0;d<f.length;d++)g=f[d],m.setUint32(h,g.data.byteLength),h+=4,l.set(g.data,h),h+=g.data.byteLength;return l},ca=function(a,b){var c,d=b||0,e=[];return c=_(a,d),e.push(c),e},da=function(a){var b,c,d=0,e=a.byteLength,f=a.length,g=e+4*f,h=new Uint8Array(g),i=new DataView(h.buffer);for(b=0;b<a.length;b++)c=a[b],i.setUint32(d,c.data.byteLength),d+=4,h.set(c.data,d),d+=c.data.byteLength;return h},ea={groupNalsIntoFrames:X,groupFramesIntoGops:Y,extendFirstKeyFrame:Z,generateSampleTable:aa,concatenateNalData:ba,generateSampleTableForFrame:ca,concatenateNalDataForFrame:da},fa=[33,16,5,32,164,27],ga=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ha=function(a){for(var b=[];a--;)b.push(0);return b},ia=function(a){return Object.keys(a).reduce(function(b,c){return b[c]=new Uint8Array(a[c].reduce(function(a,b){return a.concat(b)},[])),b},{})},ja=function(){if(!O){var a={96e3:[fa,[227,64],ha(154),[56]],88200:[fa,[231],ha(170),[56]],64e3:[fa,[248,192],ha(240),[56]],48e3:[fa,[255,192],ha(268),[55,148,128],ha(54),[112]],44100:[fa,[255,192],ha(268),[55,163,128],ha(84),[112]],32e3:[fa,[255,192],ha(268),[55,234],ha(226),[112]],24e3:[fa,[255,192],ha(268),[55,255,128],ha(268),[111,112],ha(126),[224]],16e3:[fa,[255,192],ha(268),[55,255,128],ha(268),[111,255],ha(269),[223,108],ha(195),[1,192]],12e3:[ga,ha(268),[3,127,248],ha(268),[6,255,240],ha(268),[13,255,224],ha(268),[27,253,128],ha(259),[56]],11025:[ga,ha(268),[3,127,248],ha(268),[6,255,240],ha(268),[13,255,224],ha(268),[27,255,192],ha(268),[55,175,128],ha(108),[112]],
8e3:[ga,ha(268),[3,121,16],ha(47),[7]]};O=ia(a)}return O},ka=9e4;P=function(a){return a*ka},Q=function(a,b){return a*b},R=function(a){return a/ka},S=function(a,b){return a/b},T=function(a,b){return P(S(a,b))},U=function(a,b){return Q(R(a),b)},V=function(a,b,c){return R(c?a:a-b)};var la={ONE_SECOND_IN_TS:ka,secondsToVideoTs:P,secondsToAudioTs:Q,videoTsToSeconds:R,audioTsToSeconds:S,audioTsToVideoTs:T,videoTsToAudioTs:U,metadataTsToSeconds:V},ma=function(a){var b,c,d=0;for(b=0;b<a.length;b++)c=a[b],d+=c.data.byteLength;return d},na=function(a,b,c,d){var e,f,g,h,i=0,j=0,k=0,l=0;if(b.length&&(e=la.audioTsToVideoTs(a.baseMediaDecodeTime,a.samplerate),i=Math.ceil(la.ONE_SECOND_IN_TS/(a.samplerate/1024)),c&&d&&(j=e-Math.max(c,d),k=Math.floor(j/i),l=k*i),!(k<1||l>la.ONE_SECOND_IN_TS/2))){for(f=ja()[a.samplerate],f||(f=b[0].data),g=0;g<k;g++)h=b[0],b.splice(0,0,{data:f,dts:h.dts-i,pts:h.pts-i});a.baseMediaDecodeTime-=Math.floor(la.videoTsToAudioTs(l,a.samplerate))}},oa=function(a,b,c){return b.minSegmentDts>=c?a:(b.minSegmentDts=1/0,a.filter(function(a){return a.dts>=c&&(b.minSegmentDts=Math.min(b.minSegmentDts,a.dts),b.minSegmentPts=b.minSegmentDts,!0)}))},pa=function(a){var b,c,d=[];for(b=0;b<a.length;b++)c=a[b],d.push({size:c.data.byteLength,duration:1024});return d},qa=function(a){var b,c,d=0,e=new Uint8Array(ma(a));for(b=0;b<a.length;b++)c=a[b],e.set(c.data,d),d+=c.data.byteLength;return e},ra={prefixWithSilence:na,trimAdtsFramesByEarliestDts:oa,generateSampleTable:pa,concatenateFrameData:qa},sa=la.ONE_SECOND_IN_TS,ta=function(a,b){"number"==typeof b.pts&&(void 0===a.timelineStartInfo.pts&&(a.timelineStartInfo.pts=b.pts),void 0===a.minSegmentPts?a.minSegmentPts=b.pts:a.minSegmentPts=Math.min(a.minSegmentPts,b.pts),void 0===a.maxSegmentPts?a.maxSegmentPts=b.pts:a.maxSegmentPts=Math.max(a.maxSegmentPts,b.pts)),"number"==typeof b.dts&&(void 0===a.timelineStartInfo.dts&&(a.timelineStartInfo.dts=b.dts),void 0===a.minSegmentDts?a.minSegmentDts=b.dts:a.minSegmentDts=Math.min(a.minSegmentDts,b.dts),void 0===a.maxSegmentDts?a.maxSegmentDts=b.dts:a.maxSegmentDts=Math.max(a.maxSegmentDts,b.dts))},ua=function(a){delete a.minSegmentDts,delete a.maxSegmentDts,delete a.minSegmentPts,delete a.maxSegmentPts},va=function(a,b){var c,d,e=a.minSegmentDts;return b||(e-=a.timelineStartInfo.dts),c=a.timelineStartInfo.baseMediaDecodeTime,c+=e,c=Math.max(0,c),"audio"===a.type&&(d=a.samplerate/sa,c*=d,c=Math.floor(c)),c},wa={clearDtsInfo:ua,calculateTrackBaseMediaDecodeTime:va,collectDtsInfo:ta},xa=4,ya=128,za=function(a){for(var b=0,c={payloadType:-1,payloadSize:0},d=0,e=0;b<a.byteLength&&a[b]!==ya;){for(;255===a[b];)d+=255,b++;for(d+=a[b++];255===a[b];)e+=255,b++;if(e+=a[b++],!c.payload&&d===xa){c.payloadType=d,c.payloadSize=e,c.payload=a.subarray(b,b+e);break}b+=e,d=0,e=0}return c},Aa=function(a){return 181!==a.payload[0]?null:49!==(a.payload[1]<<8|a.payload[2])?null:"GA94"!==String.fromCharCode(a.payload[3],a.payload[4],a.payload[5],a.payload[6])?null:3!==a.payload[7]?null:a.payload.subarray(8,a.payload.length-1)},Ba=function(a,b){var c,d,e,f,g=[];if(!(64&b[0]))return g;for(d=31&b[0],c=0;c<d;c++)e=3*c,f={type:3&b[e+2],pts:a},4&b[e+2]&&(f.ccData=b[e+3]<<8|b[e+4],g.push(f));return g},Ca=function(a){for(var b,c,d=a.byteLength,e=[],f=1;f<d-2;)0===a[f]&&0===a[f+1]&&3===a[f+2]?(e.push(f+2),f+=2):f++;if(0===e.length)return a;b=d-e.length,c=new Uint8Array(b);var g=0;for(f=0;f<b;g++,f++)g===e[0]&&(g++,e.shift()),c[f]=a[g];return c},Da={parseSei:za,parseUserData:Aa,parseCaptionPackets:Ba,discardEmulationPreventionBytes:Ca,USER_DATA_REGISTERED_ITU_T_T35:xa},Ea=function a(){a.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ka(0,0),new Ka(0,1),new Ka(1,0),new Ka(1,1)],this.reset(),this.ccStreams_.forEach(function(a){a.on("data",this.trigger.bind(this,"data")),a.on("partialdone",this.trigger.bind(this,"partialdone")),a.on("done",this.trigger.bind(this,"done"))},this)};Ea.prototype=new M,Ea.prototype.push=function(a){var b,c,d;if("sei_rbsp"===a.nalUnitType&&(b=Da.parseSei(a.escapedRBSP),b.payloadType===Da.USER_DATA_REGISTERED_ITU_T_T35&&(c=Da.parseUserData(b)))){if(a.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(a.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));d=Da.parseCaptionPackets(a.pts,c),this.captionPackets_=this.captionPackets_.concat(d),this.latestDts_!==a.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=a.dts}},Ea.prototype.flushCCStreams=function(a){this.ccStreams_.forEach(function(b){return"flush"===a?b.flush():b.partialFlush()},this)},Ea.prototype.flushStream=function(a){return this.captionPackets_.length?(this.captionPackets_.forEach(function(a,b){a.presortIndex=b}),this.captionPackets_.sort(function(a,b){return a.pts===b.pts?a.presortIndex-b.presortIndex:a.pts-b.pts}),this.captionPackets_.forEach(function(a){a.type<2&&this.dispatchCea608Packet(a)},this),this.captionPackets_.length=0,void this.flushCCStreams(a)):void this.flushCCStreams(a)},Ea.prototype.flush=function(){return this.flushStream("flush")},Ea.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ea.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(a){a.reset()})},Ea.prototype.dispatchCea608Packet=function(a){this.setsTextOrXDSActive(a)?this.activeCea608Channel_[a.type]=null:this.setsChannel1Active(a)?this.activeCea608Channel_[a.type]=0:this.setsChannel2Active(a)&&(this.activeCea608Channel_[a.type]=1),null!==this.activeCea608Channel_[a.type]&&this.ccStreams_[(a.type<<1)+this.activeCea608Channel_[a.type]].push(a)},Ea.prototype.setsChannel1Active=function(a){return 4096===(30720&a.ccData)},Ea.prototype.setsChannel2Active=function(a){return 6144===(30720&a.ccData)},Ea.prototype.setsTextOrXDSActive=function(a){return 256===(28928&a.ccData)||4138===(30974&a.ccData)||6186===(30974&a.ccData)};var Fa={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ga=function(a){return null===a?"":(a=Fa[a]||a,String.fromCharCode(a))},Ha=14,Ia=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ja=function(){for(var a=[],b=Ha+1;b--;)a.push("");return a},Ka=function a(b,c){a.prototype.init.call(this),this.field_=b||0,this.dataChannel_=c||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(a){var b,c,d,e,f;if(b=32639&a.ccData,b===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096===(61440&b)?this.lastControlCode_=b:b!==this.PADDING_&&(this.lastControlCode_=null),d=b>>>8,e=255&b,b!==this.PADDING_)if(b===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(b===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(a.pts),this.flushDisplayed(a.pts),c=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=c,this.startPts_=a.pts;else if(b===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(a.pts);else if(b===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(a.pts);else if(b===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(a.pts);else if(b===this.CARRIAGE_RETURN_)this.clearFormatting(a.pts),this.flushDisplayed(a.pts),this.shiftRowsUp_(),this.startPts_=a.pts;else if(b===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(b===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(a.pts),this.displayed_=Ja();else if(b===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ja();else if(b===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(a.pts),this.displayed_=Ja()),this.mode_="paintOn",this.startPts_=a.pts;else if(this.isSpecialCharacter(d,e))d=(3&d)<<8,f=Ga(d|e),this[this.mode_](a.pts,f),this.column_++;else if(this.isExtCharacter(d,e))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),d=(3&d)<<8,f=Ga(d|e),this[this.mode_](a.pts,f),this.column_++;else if(this.isMidRowCode(d,e))this.clearFormatting(a.pts),this[this.mode_](a.pts," "),this.column_++,14===(14&e)&&this.addFormatting(a.pts,["i"]),1===(1&e)&&this.addFormatting(a.pts,["u"]);else if(this.isOffsetControlCode(d,e))this.column_+=3&e;else if(this.isPAC(d,e)){var g=Ia.indexOf(7968&b);"rollUp"===this.mode_&&(g-this.rollUpRows_+1<0&&(g=this.rollUpRows_-1),this.setRollUp(a.pts,g)),g!==this.row_&&(this.clearFormatting(a.pts),this.row_=g),1&e&&this.formatting_.indexOf("u")===-1&&this.addFormatting(a.pts,["u"]),16===(16&b)&&(this.column_=4*((14&b)>>1)),this.isColorPAC(e)&&14===(14&e)&&this.addFormatting(a.pts,["i"])}else this.isNormalChar(d)&&(0===e&&(e=null),f=Ga(d),f+=Ga(e),this[this.mode_](a.pts,f),this.column_+=f.length)}};Ka.prototype=new M,Ka.prototype.flushDisplayed=function(a){var b=this.displayed_.map(function(a){try{return a.trim()}catch(a){return""}}).join("\n").replace(/^\n+|\n+$/g,"");b.length&&this.trigger("data",{startPts:this.startPts_,endPts:a,text:b,stream:this.name_})},Ka.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ja(),this.nonDisplayed_=Ja(),this.lastControlCode_=null,this.column_=0,this.row_=Ha,this.rollUpRows_=2,this.formatting_=[]},Ka.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ka.prototype.isSpecialCharacter=function(a,b){return a===this.EXT_&&b>=48&&b<=63},Ka.prototype.isExtCharacter=function(a,b){return(a===this.EXT_+1||a===this.EXT_+2)&&b>=32&&b<=63},Ka.prototype.isMidRowCode=function(a,b){return a===this.EXT_&&b>=32&&b<=47},Ka.prototype.isOffsetControlCode=function(a,b){return a===this.OFFSET_&&b>=33&&b<=35},Ka.prototype.isPAC=function(a,b){return a>=this.BASE_&&a<this.BASE_+8&&b>=64&&b<=127},Ka.prototype.isColorPAC=function(a){return a>=64&&a<=79||a>=96&&a<=127},Ka.prototype.isNormalChar=function(a){return a>=32&&a<=127},Ka.prototype.setRollUp=function(a,b){if("rollUp"!==this.mode_&&(this.row_=Ha,this.mode_="rollUp",this.flushDisplayed(a),this.nonDisplayed_=Ja(),this.displayed_=Ja()),void 0!==b&&b!==this.row_)for(var c=0;c<this.rollUpRows_;c++)this.displayed_[b-c]=this.displayed_[this.row_-c],this.displayed_[this.row_-c]="";void 0===b&&(b=this.row_),this.topRow_=b-this.rollUpRows_+1},Ka.prototype.addFormatting=function(a,b){this.formatting_=this.formatting_.concat(b);var c=b.reduce(function(a,b){return a+"<"+b+">"},"");this[this.mode_](a,c)},Ka.prototype.clearFormatting=function(a){if(this.formatting_.length){var b=this.formatting_.reverse().reduce(function(a,b){return a+"</"+b+">"},"");this.formatting_=[],this[this.mode_](a,b)}},Ka.prototype.popOn=function(a,b){var c=this.nonDisplayed_[this.row_];c+=b,this.nonDisplayed_[this.row_]=c},Ka.prototype.rollUp=function(a,b){var c=this.displayed_[this.row_];c+=b,this.displayed_[this.row_]=c},Ka.prototype.shiftRowsUp_=function(){var a;for(a=0;a<this.topRow_;a++)this.displayed_[a]="";for(a=this.row_+1;a<Ha+1;a++)this.displayed_[a]="";for(a=this.topRow_;a<this.row_;a++)this.displayed_[a]=this.displayed_[a+1];this.displayed_[this.row_]=""},Ka.prototype.paintOn=function(a,b){var c=this.displayed_[this.row_];c+=b,this.displayed_[this.row_]=c};var La={CaptionStream:Ea,Cea608Stream:Ka},Ma={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Na=8589934592,Oa=4294967296,Pa="shared",Qa=function(a,b){var c=1;for(a>b&&(c=-1);Math.abs(b-a)>Oa;)a+=c*Na;return a},Ra=function a(b){var c,d;a.prototype.init.call(this),this.type_=b||Pa,this.push=function(a){this.type_!==Pa&&a.type!==this.type_||(void 0===d&&(d=a.dts),a.dts=Qa(a.dts,d),a.pts=Qa(a.pts,d),c=a.dts,this.trigger("data",a))},this.flush=function(){d=c,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){d=void 0,c=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ra.prototype=new M;var Sa,Ta={TimestampRolloverStream:Ra,handleRollover:Qa},Ua=function(a,b,c){var d,e="";for(d=b;d<c;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},Va=function(a,b,c){return decodeURIComponent(Ua(a,b,c))},Wa=function(a,b,c){return unescape(Ua(a,b,c))},Xa=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},Ya={TXXX:function(a){var b;if(3===a.data[0]){for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=Va(a.data,1,b),a.value=Va(a.data,b+1,a.data.length).replace(/\0*$/,"");break}a.data=a.value}},WXXX:function(a){var b;if(3===a.data[0])for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=Va(a.data,1,b),a.url=Va(a.data,b+1,a.data.length);break}},PRIV:function(a){var b;for(b=0;b<a.data.length;b++)if(0===a.data[b]){a.owner=Wa(a.data,0,b);break}a.privateData=a.data.subarray(b+1),a.data=a.privateData}};Sa=function(a){var b,c={debug:!(!a||!a.debug),descriptor:a&&a.descriptor},d=0,e=[],f=0;if(Sa.prototype.init.call(this),this.dispatchType=Ma.METADATA_STREAM_TYPE.toString(16),c.descriptor)for(b=0;b<c.descriptor.length;b++)this.dispatchType+=("00"+c.descriptor[b].toString(16)).slice(-2);this.push=function(a){var b,g,h,i,j,k;if("timed-metadata"===a.type){if(a.dataAlignmentIndicator&&(f=0,e.length=0),0===e.length&&(a.data.length<10||a.data[0]!=="I".charCodeAt(0)||a.data[1]!=="D".charCodeAt(0)||a.data[2]!=="3".charCodeAt(0)))return void c.debug;if(e.push(a),f+=a.data.byteLength,1===e.length&&(d=Xa(a.data.subarray(6,10)),d+=10),!(f<d)){for(b={data:new Uint8Array(d),frames:[],pts:e[0].pts,dts:e[0].dts},j=0;j<d;)b.data.set(e[0].data.subarray(0,d-j),j),j+=e[0].data.byteLength,f-=e[0].data.byteLength,e.shift();g=10,64&b.data[5]&&(g+=4,g+=Xa(b.data.subarray(10,14)),d-=Xa(b.data.subarray(16,20)));do{if(h=Xa(b.data.subarray(g+4,g+8)),h<1)return;if(k=String.fromCharCode(b.data[g],b.data[g+1],b.data[g+2],b.data[g+3]),i={id:k,data:b.data.subarray(g+10,g+h+10)},i.key=i.id,Ya[i.id]&&(Ya[i.id](i),"com.apple.streaming.transportStreamTimestamp"===i.owner)){var l=i.data,m=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;m*=4,m+=3&l[7],i.timeStamp=m,void 0===b.pts&&void 0===b.dts&&(b.pts=i.timeStamp,b.dts=i.timeStamp),this.trigger("timestamp",i)}b.frames.push(i),g+=10,g+=h}while(g<d);this.trigger("data",b)}}}},Sa.prototype=new M;var Za,$a,_a,ab=Sa,bb=Ta.TimestampRolloverStream,cb=188,db=71;Za=function(){var a=new Uint8Array(cb),b=0;Za.prototype.init.call(this),this.push=function(c){var d,e=0,f=cb;for(b?(d=new Uint8Array(c.byteLength+b),d.set(a.subarray(0,b)),d.set(c,b),b=0):d=c;f<d.byteLength;)d[e]!==db||d[f]!==db?(e++,f++):(this.trigger("data",d.subarray(e,f)),e+=cb,f+=cb);e<d.byteLength&&(a.set(d.subarray(e),0),b=d.byteLength-e)},this.flush=function(){b===cb&&a[0]===db&&(this.trigger("data",a),b=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){b=0,this.trigger("reset")}},Za.prototype=new M,$a=function(){var a,b,c,d;$a.prototype.init.call(this),d=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,a=function(a,d){var e=0;d.payloadUnitStartIndicator&&(e+=a[e]+1),"pat"===d.type?b(a.subarray(e),d):c(a.subarray(e),d)},b=function(a,b){b.section_number=a[7],b.last_section_number=a[8],d.pmtPid=(31&a[10])<<8|a[11],b.pmtPid=d.pmtPid},c=function(a,b){var c,e,f,g;if(1&a[5]){for(d.programMapTable={video:null,audio:null,"timed-metadata":{}},c=(15&a[1])<<8|a[2],e=3+c-4,f=(15&a[10])<<8|a[11],g=12+f;g<e;){var h=a[g],i=(31&a[g+1])<<8|a[g+2];h===Ma.H264_STREAM_TYPE&&null===d.programMapTable.video?d.programMapTable.video=i:h===Ma.ADTS_STREAM_TYPE&&null===d.programMapTable.audio?d.programMapTable.audio=i:h===Ma.METADATA_STREAM_TYPE&&(d.programMapTable["timed-metadata"][i]=h),g+=((15&a[g+3])<<8|a[g+4])+5}b.programMapTable=d.programMapTable}},this.push=function(b){var c={},d=4;if(c.payloadUnitStartIndicator=!!(64&b[1]),c.pid=31&b[1],c.pid<<=8,c.pid|=b[2],(48&b[3])>>>4>1&&(d+=b[d]+1),0===c.pid)c.type="pat",a(b.subarray(d),c),this.trigger("data",c);else if(c.pid===this.pmtPid)for(c.type="pmt",a(b.subarray(d),c),this.trigger("data",c);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([b,d,c]):this.processPes_(b,d,c)},this.processPes_=function(a,b,c){c.pid===this.programMapTable.video?c.streamType=Ma.H264_STREAM_TYPE:c.pid===this.programMapTable.audio?c.streamType=Ma.ADTS_STREAM_TYPE:c.streamType=this.programMapTable["timed-metadata"][c.pid],c.type="pes",c.data=a.subarray(b),this.trigger("data",c)}},$a.prototype=new M,$a.STREAM_TYPES={h264:27,adts:15},_a=function(){var a,b=this,c={data:[],size:0},d={data:[],size:0},e={data:[],size:0},f=function(a,b){var c;b.packetLength=6+(a[4]<<8|a[5]),b.dataAlignmentIndicator=0!==(4&a[6]),c=a[7],192&c&&(b.pts=(14&a[9])<<27|(255&a[10])<<20|(254&a[11])<<12|(255&a[12])<<5|(254&a[13])>>>3,b.pts*=4,b.pts+=(6&a[13])>>>1,b.dts=b.pts,64&c&&(b.dts=(14&a[14])<<27|(255&a[15])<<20|(254&a[16])<<12|(255&a[17])<<5|(254&a[18])>>>3,b.dts*=4,b.dts+=(6&a[18])>>>1)),b.data=a.subarray(9+a[8])},g=function(a,c,d){var e,g=new Uint8Array(a.size),h={type:c},i=0,j=0,k=!1;if(a.data.length&&!(a.size<9)){for(h.trackId=a.data[0].pid,i=0;i<a.data.length;i++)e=a.data[i],g.set(e.data,j),j+=e.data.byteLength;f(g,h),k="video"===c||h.packetLength<=a.size,(d||k)&&(a.size=0,a.data.length=0),k&&b.trigger("data",h)}};_a.prototype.init.call(this),this.push=function(f){({pat:function(){},pes:function(){var a,b;switch(f.streamType){case Ma.H264_STREAM_TYPE:a=c,b="video";break;case Ma.ADTS_STREAM_TYPE:a=d,b="audio";break;case Ma.METADATA_STREAM_TYPE:a=e,b="timed-metadata";break;default:return}f.payloadUnitStartIndicator&&g(a,b,!0),a.data.push(f),a.size+=f.data.byteLength},pmt:function(){var c={type:"metadata",tracks:[]};a=f.programMapTable,null!==a.video&&c.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.video,codec:"avc",type:"video"}),null!==a.audio&&c.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.audio,codec:"adts",type:"audio"}),b.trigger("data",c)}})[f.type]()},this.reset=function(){c.size=0,c.data.length=0,d.size=0,d.data.length=0,this.trigger("reset")},this.flushStreams_=function(){g(c,"video"),g(d,"audio"),g(e,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},_a.prototype=new M;var eb={PAT_PID:0,MP2T_PACKET_LENGTH:cb,TransportPacketStream:Za,TransportParseStream:$a,ElementaryStream:_a,TimestampRolloverStream:bb,CaptionStream:La.CaptionStream,Cea608Stream:La.Cea608Stream,MetadataStream:ab};for(var fb in Ma)Ma.hasOwnProperty(fb)&&(eb[fb]=Ma[fb]);var gb,hb=eb,ib=la.ONE_SECOND_IN_TS,jb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];gb=function(a){var b,c=0;gb.prototype.init.call(this),this.push=function(d){var e,f,g,h,i,j,k=0;if(a||(c=0),"audio"===d.type)for(b?(h=b,b=new Uint8Array(h.byteLength+d.data.byteLength),b.set(h),b.set(d.data,h.byteLength)):b=d.data;k+5<b.length;)if(255===b[k]&&240===(246&b[k+1])){if(f=2*(1&~b[k+1]),e=(3&b[k+3])<<11|b[k+4]<<3|(224&b[k+5])>>5,i=1024*((3&b[k+6])+1),j=i*ib/jb[(60&b[k+2])>>>2],g=k+e,b.byteLength<g)return;if(this.trigger("data",{pts:d.pts+c*j,dts:d.dts+c*j,sampleCount:i,audioobjecttype:(b[k+2]>>>6&3)+1,channelcount:(1&b[k+2])<<2|(192&b[k+3])>>>6,samplerate:jb[(60&b[k+2])>>>2],samplingfrequencyindex:(60&b[k+2])>>>2,samplesize:16,data:b.subarray(k+7+f,g)}),c++,b.byteLength===g)return void(b=void 0);b=b.subarray(g)}else k++},this.flush=function(){c=0,this.trigger("done")},this.reset=function(){b=void 0,this.trigger("reset")},this.endTimeline=function(){b=void 0,this.trigger("endedtimeline")}},gb.prototype=new M;var kb,lb=gb;kb=function(a){var b=a.byteLength,c=0,d=0;this.length=function(){return 8*b},this.bitsAvailable=function(){return 8*b+d},this.loadWord=function(){var e=a.byteLength-b,f=new Uint8Array(4),g=Math.min(4,b);if(0===g)throw new Error("no bytes available");f.set(a.subarray(e,e+g)),c=new DataView(f.buffer).getUint32(0),d=8*g,b-=g},this.skipBits=function(a){var e;d>a?(c<<=a,d-=a):(a-=d,e=Math.floor(a/8),a-=8*e,b-=e,this.loadWord(),c<<=a,d-=a)},this.readBits=function(a){var e=Math.min(d,a),f=c>>>32-e;return d-=e,d>0?c<<=e:b>0&&this.loadWord(),e=a-e,e>0?f<<e|this.readBits(e):f},this.skipLeadingZeros=function(){var a;for(a=0;a<d;++a)if(0!==(c&2147483648>>>a))return c<<=a,d-=a,a;return this.loadWord(),a+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var a=this.skipLeadingZeros();return this.readBits(a+1)-1},this.readExpGolomb=function(){var a=this.readUnsignedExpGolomb();return 1&a?1+a>>>1:-1*(a>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var mb,nb,ob,pb=kb;nb=function(){var a,b,c=0;nb.prototype.init.call(this),this.push=function(d){var e;b?(e=new Uint8Array(b.byteLength+d.data.byteLength),e.set(b),e.set(d.data,b.byteLength),b=e):b=d.data;for(var f=b.byteLength;c<f-3;c++)if(1===b[c+2]){a=c+5;break}for(;a<f;)switch(b[a]){case 0:if(0!==b[a-1]){a+=2;break}if(0!==b[a-2]){a++;break}c+3!==a-2&&this.trigger("data",b.subarray(c+3,a-2));do a++;while(1!==b[a]&&a<f);c=a-2,a+=3;break;case 1:if(0!==b[a-1]||0!==b[a-2]){a+=3;break}this.trigger("data",b.subarray(c+3,a-2)),c=a-2,a+=3;break;default:a+=3}b=b.subarray(c),a-=c,c=0},this.reset=function(){b=null,c=0,this.trigger("reset")},this.flush=function(){b&&b.byteLength>3&&this.trigger("data",b.subarray(c+3)),b=null,c=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},nb.prototype=new M,ob={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},mb=function(){var a,b,c,d,e,f,g,h=new nb;mb.prototype.init.call(this),a=this,this.push=function(a){"video"===a.type&&(b=a.trackId,c=a.pts,d=a.dts,h.push(a))},h.on("data",function(g){var h={trackId:b,pts:c,dts:d,data:g};switch(31&g[0]){case 5:h.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:h.nalUnitType="sei_rbsp",h.escapedRBSP=e(g.subarray(1));break;case 7:h.nalUnitType="seq_parameter_set_rbsp",h.escapedRBSP=e(g.subarray(1)),h.config=f(h.escapedRBSP);break;case 8:h.nalUnitType="pic_parameter_set_rbsp";break;case 9:h.nalUnitType="access_unit_delimiter_rbsp"}a.trigger("data",h)}),h.on("done",function(){a.trigger("done")}),h.on("partialdone",function(){a.trigger("partialdone")}),h.on("reset",function(){a.trigger("reset")}),h.on("endedtimeline",function(){a.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},g=function(a,b){var c,d,e=8,f=8;for(c=0;c<a;c++)0!==f&&(d=b.readExpGolomb(),f=(e+d+256)%256),e=0===f?e:f},e=function(a){for(var b,c,d=a.byteLength,e=[],f=1;f<d-2;)0===a[f]&&0===a[f+1]&&3===a[f+2]?(e.push(f+2),f+=2):f++;if(0===e.length)return a;b=d-e.length,c=new Uint8Array(b);var g=0;for(f=0;f<b;g++,f++)g===e[0]&&(g++,e.shift()),c[f]=a[g];return c},f=function(a){var b,c,d,e,f,h,i,j,k,l,m,n,o,p,q=0,r=0,s=0,t=0,u=1;if(b=new pb(a),c=b.readUnsignedByte(),e=b.readUnsignedByte(),d=b.readUnsignedByte(),b.skipUnsignedExpGolomb(),ob[c]&&(f=b.readUnsignedExpGolomb(),3===f&&b.skipBits(1),b.skipUnsignedExpGolomb(),b.skipUnsignedExpGolomb(),b.skipBits(1),b.readBoolean()))for(m=3!==f?8:12,p=0;p<m;p++)b.readBoolean()&&(p<6?g(16,b):g(64,b));if(b.skipUnsignedExpGolomb(),h=b.readUnsignedExpGolomb(),0===h)b.readUnsignedExpGolomb();else if(1===h)for(b.skipBits(1),b.skipExpGolomb(),b.skipExpGolomb(),i=b.readUnsignedExpGolomb(),p=0;p<i;p++)b.skipExpGolomb();if(b.skipUnsignedExpGolomb(),b.skipBits(1),j=b.readUnsignedExpGolomb(),k=b.readUnsignedExpGolomb(),l=b.readBits(1),0===l&&b.skipBits(1),b.skipBits(1),b.readBoolean()&&(q=b.readUnsignedExpGolomb(),r=b.readUnsignedExpGolomb(),s=b.readUnsignedExpGolomb(),t=b.readUnsignedExpGolomb()),b.readBoolean()&&b.readBoolean()){switch(o=b.readUnsignedByte()){case 1:n=[1,1];break;case 2:n=[12,11];break;case 3:n=[10,11];break;case 4:n=[16,11];break;case 5:n=[40,33];break;case 6:n=[24,11];break;case 7:n=[20,11];break;case 8:n=[32,11];break;case 9:n=[80,33];break;case 10:n=[18,11];break;case 11:n=[15,11];break;case 12:n=[64,33];break;case 13:n=[160,99];break;case 14:n=[4,3];break;case 15:n=[3,2];break;case 16:n=[2,1];break;case 255:n=[b.readUnsignedByte()<<8|b.readUnsignedByte(),b.readUnsignedByte()<<8|b.readUnsignedByte()]}n&&(u=n[0]/n[1])}return{profileIdc:c,levelIdc:d,profileCompatibility:e,width:Math.ceil((16*(j+1)-2*q-2*r)*u),height:(2-l)*(k+1)*16-2*s-2*t,sarRatio:n}}},mb.prototype=new M;var qb,rb={H264Stream:mb,NalByteStream:nb},sb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],tb=function(a){return a[0]==="I".charCodeAt(0)&&a[1]==="D".charCodeAt(0)&&a[2]==="3".charCodeAt(0)},ub=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},vb=function(a,b,c){var d,e="";for(d=b;d<c;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},wb=function(a,b,c){return unescape(vb(a,b,c))},xb=function(a,b){var c=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9],d=a[b+5],e=(16&d)>>4;return e?c+20:c+10},yb=function(a,b){var c=(224&a[b+5])>>5,d=a[b+4]<<3,e=6144&a[b+3];return e|d|c},zb=function(a,b){return a[b]==="I".charCodeAt(0)&&a[b+1]==="D".charCodeAt(0)&&a[b+2]==="3".charCodeAt(0)?"timed-metadata":a[b]&!0&&240===(240&a[b+1])?"audio":null},Ab=function(a){for(var b=0;b+5<a.length;){if(255===a[b]&&240===(246&a[b+1]))return sb[(60&a[b+2])>>>2];b++}return null},Bb=function(a){var b,c,d,e;b=10,64&a[5]&&(b+=4,b+=ub(a.subarray(10,14)));do{if(c=ub(a.subarray(b+4,b+8)),c<1)return null;if(e=String.fromCharCode(a[b],a[b+1],a[b+2],a[b+3]),"PRIV"===e){d=a.subarray(b+10,b+c+10);for(var f=0;f<d.byteLength;f++)if(0===d[f]){var g=wb(d,0,f);if("com.apple.streaming.transportStreamTimestamp"===g){var h=d.subarray(f+1),i=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;return i*=4,i+=3&h[7]}break}}b+=10,b+=c}while(b<a.byteLength);return null},Cb={isLikelyAacData:tb,parseId3TagSize:xb,parseAdtsSize:yb,parseType:zb,parseSampleRate:Ab,parseAacTimestamp:Bb};qb=function(){var a=new Uint8Array,b=0;qb.prototype.init.call(this),this.setTimestamp=function(a){b=a},this.push=function(c){var d,e,f,g,h=0,i=0;for(a.length?(g=a.length,a=new Uint8Array(c.byteLength+g),a.set(a.subarray(0,g)),a.set(c,g)):a=c;a.length-i>=3;)if(a[i]!=="I".charCodeAt(0)||a[i+1]!=="D".charCodeAt(0)||a[i+2]!=="3".charCodeAt(0))if(255!==(255&a[i])||240!==(240&a[i+1]))i++;else{if(a.length-i<7)break;if(h=Cb.parseAdtsSize(a,i),i+h>a.length)break;f={type:"audio",data:a.subarray(i,i+h),pts:b,dts:b},this.trigger("data",f),i+=h}else{if(a.length-i<10)break;if(h=Cb.parseId3TagSize(a,i),i+h>a.length)break;e={type:"timed-metadata",data:a.subarray(i,i+h)},this.trigger("data",e),i+=h}d=a.length-i,a=d>0?a.subarray(i):new Uint8Array},this.reset=function(){a=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){a=new Uint8Array,this.trigger("endedtimeline")}},qb.prototype=new M;var Db,Eb,Fb,Gb,Hb=qb,Ib=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Jb=Ib,Kb=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Lb=Kb,Mb=rb.H264Stream,Nb=Cb.isLikelyAacData,Ob=la.ONE_SECOND_IN_TS,Pb=function(a,b){var c;if(a.length!==b.length)return!1;for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},Qb=function(a,b,c,d,e,f){var g=c-b,h=d-b,i=e-c;return{start:{dts:a,pts:a+g},end:{dts:a+h,pts:a+i},prependedContentDuration:f,baseMediaDecodeTime:a}};Eb=function(a,b){var c=[],d=0,e=0,f=0,g=1/0;b=b||{},Eb.prototype.init.call(this),this.push=function(b){wa.collectDtsInfo(a,b),a&&Jb.forEach(function(c){a[c]=b[c]}),c.push(b)},this.setEarliestDts=function(a){e=a},this.setVideoBaseMediaDecodeTime=function(a){g=a},this.setAudioAppendStart=function(a){f=a},this.flush=function(){var h,i,j,k,l;return 0===c.length?void this.trigger("done","AudioSegmentStream"):(h=ra.trimAdtsFramesByEarliestDts(c,a,e),a.baseMediaDecodeTime=wa.calculateTrackBaseMediaDecodeTime(a,b.keepOriginalTimestamps),ra.prefixWithSilence(a,h,f,g),a.samples=ra.generateSampleTable(h),j=W.mdat(ra.concatenateFrameData(h)),c=[],i=W.moof(d,[a]),k=new Uint8Array(i.byteLength+j.byteLength),d++,k.set(i),k.set(j,i.byteLength),wa.clearDtsInfo(a),l=Math.ceil(1024*Ob/a.samplerate),h.length&&this.trigger("timingInfo",{start:h[0].pts,end:h[0].pts+h.length*l}),this.trigger("data",{track:a,boxes:k}),void this.trigger("done","AudioSegmentStream"))},this.reset=function(){wa.clearDtsInfo(a),c=[],this.trigger("reset")}},Eb.prototype=new M,Db=function(a,b){var c,d,e=0,f=[],g=[];b=b||{},Db.prototype.init.call(this),delete a.minPTS,this.gopCache_=[],this.push=function(b){wa.collectDtsInfo(a,b),"seq_parameter_set_rbsp"!==b.nalUnitType||c||(c=b.config,a.sps=[b.data],Lb.forEach(function(b){a[b]=c[b]},this)),"pic_parameter_set_rbsp"!==b.nalUnitType||d||(d=b.data,a.pps=[b.data]),f.push(b)},this.flush=function(){for(var c,d,h,i,j,k,l,m,n=0;f.length&&"access_unit_delimiter_rbsp"!==f[0].nalUnitType;)f.shift();if(0===f.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(c=ea.groupNalsIntoFrames(f),h=ea.groupFramesIntoGops(c),h[0][0].keyFrame||(d=this.getGopForFusion_(f[0],a),d?(n=d.duration,h.unshift(d),h.byteLength+=d.byteLength,h.nalCount+=d.nalCount,h.pts=d.pts,h.dts=d.dts,h.duration+=d.duration):h=ea.extendFirstKeyFrame(h)),g.length){var o;if(o=b.alignGopsAtEnd?this.alignGopsAtEnd_(h):this.alignGopsAtStart_(h),!o)return this.gopCache_.unshift({gop:h.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),f=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");wa.clearDtsInfo(a),h=o}wa.collectDtsInfo(a,h),a.samples=ea.generateSampleTable(h),j=W.mdat(ea.concatenateNalData(h)),a.baseMediaDecodeTime=wa.calculateTrackBaseMediaDecodeTime(a,b.keepOriginalTimestamps),this.trigger("processedGopsInfo",h.map(function(a){return{pts:a.pts,dts:a.dts,byteLength:a.byteLength}})),l=h[0],m=h[h.length-1],this.trigger("segmentTimingInfo",Qb(a.baseMediaDecodeTime,l.dts,l.pts,m.dts+m.duration,m.pts+m.duration,n)),this.trigger("timingInfo",{start:h[0].pts,end:h[h.length-1].pts+h[h.length-1].duration}),this.gopCache_.unshift({gop:h.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),f=[],this.trigger("baseMediaDecodeTime",a.baseMediaDecodeTime),this.trigger("timelineStartInfo",a.timelineStartInfo),i=W.moof(e,[a]),k=new Uint8Array(i.byteLength+j.byteLength),e++,k.set(i),k.set(j,i.byteLength),this.trigger("data",{track:a,boxes:k}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),
f=[],this.gopCache_.length=0,g.length=0,this.trigger("reset")},this.resetStream_=function(){wa.clearDtsInfo(a),c=void 0,d=void 0},this.getGopForFusion_=function(b){var c,d,e,f,g,h=45e3,i=1e4,j=1/0;for(g=0;g<this.gopCache_.length;g++)f=this.gopCache_[g],e=f.gop,a.pps&&Pb(a.pps[0],f.pps[0])&&a.sps&&Pb(a.sps[0],f.sps[0])&&(e.dts<a.timelineStartInfo.dts||(c=b.dts-e.dts-e.duration,c>=-i&&c<=h&&(!d||j>c)&&(d=f,j=c)));return d?d.gop:null},this.alignGopsAtStart_=function(a){var b,c,d,e,f,h,i,j;for(f=a.byteLength,h=a.nalCount,i=a.duration,b=c=0;b<g.length&&c<a.length&&(d=g[b],e=a[c],d.pts!==e.pts);)e.pts>d.pts?b++:(c++,f-=e.byteLength,h-=e.nalCount,i-=e.duration);return 0===c?a:c===a.length?null:(j=a.slice(c),j.byteLength=f,j.duration=i,j.nalCount=h,j.pts=j[0].pts,j.dts=j[0].dts,j)},this.alignGopsAtEnd_=function(a){var b,c,d,e,f,h;for(b=g.length-1,c=a.length-1,f=null,h=!1;b>=0&&c>=0;){if(d=g[b],e=a[c],d.pts===e.pts){h=!0;break}d.pts>e.pts?b--:(b===g.length-1&&(f=c),c--)}if(!h&&null===f)return null;var i;if(i=h?c:f,0===i)return a;var j=a.slice(i),k=j.reduce(function(a,b){return a.byteLength+=b.byteLength,a.duration+=b.duration,a.nalCount+=b.nalCount,a},{byteLength:0,duration:0,nalCount:0});return j.byteLength=k.byteLength,j.duration=k.duration,j.nalCount=k.nalCount,j.pts=j[0].pts,j.dts=j[0].dts,j},this.alignGopsWith=function(a){g=a}},Db.prototype=new M,Gb=function(a,b){this.numberOfTracks=0,this.metadataStream=b,a=a||{},"undefined"!=typeof a.remux?this.remuxTracks=!!a.remux:this.remuxTracks=!0,"boolean"==typeof a.keepOriginalTimestamps?this.keepOriginalTimestamps=a.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Gb.prototype.init.call(this),this.push=function(a){return a.text?this.pendingCaptions.push(a):a.frames?this.pendingMetadata.push(a):(this.pendingTracks.push(a.track),this.pendingBytes+=a.boxes.byteLength,"video"===a.track.type&&(this.videoTrack=a.track,this.pendingBoxes.push(a.boxes)),void("audio"===a.track.type&&(this.audioTrack=a.track,this.pendingBoxes.unshift(a.boxes))))}},Gb.prototype=new M,Gb.prototype.flush=function(a){var b,c,d,e,f=0,g={captions:[],captionStreams:{},metadata:[],info:{}},h=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==a&&"AudioSegmentStream"!==a)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(h=this.videoTrack.timelineStartInfo.pts,Lb.forEach(function(a){g.info[a]=this.videoTrack[a]},this)):this.audioTrack&&(h=this.audioTrack.timelineStartInfo.pts,Jb.forEach(function(a){g.info[a]=this.audioTrack[a]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?g.type=this.pendingTracks[0].type:g.type="combined",this.emittedTracks+=this.pendingTracks.length,d=W.initSegment(this.pendingTracks),g.initSegment=new Uint8Array(d.byteLength),g.initSegment.set(d),g.data=new Uint8Array(this.pendingBytes),e=0;e<this.pendingBoxes.length;e++)g.data.set(this.pendingBoxes[e],f),f+=this.pendingBoxes[e].byteLength;for(e=0;e<this.pendingCaptions.length;e++)b=this.pendingCaptions[e],b.startTime=la.metadataTsToSeconds(b.startPts,h,this.keepOriginalTimestamps),b.endTime=la.metadataTsToSeconds(b.endPts,h,this.keepOriginalTimestamps),g.captionStreams[b.stream]=!0,g.captions.push(b);for(e=0;e<this.pendingMetadata.length;e++)c=this.pendingMetadata[e],c.cueTime=la.metadataTsToSeconds(c.pts,h,this.keepOriginalTimestamps),g.metadata.push(c);for(g.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",g),e=0;e<g.captions.length;e++)b=g.captions[e],this.trigger("caption",b);for(e=0;e<g.metadata.length;e++)c=g.metadata[e],this.trigger("id3Frame",c)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Gb.prototype.setRemux=function(a){this.remuxTracks=a},Fb=function(a){var b,c,d=this,e=!0;Fb.prototype.init.call(this),a=a||{},this.baseMediaDecodeTime=a.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new hb.MetadataStream,e.aacStream=new Hb,e.audioTimestampRolloverStream=new hb.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new hb.TimestampRolloverStream("timed-metadata"),e.adtsStream=new lb,e.coalesceStream=new Gb(a,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(a){e.aacStream.setTimestamp(a.timeStamp)}),e.aacStream.on("data",function(f){"timed-metadata"!==f.type||e.audioSegmentStream||(c=c||{timelineStartInfo:{baseMediaDecodeTime:d.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new Eb(c,a),e.audioSegmentStream.on("timingInfo",d.trigger.bind(d,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream)),d.trigger("trackinfo",{hasAudio:!!c,hasVideo:!!b})}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="ts",e.metadataStream=new hb.MetadataStream,e.packetStream=new hb.TransportPacketStream,e.parseStream=new hb.TransportParseStream,e.elementaryStream=new hb.ElementaryStream,e.timestampRolloverStream=new hb.TimestampRolloverStream,e.adtsStream=new lb,e.h264Stream=new Mb,e.captionStream=new hb.CaptionStream,e.coalesceStream=new Gb(a,e.metadataStream),e.headOfPipeline=e.packetStream,e.packetStream.pipe(e.parseStream).pipe(e.elementaryStream).pipe(e.timestampRolloverStream),e.timestampRolloverStream.pipe(e.h264Stream),e.timestampRolloverStream.pipe(e.adtsStream),e.timestampRolloverStream.pipe(e.metadataStream).pipe(e.coalesceStream),e.h264Stream.pipe(e.captionStream).pipe(e.coalesceStream),e.elementaryStream.on("data",function(f){var g,h=a.keepOriginalTimestamps?0:d.baseMediaDecodeTime;if("metadata"===f.type){for(g=f.tracks.length;g--;)b||"video"!==f.tracks[g].type?c||"audio"!==f.tracks[g].type||(c=f.tracks[g],c.timelineStartInfo.baseMediaDecodeTime=h):(b=f.tracks[g],b.timelineStartInfo.baseMediaDecodeTime=h);b&&!e.videoSegmentStream&&(e.coalesceStream.numberOfTracks++,e.videoSegmentStream=new Db(b,a),e.videoSegmentStream.on("timelineStartInfo",function(b){c&&!a.keepOriginalTimestamps&&(c.timelineStartInfo=b,e.audioSegmentStream.setEarliestDts(b.dts-d.baseMediaDecodeTime))}),e.videoSegmentStream.on("processedGopsInfo",d.trigger.bind(d,"gopInfo")),e.videoSegmentStream.on("segmentTimingInfo",d.trigger.bind(d,"videoSegmentTimingInfo")),e.videoSegmentStream.on("baseMediaDecodeTime",function(a){c&&e.audioSegmentStream.setVideoBaseMediaDecodeTime(a)}),e.videoSegmentStream.on("timingInfo",d.trigger.bind(d,"videoTimingInfo")),e.h264Stream.pipe(e.videoSegmentStream).pipe(e.coalesceStream)),c&&!e.audioSegmentStream&&(e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new Eb(c,a),e.audioSegmentStream.on("timingInfo",d.trigger.bind(d,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream)),d.trigger("trackinfo",{hasAudio:!!c,hasVideo:!!b})}}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("id3Frame",function(a){a.dispatchType=e.metadataStream.dispatchType,d.trigger("id3Frame",a)}),e.coalesceStream.on("caption",this.trigger.bind(this,"caption")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(a){var d=this.transmuxPipeline_;this.baseMediaDecodeTime=a,c&&(c.timelineStartInfo.dts=void 0,c.timelineStartInfo.pts=void 0,wa.clearDtsInfo(c),d.audioTimestampRolloverStream&&d.audioTimestampRolloverStream.discontinuity()),b&&(d.videoSegmentStream&&(d.videoSegmentStream.gopCache_=[]),b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,wa.clearDtsInfo(b),d.captionStream.reset()),d.timestampRolloverStream&&d.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(a){c&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(a)},this.setRemux=function(b){var c=this.transmuxPipeline_;a.remux=b,c&&c.coalesceStream&&c.coalesceStream.setRemux(b)},this.alignGopsWith=function(a){b&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(a)},this.push=function(a){if(e){var b=Nb(a);b&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():b||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),e=!1}this.transmuxPipeline_.headOfPipeline.push(a)},this.flush=function(){e=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Fb.prototype=new M;var Rb={Transmuxer:Fb,VideoSegmentStream:Db,AudioSegmentStream:Eb,AUDIO_PROPERTIES:Jb,VIDEO_PROPERTIES:Lb,generateVideoSegmentTimingInfo:Qb},Sb=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},Tb=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Ub=function(a,b){b.on("data",function(b){var c=b.initSegment;b.initSegment={data:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength};var d=b.data;b.data=d.buffer,a.postMessage({action:"data",segment:b,byteOffset:d.byteOffset,byteLength:d.byteLength},[b.data])}),b.captionStream&&b.captionStream.on("data",function(b){a.postMessage({action:"caption",data:b})}),b.on("done",function(b){a.postMessage({action:"done"})}),b.on("gopInfo",function(b){a.postMessage({action:"gopInfo",gopInfo:b})}),b.on("videoSegmentTimingInfo",function(b){a.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:b})})},Vb=function(){function a(b,c){Sb(this,a),this.options=c||{},this.self=b,this.init()}return Tb(a,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Rb.Transmuxer(this.options),Ub(this.self,this.transmuxer)}},{key:"push",value:function(a){var b=new Uint8Array(a.data,a.byteOffset,a.byteLength);this.transmuxer.push(b)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(a){var b=a.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*b))}},{key:"setAudioAppendStart",value:function(a){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*a.appendStart))}},{key:"flush",value:function(a){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(a){this.transmuxer.alignGopsWith(a.gopsToAlignWith.slice())}}]),a}(),Wb=function(a){a.onmessage=function(b){return"init"===b.data.action&&b.data.options?void(this.messageHandlers=new Vb(a,b.data.options)):(this.messageHandlers||(this.messageHandlers=new Vb(a)),void(b.data&&b.data.action&&"init"!==b.data.action&&this.messageHandlers[b.data.action]&&this.messageHandlers[b.data.action](b.data)))}},Xb=new Wb(c);return Xb})()}),dn={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},en=function(a){return a.map(function(a){return a.replace(/avc1\.(\d+)\.(\d+)/i,function(a,b,c){var d=("00"+Number(b).toString(16)).slice(-2),e=("00"+Number(c).toString(16)).slice(-2);return"avc1."+d+"00"+e})})},fn=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b={codecCount:0},c=void 0;return b.codecCount=a.split(",").length,b.codecCount=b.codecCount||2,c=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(a),c&&(b.videoCodec=c[2],b.videoObjectTypeIndicator=c[3]),b.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(a),b.audioProfile=b.audioProfile&&b.audioProfile[2],b},gn=function(a){return a.replace(/avc1\.(\d+)\.(\d+)/i,function(a){return en([a])[0]})},hn=function(a,b,c){return a+"/"+b+'; codecs="'+c.filter(function(a){return!!a}).join(", ")+'"'},jn=function(a){return a.segments&&a.segments.length&&a.segments[0].map?"mp4":"mp2t"},kn=function(a){var b=a.attributes||{};return b.CODECS?fn(b.CODECS):dn},ln=function(a,b){if(!a.mediaGroups.AUDIO||!b)return null;var c=a.mediaGroups.AUDIO[b];if(!c)return null;for(var d in c){var e=c[d];if(e.default&&e.playlists)return fn(e.playlists[0].attributes.CODECS).audioProfile}return null},mn=function(a,b){var c=jn(b),d=kn(b),e=b.attributes||{},f=!0,g=!1;if(!b)return[];if(a.mediaGroups.AUDIO&&e.AUDIO){var h=a.mediaGroups.AUDIO[e.AUDIO];if(h){g=!0,f=!1;for(var i in h)if(!h[i].uri&&!h[i].playlists){f=!0;break}}}g&&!d.audioProfile&&(f||(d.audioProfile=ln(a,e.AUDIO)),d.audioProfile||(ib.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),d.audioProfile=dn.audioProfile));var j={};d.videoCodec&&(j.video=""+d.videoCodec+d.videoObjectTypeIndicator),d.audioProfile&&(j.audio="mp4a.40."+d.audioProfile);var k=hn("audio",c,[j.audio]),l=hn("video",c,[j.video]),m=hn("video",c,[j.video,j.audio]);return g?!f&&j.video?[l,k]:f||j.video?[m,k]:[k,k]:j.video?[m]:[k]},nn=function(a){var b={type:"",parameters:{}},c=a.trim().split(";");return b.type=c.shift().trim(),c.forEach(function(a){var c=a.trim().split("=");if(c.length>1){var d=c[0].replace(/"/g,"").trim(),e=c[1].replace(/"/g,"").trim();b.parameters[d]=e}}),b},on=function(a){return/mp4a\.\d+.\d+/i.test(a)},pn=function(a){return/avc1\.[\da-f]+/i.test(a)},qn=function(a,b,c){if("undefined"==typeof b||null===b||!a.length)return[];var d=Math.ceil(9e4*(b-c+3)),e=void 0;for(e=0;e<a.length&&!(a[e].pts>d);e++);return a.slice(e)},rn=function(a,b,c){if(!b.length)return a;if(c)return b.slice();var d=b[0].pts,e=0;for(e;e<a.length&&!(a[e].pts>=d);e++);return a.slice(0,e).concat(b)},sn=function(a,b,c,d){for(var e=Math.ceil(9e4*(b-d)),f=Math.ceil(9e4*(c-d)),g=a.slice(),h=a.length;h--&&!(a[h].pts<=f););if(h===-1)return g;for(var i=h+1;i--&&!(a[i].pts<=e););return i=Math.max(i,0),g.splice(i,h-i+1),g},tn=function(a,b,c){var d=null,e=null,f=0,g=[],h=[];if(!a&&!b)return ib.createTimeRange();if(!a)return b.buffered;if(!b)return a.buffered;if(c)return a.buffered;if(0===a.buffered.length&&0===b.buffered.length)return ib.createTimeRange();for(var i=a.buffered,j=b.buffered,k=i.length;k--;)g.push({time:i.start(k),type:"start"}),g.push({time:i.end(k),type:"end"});for(k=j.length;k--;)g.push({time:j.start(k),type:"start"}),g.push({time:j.end(k),type:"end"});for(g.sort(function(a,b){return a.time-b.time}),k=0;k<g.length;k++)"start"===g[k].type?(f++,2===f&&(d=g[k].time)):"end"===g[k].type&&(f--,1===f&&(e=g[k].time)),null!==d&&null!==e&&(h.push([d,e]),d=null,e=null);return ib.createTimeRanges(h)},un=9e4,vn=function(a,b){var c=a.addSourceBuffer(b),d=Object.create(null);d.updating=!1,d.realBuffer_=c;var e=function(a){"function"==typeof c[a]?d[a]=function(){return c[a].apply(c,arguments)}:"undefined"==typeof d[a]&&Object.defineProperty(d,a,{get:function(){return c[a]},set:function(b){return c[a]=b}})};for(var f in c)e(f);return d},wn=function(a){function b(a,c){vl(this,b);var d=zl(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,ib.EventTarget));d.timestampOffset_=0,d.pendingBuffers_=[],d.bufferUpdating_=!1,d.mediaSource_=a,d.codecs_=c,d.audioCodec_=null,d.videoCodec_=null,d.audioDisabled_=!1,d.appendAudioInitSegment_=!0,d.gopBuffer_=[],d.timeMapping_=0,d.safeAppend_=ib.browser.IE_VERSION>=11;var e={remux:!1,alignGopsAtEnd:d.safeAppend_};return d.codecs_.forEach(function(a){on(a)?d.audioCodec_=a:pn(a)&&(d.videoCodec_=a)}),d.transmuxer_=new cn,d.transmuxer_.postMessage({action:"init",options:e}),d.transmuxer_.onmessage=function(a){return"data"===a.data.action?d.data_(a):"done"===a.data.action?d.done_(a):"gopInfo"===a.data.action?d.appendGopInfo_(a):"videoSegmentTimingInfo"===a.data.action?d.videoSegmentTimingInfo_(a.data.videoSegmentTimingInfo):void 0},Object.defineProperty(d,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(a){"number"==typeof a&&a>=0&&(this.timestampOffset_=a,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:a}))}}),Object.defineProperty(d,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(a){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=a),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=a)}}),Object.defineProperty(d,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(d,"buffered",{get:function(){return tn(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),d}return yl(b,a),wl(b,[{key:"data_",value:function(a){var b=a.data.segment;b.data=new Uint8Array(b.data,a.data.byteOffset,a.data.byteLength),b.initSegment=new Uint8Array(b.initSegment.data,b.initSegment.byteOffset,b.initSegment.byteLength),Qm(this,this.mediaSource_,b),this.pendingBuffers_.push(b)}},{key:"done_",value:function(a){return"closed"===this.mediaSource_.readyState?void(this.pendingBuffers_.length=0):void this.processPendingSegments_()}},{key:"videoSegmentTimingInfo_",value:function(a){var b={start:{decode:a.start.dts/un,presentation:a.start.pts/un},end:{decode:a.end.dts/un,presentation:a.end.pts/un},baseMediaDecodeTime:a.baseMediaDecodeTime/un};a.prependedContentDuration&&(b.prependedContentDuration=a.prependedContentDuration/un),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:b})}},{key:"createRealSourceBuffers_",value:function(){var a=this,b=["audio","video"];b.forEach(function(c){if(a[c+"Codec_"]&&!a[c+"Buffer_"]){var d=null;if(a.mediaSource_[c+"Buffer_"])d=a.mediaSource_[c+"Buffer_"],d.updating=!1;else{var e=c+"Codec_",f=c+'/mp4;codecs="'+a[e]+'"';d=vn(a.mediaSource_.nativeMediaSource_,f),a.mediaSource_[c+"Buffer_"]=d}a[c+"Buffer_"]=d,["update","updatestart","updateend"].forEach(function(e){d.addEventListener(e,function(){if("audio"!==c||!a.audioDisabled_){"updateend"===e&&(a[c+"Buffer_"].updating=!1);var d=b.every(function(b){return!("audio"!==b||!a.audioDisabled_)||(c===b||!a[b+"Buffer_"]||!a[b+"Buffer_"].updating)});return d?a.trigger(e):void 0}})})}})}},{key:"appendBuffer",value:function(a){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var b=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:b.end(b.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:qn(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:a.buffer,byteOffset:a.byteOffset,byteLength:a.byteLength},[a.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(a){this.gopBuffer_=rn(this.gopBuffer_,a.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(a,b){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(a,b),this.gopBuffer_=sn(this.gopBuffer_,a,b,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(a,b)),Rm(a,b,this.metadataTrack_),this.inbandTextTracks_)for(var c in this.inbandTextTracks_)Rm(a,b,this.inbandTextTracks_[c])}},{key:"processPendingSegments_",value:function(){var a={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);a=this.pendingBuffers_.reduce(function(a,b){var c=b.type,d=b.data,e=b.initSegment;return a[c].segments.push(d),a[c].bytes+=d.byteLength,a[c].initSegment=e,b.captions&&(a.captions=a.captions.concat(b.captions)),b.info&&(a[c].info=b.info),b.metadata&&(a.metadata=a.metadata.concat(b.metadata)),a},a),this.videoBuffer_||this.audioBuffer_||(0===a.video.bytes&&(this.videoCodec_=null),0===a.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),a.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:a.audio.info}),a.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:a.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(a.audio.segments.unshift(a.audio.initSegment),a.audio.bytes+=a.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var b=!1;this.videoBuffer_&&a.video.bytes?(a.video.segments.unshift(a.video.initSegment),a.video.bytes+=a.video.initSegment.byteLength,this.concatAndAppendSegments_(a.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(b=!0),Um(this,a.captions,a.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(a.audio,this.audioBuffer_),this.pendingBuffers_.length=0,b&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(a,b){var c=0,d=void 0;if(a.bytes){d=new Uint8Array(a.bytes),a.segments.forEach(function(a){d.set(a,c),c+=a.byteLength});try{b.updating=!0,b.appendBuffer(d)}catch(a){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:a.message,originalError:a})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"dispose",value:function(){this.transmuxer_&&this.transmuxer_.terminate(),this.trigger("dispose"),this.off()}}]),b}(ib.EventTarget),xn=function(c){function d(){vl(this,d);var c=zl(this,(d.__proto__||Object.getPrototypeOf(d)).call(this)),e=void 0;c.nativeMediaSource_=new a.MediaSource;for(e in c.nativeMediaSource_)e in d.prototype||"function"!=typeof c.nativeMediaSource_[e]||(c[e]=c.nativeMediaSource_[e].bind(c.nativeMediaSource_));return c.duration_=NaN,Object.defineProperty(c,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(a){if(this.duration_=a,a!==1/0)return void(this.nativeMediaSource_.duration=a)}}),Object.defineProperty(c,"seekable",{get:function(){return this.duration_===1/0?ib.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(c,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(c,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),c.sourceBuffers=[],c.activeSourceBuffers_=[],c.updateActiveSourceBuffers_=function(){if(c.activeSourceBuffers_.length=0,1===c.sourceBuffers.length){var a=c.sourceBuffers[0];return a.appendAudioInitSegment_=!0,a.audioDisabled_=!a.audioCodec_,void c.activeSourceBuffers_.push(a)}for(var b=!1,d=!0,e=0;e<c.player_.audioTracks().length;e++){var f=c.player_.audioTracks()[e];if(f.enabled&&"main"!==f.kind){b=!0,d=!1;break}}c.sourceBuffers.forEach(function(a,e){if(a.appendAudioInitSegment_=!0,a.videoCodec_&&a.audioCodec_)a.audioDisabled_=b;else if(a.videoCodec_&&!a.audioCodec_)a.audioDisabled_=!0,d=!1;else if(!a.videoCodec_&&a.audioCodec_&&(a.audioDisabled_=e?d:!d,a.audioDisabled_))return;c.activeSourceBuffers_.push(a)})},c.onPlayerMediachange_=function(){c.sourceBuffers.forEach(function(a){a.appendAudioInitSegment_=!0})},c.onHlsReset_=function(){c.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.postMessage({action:"resetCaptions"})})},c.onHlsSegmentTimeMapping_=function(a){c.sourceBuffers.forEach(function(b){return b.timeMapping_=a.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(a){this.nativeMediaSource_.addEventListener(a,this.trigger.bind(this))},c),c.on("sourceopen",function(a){var d=b.querySelector('[src="'+c.url_+'"]');d&&(c.player_=ib(d.parentNode),c.player_&&(c.player_.tech_.on("hls-reset",c.onHlsReset_),c.player_.tech_.on("hls-segment-time-mapping",c.onHlsSegmentTimeMapping_),c.player_.audioTracks&&c.player_.audioTracks()&&(c.player_.audioTracks().on("change",c.updateActiveSourceBuffers_),c.player_.audioTracks().on("addtrack",c.updateActiveSourceBuffers_),c.player_.audioTracks().on("removetrack",c.updateActiveSourceBuffers_)),c.player_.on("mediachange",c.onPlayerMediachange_)))}),c.on("sourceended",function(a){for(var b=Tm(c.duration),d=0;d<c.sourceBuffers.length;d++){var e=c.sourceBuffers[d],f=e.metadataTrack_&&e.metadataTrack_.cues;f&&f.length&&(f[f.length-1].endTime=b)}}),c.on("sourceclose",function(a){this.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),c}return yl(d,c),wl(d,[{key:"addSeekableRange_",value:function(a,b){var c=void 0;if(this.duration!==1/0)throw c=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),c.name="InvalidStateError",c.code=11,c;(b>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=b)}},{key:"addSourceBuffer",value:function(a){var b=void 0,c=nn(a);if(/^(video|audio)\/mp2t$/i.test(c.type)){var d=[];c.parameters&&c.parameters.codecs&&(d=c.parameters.codecs.split(","),d=en(d),d=d.filter(function(a){return on(a)||pn(a)})),0===d.length&&(d=["avc1.4d400d","mp4a.40.2"]),b=new wn(this,d),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),b.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else b=this.nativeMediaSource_.addSourceBuffer(a);return this.sourceBuffers.push(b),b}},{key:"dispose",value:function(){this.trigger("dispose"),this.off(),this.sourceBuffers.forEach(function(a){a.dispose&&a.dispose()}),this.sourceBuffers.length=0}}]),d}(ib.EventTarget),yn=0;ib.mediaSources={};var zn=function(a,b){var c=ib.mediaSources[a];if(!c)throw new Error("Media Source not found (Video.js)");c.trigger({type:"sourceopen",swfId:b})},An=function(){return!!a.MediaSource&&!!a.MediaSource.isTypeSupported&&a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Bn=function(){if(this.MediaSource={open:zn,supportsNativeMediaSources:An},An())return new xn;throw new Error("Cannot use create a virtual MediaSource for this video")};Bn.open=zn,Bn.supportsNativeMediaSources=An;var Cn={createObjectURL:function(b){var c="blob:vjs-media-source/",d=void 0;return b instanceof xn?(d=a.URL.createObjectURL(b.nativeMediaSource_),b.url_=d,d):b instanceof xn?(d=c+yn,yn++,ib.mediaSources[d]=b,d):(d=a.URL.createObjectURL(b),b.url_=d,d)}};ib.MediaSource=Bn,ib.URL=Cn;var Dn=ib.EventTarget,En=ib.mergeOptions,Fn=function(a,b){for(var c=void 0,d=En(a,{duration:b.duration,minimumUpdatePeriod:b.minimumUpdatePeriod}),e=0;e<b.playlists.length;e++){var f=Hl(d,b.playlists[e]);f?d=f:c=!0}return El(b,function(a,b,e,f){if(a.playlists&&a.playlists.length){var g=a.playlists[0].id,h=Hl(d,a.playlists[0]);h&&(d=h,d.mediaGroups[b][e][f].playlists[0]=d.playlists[g],c=!1)}}),c?null:d},Gn=function(a){var b=a.byterange.offset+a.byterange.length-1;return a.uri+"-"+a.byterange.offset+"-"+b},Hn=function(a,b){var c=Boolean(!a.map&&!b.map),d=c||Boolean(a.map&&b.map&&a.map.byterange.offset===b.map.byterange.offset&&a.map.byterange.length===b.map.byterange.length);return d&&a.uri===b.uri&&a.byterange.offset===b.byterange.offset&&a.byterange.length===b.byterange.length},In=function(a,b){var c={};for(var d in a){var e=a[d],f=e.sidx;if(f){var g=Gn(f);if(!b[g])break;var h=b[g].sidxInfo;Hn(h,f)&&(c[g]=b[g])}}return c},Jn=function(a,b,c,d){var e=rj(a,{manifestUri:b,clientOffset:c}),f=In(e.playlists,d),g=f;return El(e,function(a,b,c,e){if(a.playlists&&a.playlists.length){var f=a.playlists;g=En(g,In(f,d))}}),g},Kn=function(a,b,c,d,e){var f={uri:ul(d.handleManifestRedirects,a.resolvedUri),byterange:a.byterange,playlist:b},g=ib.mergeOptions(f,{responseType:"arraybuffer",headers:nm(f)});return c(g,e)},Ln=function(b){function c(a,b){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=arguments[3];vl(this,c);var f=zl(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),g=d.withCredentials,h=void 0!==g&&g,i=d.handleManifestRedirects,j=void 0!==i&&i;if(f.hls_=b,f.withCredentials=h,f.handleManifestRedirects=j,!a)throw new Error("A non-empty playlist URL or playlist is required");return f.on("minimumUpdatePeriod",function(){f.refreshXml_()}),f.on("mediaupdatetimeout",function(){f.refreshMedia_(f.media().id)}),f.state="HAVE_NOTHING",f.loadedPlaylists_={},"string"==typeof a?(f.srcUrl=a,f.sidxMapping_={},zl(f)):(f.setupChildLoader(e,a),f)}return yl(c,b),wl(c,[{key:"setupChildLoader",value:function(a,b){this.masterPlaylistLoader_=a,this.childPlaylist_=b}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},a.clearTimeout(this.minimumUpdatePeriodTimeout_),a.clearTimeout(this.mediaRequest_),a.clearTimeout(this.mediaUpdateTimeout),this.off()}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var a=this.request;this.request=null,a.onreadystatechange=null,a.abort()}}},{key:"sidxRequestFinished_",value:function(a,b,c,d){var e=this;return function(f,g){if(e.request){if(e.request=null,f)return e.error={status:g.status,message:"DASH playlist request error at URL: "+a.uri,response:g.response,code:2},c&&(e.state=c),e.trigger("error"),d(b,null);var h=new Uint8Array(g.response),i=Ij.parseSidx(h.subarray(8));return d(b,i)}}}},{key:"media",value:function(b){var c=this;if(!b)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var d=this.state;if("string"==typeof b){if(!this.master.playlists[b])throw new Error("Unknown playlist URI: "+b);b=this.master.playlists[b]}var e=!this.media_||b.id!==this.media_.id;if(e&&this.loadedPlaylists_[b.id]&&this.loadedPlaylists_[b.id].endList)return this.state="HAVE_METADATA",this.media_=b,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(e){if(this.media_&&this.trigger("mediachanging"),!b.sidx)return void(this.mediaRequest_=a.setTimeout(this.haveMetadata.bind(this,{startingState:d,playlist:b}),0));var f=void 0,g=void 0;this.masterPlaylistLoader_?(f=this.masterPlaylistLoader_.master,g=this.masterPlaylistLoader_.sidxMapping_):(f=this.master,g=this.sidxMapping_);var h=Gn(b.sidx);g[h]={sidxInfo:b.sidx},this.request=Kn(b.sidx,b,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(b,f,d,function(a,e){if(!a||!e)throw new Error("failed to request sidx");g[h].sidx=e,c.haveMetadata({startingState:d,playlist:a.playlists[b.id]})}))}}},{key:"haveMetadata",value:function(a){var b=a.startingState,c=a.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[c.id]=c,this.mediaRequest_=null,this.refreshMedia_(c.id),"HAVE_MASTER"===b?this.trigger("loadedmetadata"):this.trigger("mediachange");
}},{key:"pause",value:function(){this.stopRequest(),a.clearTimeout(this.mediaUpdateTimeout),a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(b){var c=this;a.clearTimeout(this.mediaUpdateTimeout),a.clearTimeout(this.minimumUpdatePeriodTimeout_);var d=this.media();if(b){var e=d?d.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=a.setTimeout(function(){return c.load()},e))}return this.started?void(d&&!d.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")):void this.start()}},{key:"parseMasterXml",value:function(){var a=rj(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});a.uri=this.srcUrl;for(var b=0;b<a.playlists.length;b++){var c="placeholder-uri-"+b;a.playlists[b].uri=c}return El(a,function(b,c,d,e){if(b.playlists&&b.playlists.length){var f="placeholder-uri-"+c+"-"+d+"-"+e,g=Il(0,f);b.playlists[0].uri=f,b.playlists[0].id=g,a.playlists[g]=b.playlists[0],a.playlists[f]=b.playlists[0]}}),Jl(a),Kl(a),a}},{key:"start",value:function(){var b=this;return this.started=!0,this.masterPlaylistLoader_?void(this.mediaRequest_=a.setTimeout(this.haveMaster_.bind(this),0)):void(this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(a,c){if(b.request){if(b.request=null,a)return b.error={status:c.status,message:"DASH playlist request error at URL: "+b.srcUrl,responseText:c.responseText,code:2},"HAVE_NOTHING"===b.state&&(b.started=!1),b.trigger("error");b.masterXml_=c.responseText,c.responseHeaders&&c.responseHeaders.date?b.masterLoaded_=Date.parse(c.responseHeaders.date):b.masterLoaded_=Date.now(),b.srcUrl=ul(b.handleManifestRedirects,b.srcUrl,c),b.syncClientServerClock_(b.onClientServerClockSync_.bind(b))}}))}},{key:"syncClientServerClock_",value:function(a){var b=this,c=sj(this.masterXml_);return null===c?(this.clientOffset_=this.masterLoaded_-Date.now(),a()):"DIRECT"===c.method?(this.clientOffset_=c.value-Date.now(),a()):void(this.request=this.hls_.xhr({uri:tl(this.srcUrl,c.value),method:c.method,withCredentials:this.withCredentials},function(d,e){if(b.request){if(d)return b.clientOffset_=b.masterLoaded_-Date.now(),a();var f=void 0;f="HEAD"===c.method?e.responseHeaders&&e.responseHeaders.date?Date.parse(e.responseHeaders.date):b.masterLoaded_:Date.parse(e.responseText),b.clientOffset_=f-Date.now(),a()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var b=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=a.setTimeout(function(){b.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var b=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(c,d){if(b.request){if(b.request=null,c)return b.error={status:d.status,message:"DASH playlist request error at URL: "+b.srcUrl,responseText:d.responseText,code:2},"HAVE_NOTHING"===b.state&&(b.started=!1),b.trigger("error");b.masterXml_=d.responseText,b.sidxMapping_=Jn(b.masterXml_,b.srcUrl,b.clientOffset_,b.sidxMapping_);var e=b.parseMasterXml(),f=Fn(b.master,e),g=b.media().sidx;if(f)if(g){var h=Gn(g);if(!b.sidxMapping_[h]){var i=b.media();b.request=Kn(i.sidx,i,b.hls_.xhr,{handleManifestRedirects:b.handleManifestRedirects},b.sidxRequestFinished_(i,e,b.state,function(c,d){if(!c||!d)throw new Error("failed to request sidx on minimumUpdatePeriod");b.sidxMapping_[h].sidx=d,b.minimumUpdatePeriodTimeout_=a.setTimeout(function(){b.trigger("minimumUpdatePeriod")},b.master.minimumUpdatePeriod),b.refreshMedia_(b.media().id)}))}}else b.master=f;b.minimumUpdatePeriodTimeout_=a.setTimeout(function(){b.trigger("minimumUpdatePeriod")},b.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(b){var c=this;if(!b)throw new Error("refreshMedia_ must take a media id");var d=void 0,e=void 0;this.masterPlaylistLoader_?(d=this.masterPlaylistLoader_.master,e=this.masterPlaylistLoader_.parseMasterXml()):(d=this.master,e=this.parseMasterXml());var f=Fn(d,e);f?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=f:this.master=f,this.media_=f.playlists[b]):(this.media_=e.playlists[b],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=a.setTimeout(function(){c.trigger("mediaupdatetimeout")},Ll(this.media(),!!f))),this.trigger("loadedplaylist")}}]),c}(Dn),Mn=function(a){return ib.log.debug?ib.log.debug.bind(ib,"VHS:",a+" >"):function(){}},Nn=function(){function a(b,c,d,e){vl(this,a),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=b,this.processedAppend_=!1,this.type_=d,this.mimeType_=c,this.logger_=Mn("SourceUpdater["+d+"]["+c+"]"),"closed"===b.readyState?b.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,c,e)):this.createSourceBuffer_(c,e)}return wl(a,[{key:"createSourceBuffer_",value:function(a,b){var c=this;return this.sourceBuffer_=this.mediaSource.addSourceBuffer(a),this.logger_("created SourceBuffer"),b&&(b.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?void b.on("sourcebufferadded",function(){c.start_()}):void this.start_()}},{key:"start_",value:function(){var a=this;this.started_=!0,this.onUpdateendCallback_=function(){var b=a.pendingCallback_;a.pendingCallback_=null,a.sourceBuffer_.removing=!1,a.logger_("buffered ["+Nm(a.buffered())+"]"),b&&b(),a.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(a){var b=this;this.processedAppend_&&this.queueCallback_(function(){b.sourceBuffer_.abort()},a)}},{key:"appendBuffer",value:function(a,b){var c=this;this.processedAppend_=!0,this.queueCallback_(function(){a.videoSegmentTimingInfoCallback&&c.sourceBuffer_.addEventListener("videoSegmentTimingInfo",a.videoSegmentTimingInfoCallback),c.sourceBuffer_.appendBuffer(a.bytes)},function(){a.videoSegmentTimingInfoCallback&&c.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",a.videoSegmentTimingInfoCallback),b()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:ib.createTimeRanges()}},{key:"remove",value:function(a,b){var c=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tc;this.processedAppend_&&this.queueCallback_(function(){c.logger_("remove ["+a+" => "+b+"]"),c.sourceBuffer_.removing=!0,c.sourceBuffer_.remove(a,b)},d)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==tc}},{key:"timestampOffset",value:function(a){var b=this;return"undefined"!=typeof a&&(this.queueCallback_(function(){b.sourceBuffer_.timestampOffset=a,b.runCallback_()}),this.timestampOffset_=a),this.timestampOffset_}},{key:"queueCallback_",value:function(a,b){this.callbacks_.push([a.bind(this),b]),this.runCallback_()}},{key:"runCallback_",value:function(){var a=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(a=this.callbacks_.shift(),this.pendingCallback_=a[1],a[0]())}},{key:"dispose",value:function(){var a=this,b=function b(){a.sourceBuffer_&&"open"===a.mediaSource.readyState&&a.sourceBuffer_.abort(),a.sourceBuffer_.removeEventListener("updateend",b)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",b):b()}}]),a}(),On={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Pn={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Qn=function(a){a.forEach(function(a){a.abort()})},Rn=function(a){return{bandwidth:a.bandwidth,bytesReceived:a.bytesReceived||0,roundTripTime:a.roundTripTime||0}},Sn=function(a){var b=a.target,c=Date.now()-b.requestTime,d={bandwidth:1/0,bytesReceived:0,roundTripTime:c||0};return d.bytesReceived=a.loaded,d.bandwidth=Math.floor(d.bytesReceived/d.roundTripTime*8*1e3),d},Tn=function(a,b){return b.timedout?{status:b.status,message:"HLS request timed-out at URL: "+b.uri,code:Pn.TIMEOUT,xhr:b}:b.aborted?{status:b.status,message:"HLS request aborted at URL: "+b.uri,code:Pn.ABORTED,xhr:b}:a?{status:b.status,message:"HLS request errored at URL: "+b.uri,code:Pn.FAILURE,xhr:b}:null},Un=function(a,b){return function(c,d){var e=d.response,f=Tn(c,d);if(f)return b(f,a);if(16!==e.byteLength)return b({status:d.status,message:"Invalid HLS key at URL: "+d.uri,code:Pn.FAILURE,xhr:d},a);var g=new DataView(e);return a.key.bytes=new Uint32Array([g.getUint32(0),g.getUint32(4),g.getUint32(8),g.getUint32(12)]),b(null,a)}},Vn=function(a,b,c){return function(d,e){var f=e.response,g=Tn(d,e);return g?c(g,a):0===f.byteLength?c({status:e.status,message:"Empty HLS segment content at URL: "+e.uri,code:Pn.FAILURE,xhr:e},a):(a.map.bytes=new Uint8Array(e.response),b&&!b.isInitialized()&&b.init(),a.map.timescales=Lj.timescale(a.map.bytes),a.map.videoTrackIds=Lj.videoTrackIds(a.map.bytes),c(null,a))}},Wn=function(a,b,c){return function(d,e){var f=e.response,g=Tn(d,e),h=void 0;return g?c(g,a):0===f.byteLength?c({status:e.status,message:"Empty HLS segment content at URL: "+e.uri,code:Pn.FAILURE,xhr:e},a):(a.stats=Rn(e),a.key?a.encryptedBytes=new Uint8Array(e.response):a.bytes=new Uint8Array(e.response),b&&a.map&&a.map.bytes&&(b.isInitialized()||b.init(),h=b.parse(a.bytes,a.map.videoTrackIds,a.map.timescales),h&&h.captions&&(a.captionStreams=h.captionStreams,a.fmp4Captions=h.captions)),c(null,a))}},Xn=function(a,b,c){var d=function d(e){if(e.data.source===b.requestId){a.removeEventListener("message",d);var f=e.data.decrypted;return b.bytes=new Uint8Array(f.bytes,f.byteOffset,f.byteLength),c(null,b)}};a.addEventListener("message",d);var e=void 0;e=b.key.bytes.slice?b.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(b.key.bytes)),a.postMessage(rm({source:b.requestId,encrypted:b.encryptedBytes,key:e,iv:b.key.iv}),[b.encryptedBytes.buffer,e.buffer])},Yn=function(a,b,c){var d=0,e=!1;return function(f,g){if(!e)return f?(e=!0,Qn(a),c(f,g)):(d+=1,d===a.length?(g.endOfAllRequests=Date.now(),g.encryptedBytes?Xn(b,g,c):c(null,g)):void 0)}},Zn=function(a,b){return function(c){return a.stats=ib.mergeOptions(a.stats,Sn(c)),!a.stats.firstBytesReceivedAt&&a.stats.bytesReceived&&(a.stats.firstBytesReceivedAt=Date.now()),b(c,a)}},$n=function(a,b,c,d,e,f,g){var h=[],i=Yn(h,c,g);if(e.key&&!e.key.bytes){var j=ib.mergeOptions(b,{uri:e.key.resolvedUri,responseType:"arraybuffer"}),k=Un(e,i),l=a(j,k);h.push(l)}if(e.map&&!e.map.bytes){var m=ib.mergeOptions(b,{uri:e.map.resolvedUri,responseType:"arraybuffer",headers:nm(e.map)}),n=Vn(e,d,i),o=a(m,n);h.push(o)}var p=ib.mergeOptions(b,{uri:e.resolvedUri,responseType:"arraybuffer",headers:nm(e)}),q=Wn(e,d,i),r=a(p,q);return r.addEventListener("progress",Zn(e,f)),h.push(r),function(){return Qn(h)}},_n=function(b,c){var d=void 0;return b?(d=a.getComputedStyle(b),d?d[c]:""):""},ao=function(a,b){var c=a.slice();a.sort(function(a,d){var e=b(a,d);return 0===e?c.indexOf(a)-c.indexOf(d):e})},bo=function(b,c){var d=void 0,e=void 0;return b.attributes.BANDWIDTH&&(d=b.attributes.BANDWIDTH),d=d||a.Number.MAX_VALUE,c.attributes.BANDWIDTH&&(e=c.attributes.BANDWIDTH),e=e||a.Number.MAX_VALUE,d-e},co=function(b,c){var d=void 0,e=void 0;return b.attributes.RESOLUTION&&b.attributes.RESOLUTION.width&&(d=b.attributes.RESOLUTION.width),d=d||a.Number.MAX_VALUE,c.attributes.RESOLUTION&&c.attributes.RESOLUTION.width&&(e=c.attributes.RESOLUTION.width),e=e||a.Number.MAX_VALUE,d===e&&b.attributes.BANDWIDTH&&c.attributes.BANDWIDTH?b.attributes.BANDWIDTH-c.attributes.BANDWIDTH:d-e},eo=function(b,c,d,e,f){var g=b.playlists.map(function(b){var c=void 0,d=void 0,e=void 0;return c=b.attributes.RESOLUTION&&b.attributes.RESOLUTION.width,d=b.attributes.RESOLUTION&&b.attributes.RESOLUTION.height,e=b.attributes.BANDWIDTH,e=e||a.Number.MAX_VALUE,{bandwidth:e,width:c,height:d,playlist:b}});ao(g,function(a,b){return a.bandwidth-b.bandwidth}),g=g.filter(function(a){return!im.isIncompatible(a.playlist)});var h=g.filter(function(a){return im.isEnabled(a.playlist)});h.length||(h=g.filter(function(a){return!im.isDisabled(a.playlist)}));var i=h.filter(function(a){return a.bandwidth*On.BANDWIDTH_VARIANCE<c}),j=i[i.length-1],k=i.filter(function(a){return a.bandwidth===j.bandwidth})[0];if(f===!1){var l=k||h[0]||g[0];return l?l.playlist:null}var m=i.filter(function(a){return a.width&&a.height});ao(m,function(a,b){return a.width-b.width});var n=m.filter(function(a){return a.width===d&&a.height===e});j=n[n.length-1];var o=n.filter(function(a){return a.bandwidth===j.bandwidth})[0],p=void 0,q=void 0,r=void 0;o||(p=m.filter(function(a){return a.width>d||a.height>e}),q=p.filter(function(a){return a.width===p[0].width&&a.height===p[0].height}),j=q[q.length-1],r=q.filter(function(a){return a.bandwidth===j.bandwidth})[0]);var s=r||o||k||h[0]||g[0];return s?s.playlist:null},fo=function(){var b=this.useDevicePixelRatio?a.devicePixelRatio||1:1;return eo(this.playlists.master,this.systemBandwidth,parseInt(_n(this.tech_.el(),"width"),10)*b,parseInt(_n(this.tech_.el(),"height"),10)*b,this.limitRenditionByPlayerDimensions)},go=function(a){var b=a.master,c=a.currentTime,d=a.bandwidth,e=a.duration,f=a.segmentDuration,g=a.timeUntilRebuffer,h=a.currentTimeline,i=a.syncController,j=b.playlists.filter(function(a){return!im.isIncompatible(a)}),k=j.filter(im.isEnabled);k.length||(k=j.filter(function(a){return!im.isDisabled(a)}));var l=k.filter(im.hasAttribute.bind(null,"BANDWIDTH")),m=l.map(function(a){var b=i.getSyncPoint(a,e,h,c),j=b?1:2,k=im.estimateSegmentRequestTime(f,d,a),l=k*j-g;return{playlist:a,rebufferingImpact:l}}),n=m.filter(function(a){return a.rebufferingImpact<=0});return ao(n,function(a,b){return bo(b.playlist,a.playlist)}),n.length?n[0]:(ao(m,function(a,b){return a.rebufferingImpact-b.rebufferingImpact}),m[0]||null)},ho=function(){var a=this.playlists.master.playlists.filter(im.isEnabled);ao(a,function(a,b){return bo(a,b)});var b=a.filter(function(a){return fn(a.attributes.CODECS).videoCodec});return b[0]||null},io=function(a,b,c){for(var d in c)if(!a[d]){b.trigger({type:"usage",name:"hls-608"});var e=b.textTracks().getTrackById(d);e?a[d]=e:a[d]=b.addRemoteTextTrack({kind:"captions",id:d,label:d},!1).track}},jo=function(a){var b=a.inbandTextTracks,c=a.captionArray,d=a.timestampOffset;if(c){var e=window.WebKitDataCue||window.VTTCue;c.forEach(function(a){var c=a.stream,f=a.startTime,g=a.endTime;b[c]&&(f+=d,g+=d,b[c].addCue(new e(f,g,a.text)))})}},ko=500,lo=function(a,b,c){if(!a||!b)return!1;var d=a.segments,e=c===d.length;return a.endList&&"open"===b.readyState&&e},mo=function(a){return"number"==typeof a&&isFinite(a)},no=function(a,b,c){return"main"===a&&b&&c?c.containsAudio||c.containsVideo?b.containsVideo&&!c.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!b.containsVideo&&c.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},oo=function(a,b,c){var d=b-30;a.length&&(d=Math.max(d,a.start(0)));var e=b-c;return Math.min(e,d)},po=function(a){var b=a.segment,c=b.start,d=b.end,e=a.playlist,f=e.mediaSequence,g=e.id,h=e.segments,i=void 0===h?[]:h,j=a.mediaIndex,k=a.timeline;return["appending ["+j+"] of ["+f+", "+(f+i.length)+"] from playlist ["+g+"]","["+c+" => "+d+"] in timeline ["+k+"]"].join(" ")},qo=function(b){function c(a){vl(this,c);var b=zl(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));if(!a)throw new TypeError("Initialization settings are required");if("function"!=typeof a.currentTime)throw new TypeError("No currentTime getter specified");if(!a.mediaSource)throw new TypeError("No MediaSource specified");return b.bandwidth=a.bandwidth,b.throughput={rate:0,count:0},b.roundTrip=NaN,b.resetStats_(),b.mediaIndex=null,b.hasPlayed_=a.hasPlayed,b.currentTime_=a.currentTime,b.seekable_=a.seekable,b.seeking_=a.seeking,b.duration_=a.duration,b.mediaSource_=a.mediaSource,b.hls_=a.hls,b.loaderType_=a.loaderType,b.startingMedia_=void 0,b.segmentMetadataTrack_=a.segmentMetadataTrack,b.goalBufferLength_=a.goalBufferLength,b.sourceType_=a.sourceType,b.inbandTextTracks_=a.inbandTextTracks,b.state_="INIT",b.checkBufferTimeout_=null,b.error_=void 0,b.currentTimeline_=-1,b.pendingSegment_=null,b.mimeType_=null,b.sourceUpdater_=null,b.xhrOptions_=null,b.activeInitSegmentId_=null,b.initSegments_={},b.cacheEncryptionKeys_=a.cacheEncryptionKeys,b.keyCache_={},"main"===b.loaderType_?b.captionParser_=new jk:b.captionParser_=null,b.decrypter_=a.decrypter,b.syncController_=a.syncController,b.syncPoint_={segmentIndex:0,time:0},b.triggerSyncInfoUpdate_=function(){return b.trigger("syncinfoupdate")},b.syncController_.on("syncinfoupdate",b.triggerSyncInfoUpdate_),b.mediaSource_.addEventListener("sourceopen",function(){return b.ended_=!1}),b.fetchAtBuffer_=!1,b.logger_=Mn("SegmentLoader["+b.loaderType_+"]"),Object.defineProperty(b,"state",{get:function(){return this.state_},set:function(a){a!==this.state_&&(this.logger_(this.state_+" -> "+a),this.state_=a)}}),b}return yl(c,b),wl(c,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset(),this.checkBufferTimeout_&&a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}},{key:"abort",value:function(){return"WAITING"!==this.state?void(this.pendingSegment_&&(this.pendingSegment_=null)):(this.abort_(),this.state="READY",void(this.paused()||this.monitorBuffer_()))}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(a){return"undefined"!=typeof a&&(this.error_=a),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():ib.createTimeRanges()}},{key:"initSegment",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a)return null;var c=sm(a),d=this.initSegments_[c];return b&&!d&&a.bytes&&(this.initSegments_[c]=d={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:a.bytes,timescales:a.timescales,videoTrackIds:a.videoTrackIds}),d||a}},{key:"segmentKey",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a)return null;var c=tm(a),d=this.keyCache_[c];this.cacheEncryptionKeys_&&b&&!d&&a.bytes&&(this.keyCache_[c]=d={resolvedUri:a.resolvedUri,bytes:a.bytes});var e={resolvedUri:(d||a).resolvedUri};return d&&(e.bytes=d.bytes),e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_)return this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Nn(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a){var c=this.playlist_,d=this.pendingSegment_;this.playlist_=a,this.xhrOptions_=b,"INIT"===this.state&&(a.syncInfo={mediaSequence:a.mediaSequence,time:0});var e=null;if(c&&(c.id?e=c.id:c.uri&&(e=c.uri)),this.logger_("playlist update ["+e+" => "+(a.id||a.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!c||c.uri!==a.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var f=a.mediaSequence-c.mediaSequence;this.logger_("live window shift ["+f+"]"),null!==this.mediaIndex&&(this.mediaIndex-=f),d&&(d.mediaIndex-=f,d.mediaIndex>=0&&(d.segment=a.segments[d.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(c,a)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(a,b){this.mimeType_||(this.mimeType_=a,this.sourceBufferEmitter_=b,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(a){this.ended_=!1,this.resetLoader(),this.remove(0,1/0,a),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(a,b,c){if(b===1/0&&(b=this.duration_()),this.sourceUpdater_&&this.sourceUpdater_.remove(a,b,c),Rm(a,b,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var d in this.inbandTextTracks_)Rm(a,b,this.inbandTextTracks_[d])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=a.setTimeout(this.monitorBufferTick_.bind(this),ko)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var a=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(a)return this.isEndOfStream_(a.mediaIndex)?void this.endOfStream():void((a.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(a.timeline!==this.currentTimeline_&&(this.syncController_.reset(),a.timestampOffset=a.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(a)))}}},{key:"isEndOfStream_",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_;return lo(b,this.mediaSource_,a)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(a,b,c,d,e,f){var g=0,h=void 0;a.length&&(g=a.end(a.length-1));var i=Math.max(0,g-e);if(!b.segments.length)return null;if(i>=this.goalBufferLength_())return null;if(!d&&i>=1)return null;if(null===f)return c=this.getSyncSegmentCandidate_(b),this.generateSegmentInfo_(b,c,null,!0);if(null!==c){b.segments[c];return h=g,this.generateSegmentInfo_(b,c+1,h,!1)}if(this.fetchAtBuffer_){var j=im.getMediaInfoForTime(b,g,f.segmentIndex,f.time);c=j.mediaIndex,h=j.startTime}else{var k=im.getMediaInfoForTime(b,e,f.segmentIndex,f.time);c=k.mediaIndex,h=k.startTime}return this.generateSegmentInfo_(b,c,h,!1)}},{key:"getSyncSegmentCandidate_",value:function(a){var b=this;if(this.currentTimeline_===-1)return 0;var c=a.segments.map(function(a,b){return{timeline:a.timeline,segmentIndex:b}}).filter(function(a){return a.timeline===b.currentTimeline_});return c.length?c[Math.min(c.length-1,1)].segmentIndex:Math.max(a.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(a,b,c,d){if(b<0||b>=a.segments.length)return null;var e=a.segments[b];return{requestId:"segment-loader-"+Math.random(),uri:e.resolvedUri,mediaIndex:b,isSyncRequest:d,startOfSegment:c,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:e.timeline,duration:e.duration,segment:e}}},{key:"abortRequestEarly_",value:function(a){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(a.firstBytesReceivedAt||Date.now())<1e3)return!1;var b=this.currentTime_(),c=a.bandwidth,d=this.pendingSegment_.duration,e=im.estimateSegmentRequestTime(d,c,this.playlist_,a.bytesReceived),f=Om(this.buffered_(),b,this.hls_.tech_.playbackRate())-1;if(e<=f)return!1;var g=go({master:this.hls_.playlists.master,currentTime:b,bandwidth:c,duration:this.duration_(),segmentDuration:d,timeUntilRebuffer:f,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(g){var h=e-f,i=h-g.rebufferingImpact,j=.5;return f<=Hm&&(j=1),!(!g.playlist||g.playlist.uri===this.playlist_.uri||i<j)&&(this.bandwidth=g.playlist.attributes.BANDWIDTH*On.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(a,b){this.pendingSegment_&&b.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(b.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(a){this.state="WAITING",this.pendingSegment_=a,this.trimBackBuffer_(a),a.abortRequests=$n(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(a),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(a){var b=oo(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);b>0&&this.remove(0,b)}},{key:"createSimplifiedSegmentObj_",value:function(a){var b=a.segment,c={resolvedUri:b.resolvedUri,byterange:b.byterange,requestId:a.requestId};if(b.key){var d=b.key.iv||new Uint32Array([0,0,0,a.mediaIndex+a.playlist.mediaSequence]);c.key=this.segmentKey(b.key),c.key.iv=d}return b.map&&(c.map=this.initSegment(b.map)),c}},{key:"segmentRequestFinished_",value:function(a,b){if(this.mediaRequests+=1,b.stats&&(this.mediaBytesTransferred+=b.stats.bytesReceived,this.mediaTransferDuration+=b.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);if(b.requestId===this.pendingSegment_.requestId){if(a)return this.pendingSegment_=null,this.state="READY",a.code===Pn.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),a.code===Pn.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(a),void this.trigger("error")));this.bandwidth=b.stats.bandwidth,this.roundTrip=b.stats.roundTripTime,b.map&&(b.map=this.initSegment(b.map,!0)),b.key&&this.segmentKey(b.key,!0),this.processSegmentResponse_(b)}}},{key:"processSegmentResponse_",value:function(a){var b=this.pendingSegment_;b.bytes=a.bytes,a.map&&(b.segment.map.bytes=a.map.bytes),b.endOfAllRequests=a.endOfAllRequests,a.fmp4Captions&&(io(this.inbandTextTracks_,this.hls_.tech_,a.captionStreams),jo({inbandTextTracks:this.inbandTextTracks_,captionArray:a.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var a=this;if(!this.pendingSegment_)return void(this.state="READY");var b=this.pendingSegment_,c=b.segment,d=this.syncController_.probeSegmentInfo(b);"undefined"==typeof this.startingMedia_&&d&&(d.containsAudio||d.containsVideo)&&(this.startingMedia_={containsAudio:d.containsAudio,containsVideo:d.containsVideo});var e=no(this.loaderType_,this.startingMedia_,d);if(e)return this.error({message:e,blacklistDuration:1/0}),void this.trigger("error");if(b.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==b.timestampOffset&&b.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(d&&d.segmentTimestampInfo){var f=d.segmentTimestampInfo[0].ptsTime,g=d.segmentTimestampInfo[0].dtsTime;b.timestampOffset-=f-g}this.sourceUpdater_.timestampOffset(b.timestampOffset),this.trigger("timestampoffset")}var h=this.syncController_.mappingForTimeline(b.timeline);if(null!==h&&this.trigger({type:"segmenttimemapping",mapping:h}),this.state="APPENDING",c.map){var i=sm(c.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==i){var j=this.initSegment(c.map);this.sourceUpdater_.appendBuffer({bytes:j.bytes},function(){a.activeInitSegmentId_=i})}}b.byteLength=b.bytes.byteLength,"number"==typeof c.start&&"number"==typeof c.end?this.mediaSecondsLoaded+=c.end-c.start:this.mediaSecondsLoaded+=c.duration,this.logger_(po(b)),this.sourceUpdater_.appendBuffer({bytes:b.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,b.requestId)},this.handleUpdateEnd_.bind(this))}},{key:"handleVideoSegmentTimingInfo_",value:function(a,b){if(this.pendingSegment_&&a===this.pendingSegment_.requestId){var c=this.pendingSegment_.segment;c.videoTimingInfo||(c.videoTimingInfo={}),c.videoTimingInfo.transmuxerPrependedSeconds=b.videoSegmentTimingInfo.prependedContentDuration||0,c.videoTimingInfo.transmuxedPresentationStart=b.videoSegmentTimingInfo.start.presentation,c.videoTimingInfo.transmuxedPresentationEnd=b.videoSegmentTimingInfo.end.presentation,c.videoTimingInfo.baseMediaDecodeTime=b.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var a=this.pendingSegment_,b=a.segment,c=null!==this.mediaIndex;return this.pendingSegment_=null,this.recordThroughput_(a),this.addSegmentMetadataCue_(a),this.state="READY",this.mediaIndex=a.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=a.timeline,this.trigger("syncinfoupdate"),b.end&&this.currentTime_()-b.end>3*a.playlist.targetDuration?void this.resetEverything():(c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(a.mediaIndex+1,a.playlist)&&this.endOfStream(),void(this.paused()||this.monitorBuffer_()))}},{key:"recordThroughput_",value:function(a){var b=this.throughput.rate,c=Date.now()-a.endOfAllRequests+1,d=Math.floor(a.byteLength/c*8*1e3);this.throughput.rate+=(d-b)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(b){if(this.segmentMetadataTrack_){var c=b.segment,d=c.start,e=c.end;if(mo(d)&&mo(e)){Rm(d,e,this.segmentMetadataTrack_);var f=a.WebKitDataCue||a.VTTCue,g={custom:c.custom,dateTimeObject:c.dateTimeObject,dateTimeString:c.dateTimeString,bandwidth:b.playlist.attributes.BANDWIDTH,resolution:b.playlist.attributes.RESOLUTION,codecs:b.playlist.attributes.CODECS,byteLength:b.byteLength,uri:b.uri,timeline:b.timeline,playlist:b.playlist.id,start:d,end:e},h=JSON.stringify(g),i=new f(d,e,h);i.value=g,this.segmentMetadataTrack_.addCue(i)}}}}]),c}(ib.EventTarget),ro=function(a){return decodeURIComponent(escape(String.fromCharCode.apply(null,a)))},so=new Uint8Array("\n\n".split("").map(function(a){return a.charCodeAt(0)})),to=function(b){function c(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vl(this,c);var d=zl(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b));return d.mediaSource_=null,d.subtitlesTrack_=null,d.featuresNativeTextTracks_=a.featuresNativeTextTracks,d}return yl(c,b),wl(c,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return ib.createTimeRanges();var a=this.subtitlesTrack_.cues,b=a[0].startTime,c=a[a.length-1].startTime;
return ib.createTimeRanges([[b,c]])}},{key:"initSegment",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a)return null;var c=sm(a),d=this.initSegments_[c];if(b&&!d&&a.bytes){var e=so.byteLength+a.bytes.byteLength,f=new Uint8Array(e);f.set(a.bytes),f.set(so,a.bytes.byteLength),this.initSegments_[c]=d={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:f}}return d||a}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(a){return"undefined"==typeof a?this.subtitlesTrack_:(this.subtitlesTrack_=a,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(a,b){Rm(a,b,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var a=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var b=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(b=this.skipEmptySegments_(b)){if(null===this.syncController_.timestampOffsetForTimeline(b.timeline)){var c=function(){a.state="READY",a.paused()||a.monitorBuffer_()};return this.syncController_.one("timestampoffset",c),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(b)}}},{key:"skipEmptySegments_",value:function(a){for(;a&&a.segment.empty;)a=this.generateSegmentInfo_(a.playlist,a.mediaIndex+1,a.startOfSegment+a.duration,a.isSyncRequest);return a}},{key:"handleSegment_",value:function(){var b=this;if(!this.pendingSegment_||!this.subtitlesTrack_)return void(this.state="READY");this.state="APPENDING";var c=this.pendingSegment_,d=c.segment;if("function"!=typeof a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var e=void 0,f=function(){b.subtitlesTrack_.tech_.off("vttjsloaded",e),b.error({message:"Error loading vtt.js"}),b.state="READY",b.pause(),b.trigger("error")};return e=function(){b.subtitlesTrack_.tech_.off("vttjserror",f),b.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",e),void this.subtitlesTrack_.tech_.one("vttjserror",f)}d.requested=!0;try{this.parseVTTCues_(c)}catch(a){return this.error({message:a.message}),this.state="READY",this.pause(),this.trigger("error")}return this.updateTimeMapping_(c,this.syncController_.timelines[c.timeline],this.playlist_),c.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY")):(c.byteLength=c.bytes.byteLength,this.mediaSecondsLoaded+=d.duration,c.cues.length&&this.remove(c.cues[0].endTime,c.cues[c.cues.length-1].endTime),c.cues.forEach(function(c){b.subtitlesTrack_.addCue(b.featuresNativeTextTracks_?new a.VTTCue(c.startTime,c.endTime,c.text):c)}),void this.handleUpdateEnd_())}},{key:"parseVTTCues_",value:function(b){var c=void 0,d=!1;"function"==typeof a.TextDecoder?c=new a.TextDecoder("utf8"):(c=a.WebVTT.StringDecoder(),d=!0);var e=new a.WebVTT.Parser(a,a.vttjs,c);if(b.cues=[],b.timestampmap={MPEGTS:0,LOCAL:0},e.oncue=b.cues.push.bind(b.cues),e.ontimestampmap=function(a){return b.timestampmap=a},e.onparsingerror=function(a){ib.log.warn("Error encountered when parsing cues: "+a.message)},b.segment.map){var f=b.segment.map.bytes;d&&(f=ro(f)),e.parse(f)}var g=b.bytes;d&&(g=ro(g)),e.parse(g),e.flush()}},{key:"updateTimeMapping_",value:function(a,b,c){var d=a.segment;if(b){if(!a.cues.length)return void(d.empty=!0);var e=a.timestampmap,f=e.MPEGTS/9e4-e.LOCAL+b.mapping;if(a.cues.forEach(function(a){a.startTime+=f,a.endTime+=f}),!c.syncInfo){var g=a.cues[0].startTime,h=a.cues[a.cues.length-1].startTime;c.syncInfo={mediaSequence:c.mediaSequence+a.mediaIndex,time:Math.min(g,h-d.duration)}}}}}]),c}(qo),uo=function(a,b){for(var c=a.cues,d=0;d<c.length;d++){var e=c[d];if(b>=e.adStartTime&&b<=e.adEndTime)return e}return null},vo=function(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(b.segments)for(var e=d,f=void 0,g=0;g<b.segments.length;g++){var h=b.segments[g];if(f||(f=uo(c,e+h.duration/2)),f){if("cueIn"in h){f.endTime=e,f.adEndTime=e,e+=h.duration,f=null;continue}if(e<f.endTime){e+=h.duration;continue}f.endTime+=h.duration}else if("cueOut"in h&&(f=new a.VTTCue(e,e+h.duration,h.cueOut),f.adStartTime=e,f.adEndTime=e+parseFloat(h.cueOut),c.addCue(f)),"cueOutCont"in h){var i=void 0,j=void 0,k=h.cueOutCont.split("/").map(parseFloat),l=Al(k,2);i=l[0],j=l[1],f=new a.VTTCue(e,e+h.duration,""),f.adStartTime=e-i,f.adEndTime=f.adStartTime+j,c.addCue(f)}e+=h.duration}},wo=gl.inspect,xo=[{name:"VOD",run:function(a,b,c,d,e){if(c!==1/0){var f={time:0,segmentIndex:0};return f}return null}},{name:"ProgramDateTime",run:function(a,b,c,d,e){if(!a.datetimeToDisplayTime)return null;var f=b.segments||[],g=null,h=null;e=e||0;for(var i=0;i<f.length;i++){var j=f[i];if(j.dateTimeObject){var k=j.dateTimeObject.getTime()/1e3,l=k+a.datetimeToDisplayTime,m=Math.abs(e-l);if(null!==h&&(0===m||h<m))break;h=m,g={time:l,segmentIndex:i}}}return g}},{name:"Segment",run:function(a,b,c,d,e){var f=b.segments||[],g=null,h=null;e=e||0;for(var i=0;i<f.length;i++){var j=f[i];if(j.timeline===d&&"undefined"!=typeof j.start){var k=Math.abs(e-j.start);if(null!==h&&h<k)break;(!g||null===h||h>=k)&&(h=k,g={time:j.start,segmentIndex:i})}}return g}},{name:"Discontinuity",run:function(a,b,c,d,e){var f=null;if(e=e||0,b.discontinuityStarts&&b.discontinuityStarts.length)for(var g=null,h=0;h<b.discontinuityStarts.length;h++){var i=b.discontinuityStarts[h],j=b.discontinuitySequence+h+1,k=a.discontinuities[j];if(k){var l=Math.abs(e-k.time);if(null!==g&&g<l)break;(!f||null===g||g>=l)&&(g=l,f={time:k.time,segmentIndex:i})}}return f}},{name:"Playlist",run:function(a,b,c,d,e){if(b.syncInfo){var f={time:b.syncInfo.time,segmentIndex:b.syncInfo.mediaSequence-b.mediaSequence};return f}return null}}],yo=function(a){function b(){vl(this,b);var a=zl(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.inspectCache_=void 0,a.timelines=[],a.discontinuities=[],a.datetimeToDisplayTime=null,a.logger_=Mn("SyncController"),a}return yl(b,a),wl(b,[{key:"getSyncPoint",value:function(a,b,c,d){var e=this.runStrategies_(a,b,c,d);return e.length?this.selectSyncPoint_(e,{key:"time",value:d}):null}},{key:"getExpiredTime",value:function(a,b){if(!a||!a.segments)return null;var c=this.runStrategies_(a,b,a.discontinuitySequence,0);if(!c.length)return null;var d=this.selectSyncPoint_(c,{key:"segmentIndex",value:0});return d.segmentIndex>0&&(d.time*=-1),Math.abs(d.time+Sl(a,d.segmentIndex,0))}},{key:"runStrategies_",value:function(a,b,c,d){for(var e=[],f=0;f<xo.length;f++){var g=xo[f],h=g.run(this,a,b,c,d);h&&(h.strategy=g.name,e.push({strategy:g.name,syncPoint:h}))}return e}},{key:"selectSyncPoint_",value:function(a,b){for(var c=a[0].syncPoint,d=Math.abs(a[0].syncPoint[b.key]-b.value),e=a[0].strategy,f=1;f<a.length;f++){var g=Math.abs(a[f].syncPoint[b.key]-b.value);g<d&&(d=g,c=a[f].syncPoint,e=a[f].strategy)}return this.logger_("syncPoint for ["+b.key+": "+b.value+"] chosen with strategy"+(" ["+e+"]: [time:"+c.time+",")+(" segmentIndex:"+c.segmentIndex+"]")),c}},{key:"saveExpiredSegmentInfo",value:function(a,b){for(var c=b.mediaSequence-a.mediaSequence,d=c-1;d>=0;d--){var e=a.segments[d];if(e&&"undefined"!=typeof e.start){b.syncInfo={mediaSequence:a.mediaSequence+d,time:e.start},this.logger_("playlist refresh sync: [time:"+b.syncInfo.time+","+(" mediaSequence: "+b.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(a){if(!this.datetimeToDisplayTime&&a.segments&&a.segments.length&&a.segments[0].dateTimeObject){var b=a.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-b}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(a){var b=a.segment,c=a.playlist,d=void 0;return d=b.map?this.probeMp4Segment_(a):this.probeTsSegment_(a),d&&this.calculateSegmentTimeMapping_(a,d)&&(this.saveDiscontinuitySyncInfo_(a),c.syncInfo||(c.syncInfo={mediaSequence:c.mediaSequence+a.mediaIndex,time:b.start})),d}},{key:"probeMp4Segment_",value:function(a){var b=a.segment,c=Lj.timescale(b.map.bytes),d=Lj.compositionStartTime(c,a.bytes);return null!==a.timestampOffset&&(a.timestampOffset-=d),{start:d,end:d+b.duration}}},{key:"probeTsSegment_",value:function(a){var b=wo(a.bytes,this.inspectCache_),c=void 0,d=void 0,e=void 0;if(!b)return null;b.video&&2===b.video.length?(this.inspectCache_=b.video[1].dts,c=b.video[0].dtsTime,d=b.video[1].dtsTime,e=b.video):b.audio&&2===b.audio.length&&(this.inspectCache_=b.audio[1].dts,c=b.audio[0].dtsTime,d=b.audio[1].dtsTime,e=b.audio);var f={segmentTimestampInfo:e,start:c,end:d,containsVideo:b.video&&2===b.video.length,containsAudio:b.audio&&2===b.audio.length};return f}},{key:"timestampOffsetForTimeline",value:function(a){return"undefined"==typeof this.timelines[a]?null:this.timelines[a].time}},{key:"mappingForTimeline",value:function(a){return"undefined"==typeof this.timelines[a]?null:this.timelines[a].mapping}},{key:"calculateSegmentTimeMapping_",value:function(a,b){var c=a.segment,d=this.timelines[a.timeline];if(null!==a.timestampOffset)d={time:a.startOfSegment,mapping:a.startOfSegment-b.start},this.timelines[a.timeline]=d,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+a.timeline+": "+("[time: "+d.time+"] [mapping: "+d.mapping+"]")),c.start=a.startOfSegment,c.end=b.end+d.mapping;else{if(!d)return!1;c.start=b.start+d.mapping,c.end=b.end+d.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(a){var b=a.playlist,c=a.segment;if(c.discontinuity)this.discontinuities[c.timeline]={time:c.start,accuracy:0};else if(b.discontinuityStarts&&b.discontinuityStarts.length)for(var d=0;d<b.discontinuityStarts.length;d++){var e=b.discontinuityStarts[d],f=b.discontinuitySequence+d+1,g=e-a.mediaIndex,h=Math.abs(g);if(!this.discontinuities[f]||this.discontinuities[f].accuracy>h){var i=void 0;i=g<0?c.start-Sl(b,a.mediaIndex,e):c.end+Sl(b,a.mediaIndex+1,e),this.discontinuities[f]={time:i,accuracy:h}}}}},{key:"dispose",value:function(){this.trigger("dispose"),this.off()}}]),b}(ib.EventTarget),zo=new qc("./decrypter-worker.worker.js",function(a,b){var c=this;(function(){function a(a){return a.subarray(0,a.byteLength-a[a.byteLength-1])}var b=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},f=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},g=function(){var a=[[[],[],[],[],[]],[[],[],[],[],[]]],b=a[0],c=a[1],d=b[4],e=c[4],f=void 0,g=void 0,h=void 0,i=[],j=[],k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0;for(f=0;f<256;f++)j[(i[f]=f<<1^283*(f>>7))^f]=f;for(g=h=0;!d[g];g^=k||1,h=j[h]||1)for(n=h^h<<1^h<<2^h<<3^h<<4,n=n>>8^255&n^99,d[g]=n,e[n]=g,m=i[l=i[k=i[g]]],p=16843009*m^65537*l^257*k^16843008*g,o=257*i[n]^16843008*n,f=0;f<4;f++)b[f][g]=o=o<<24^o>>>8,c[f][n]=p=p<<24^p>>>8;for(f=0;f<5;f++)b[f]=b[f].slice(0),c[f]=c[f].slice(0);return a},h=null,i=function(){function a(c){b(this,a),h||(h=g()),this._tables=[[h[0][0].slice(),h[0][1].slice(),h[0][2].slice(),h[0][3].slice(),h[0][4].slice()],[h[1][0].slice(),h[1][1].slice(),h[1][2].slice(),h[1][3].slice(),h[1][4].slice()]];var d=void 0,e=void 0,f=void 0,i=void 0,j=void 0,k=this._tables[0][4],l=this._tables[1],m=c.length,n=1;if(4!==m&&6!==m&&8!==m)throw new Error("Invalid aes key size");for(i=c.slice(0),j=[],this._key=[i,j],d=m;d<4*m+28;d++)f=i[d-1],(d%m===0||8===m&&d%m===4)&&(f=k[f>>>24]<<24^k[f>>16&255]<<16^k[f>>8&255]<<8^k[255&f],d%m===0&&(f=f<<8^f>>>24^n<<24,n=n<<1^283*(n>>7))),i[d]=i[d-m]^f;for(e=0;d;e++,d--)f=i[3&e?d:d-4],d<=4||e<4?j[e]=f:j[e]=l[0][k[f>>>24]]^l[1][k[f>>16&255]]^l[2][k[f>>8&255]]^l[3][k[255&f]]}return a.prototype.decrypt=function(a,b,c,d,e,f){var g=this._key[1],h=a^g[0],i=d^g[1],j=c^g[2],k=b^g[3],l=void 0,m=void 0,n=void 0,o=g.length/4-2,p=void 0,q=4,r=this._tables[1],s=r[0],t=r[1],u=r[2],v=r[3],w=r[4];for(p=0;p<o;p++)l=s[h>>>24]^t[i>>16&255]^u[j>>8&255]^v[255&k]^g[q],m=s[i>>>24]^t[j>>16&255]^u[k>>8&255]^v[255&h]^g[q+1],n=s[j>>>24]^t[k>>16&255]^u[h>>8&255]^v[255&i]^g[q+2],k=s[k>>>24]^t[h>>16&255]^u[i>>8&255]^v[255&j]^g[q+3],q+=4,h=l,i=m,j=n;for(p=0;p<4;p++)e[(3&-p)+f]=w[h>>>24]<<24^w[i>>16&255]<<16^w[j>>8&255]<<8^w[255&k]^g[q++],l=h,h=i,i=j,j=k,k=l},a}(),j=function(){function a(){b(this,a),this.listeners={}}return a.prototype.on=function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)},a.prototype.off=function(a,b){if(!this.listeners[a])return!1;var c=this.listeners[a].indexOf(b);return this.listeners[a].splice(c,1),c>-1},a.prototype.trigger=function(a){var b=this.listeners[a];if(b)if(2===arguments.length)for(var c=b.length,d=0;d<c;++d)b[d].call(this,arguments[1]);else for(var e=Array.prototype.slice.call(arguments,1),f=b.length,g=0;g<f;++g)b[g].apply(this,e)},a.prototype.dispose=function(){this.listeners={}},a.prototype.pipe=function(a){this.on("data",function(b){a.push(b)})},a}(),k=function(a){function c(){b(this,c);var d=f(this,a.call(this,j));return d.jobs=[],d.delay=1,d.timeout_=null,d}return e(c,a),c.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},c.prototype.push=function(a){this.jobs.push(a),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},c}(j),l=function(a){return a<<24|(65280&a)<<8|(16711680&a)>>8|a>>>24},m=function(a,b,c){var d=new Int32Array(a.buffer,a.byteOffset,a.byteLength>>2),e=new i(Array.prototype.slice.call(b)),f=new Uint8Array(a.byteLength),g=new Int32Array(f.buffer),h=void 0,j=void 0,k=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0;for(h=c[0],j=c[1],k=c[2],m=c[3],r=0;r<d.length;r+=4)n=l(d[r]),o=l(d[r+1]),p=l(d[r+2]),q=l(d[r+3]),e.decrypt(n,o,p,q,g,r),g[r]=l(g[r]^h),g[r+1]=l(g[r+1]^j),g[r+2]=l(g[r+2]^k),g[r+3]=l(g[r+3]^m),h=n,j=o,k=p,m=q;return f},n=function(){function c(d,e,f,g){b(this,c);var h=c.STEP,i=new Int32Array(d.buffer),j=new Uint8Array(d.byteLength),m=0;for(this.asyncStream_=new k,this.asyncStream_.push(this.decryptChunk_(i.subarray(m,m+h),e,f,j)),m=h;m<i.length;m+=h)f=new Uint32Array([l(i[m-4]),l(i[m-3]),l(i[m-2]),l(i[m-1])]),this.asyncStream_.push(this.decryptChunk_(i.subarray(m,m+h),e,f,j));this.asyncStream_.push(function(){g(null,a(j))})}return c.prototype.decryptChunk_=function(a,b,c,d){return function(){var e=m(a,b,c);d.set(e,a.byteOffset)}},d(c,null,[{key:"STEP",get:function(){return 32e3}}]),c}(),o=function(a){var b={};return Object.keys(a).forEach(function(c){var d=a[c];ArrayBuffer.isView(d)?b[c]={bytes:d.buffer,byteOffset:d.byteOffset,byteLength:d.byteLength}:b[c]=d}),b},p=function(a){a.onmessage=function(b){var c=b.data,d=new Uint8Array(c.encrypted.bytes,c.encrypted.byteOffset,c.encrypted.byteLength),e=new Uint32Array(c.key.bytes,c.key.byteOffset,c.key.byteLength/4),f=new Uint32Array(c.iv.bytes,c.iv.byteOffset,c.iv.byteLength/4);new n(d,e,f,function(b,d){a.postMessage(o({source:c.source,decrypted:d}),[d.buffer])})}},q=new p(c);return q})()}),Ao=function(a){var b=a.default?"main":"alternative";return a.characteristics&&a.characteristics.indexOf("public.accessibility.describes-video")>=0&&(b="main-desc"),b},Bo=function(a,b){a.abort(),a.pause(),b&&b.activePlaylistLoader&&(b.activePlaylistLoader.pause(),b.activePlaylistLoader=null)},Co=function(a,b){b.activePlaylistLoader=a,a.load()},Do=function(a,b){return function(){var c=b.segmentLoaders,d=c[a],e=c.main,f=b.mediaTypes[a],g=f.activeTrack(),h=f.activeGroup(g),i=f.activePlaylistLoader;if(Bo(d,f),h){if(!h.playlistLoader)return void(i&&e.resetEverything());d.resyncLoader(),Co(h.playlistLoader,f)}}},Eo=function(a,b){return function(){var c=b.segmentLoaders,d=c[a],e=c.main,f=b.mediaTypes[a],g=f.activeTrack(),h=f.activeGroup(g),i=f.activePlaylistLoader;if(Bo(d,f),h){if(!h.playlistLoader)return void e.resetEverything();if(i===h.playlistLoader)return void Co(h.playlistLoader,f);d.track&&d.track(g),d.resetEverything(),Co(h.playlistLoader,f)}}},Fo={AUDIO:function(a,b){return function(){var c=b.segmentLoaders[a],d=b.mediaTypes[a],e=b.blacklistCurrentPlaylist;Bo(c,d);var f=d.activeTrack(),g=d.activeGroup(),h=(g.filter(function(a){return a.default})[0]||g[0]).id,i=d.tracks[h];if(f===i)return void e({message:"Problem encountered loading the default audio track."});ib.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var j in d.tracks)d.tracks[j].enabled=d.tracks[j]===i;d.onTrackChanged()}},SUBTITLES:function(a,b){return function(){var c=b.segmentLoaders[a],d=b.mediaTypes[a];ib.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Bo(c,d);var e=d.activeTrack();e&&(e.mode="disabled"),d.onTrackChanged()}}},Go={AUDIO:function(a,b,c){if(b){var d=c.tech,e=c.requestOptions,f=c.segmentLoaders[a];b.on("loadedmetadata",function(){var a=b.media();f.playlist(a,e),(!d.paused()||a.endList&&"none"!==d.preload())&&f.load()}),b.on("loadedplaylist",function(){f.playlist(b.media(),e),d.paused()||f.load()}),b.on("error",Fo[a](a,c))}},SUBTITLES:function(a,b,c){var d=c.tech,e=c.requestOptions,f=c.segmentLoaders[a],g=c.mediaTypes[a];b.on("loadedmetadata",function(){var a=b.media();f.playlist(a,e),f.track(g.activeTrack()),(!d.paused()||a.endList&&"none"!==d.preload())&&f.load()}),b.on("loadedplaylist",function(){f.playlist(b.media(),e),d.paused()||f.load()}),b.on("error",Fo[a](a,c))}},Ho={AUDIO:function(a,b){var c=b.hls,d=b.sourceType,e=b.segmentLoaders[a],f=b.requestOptions,g=b.master.mediaGroups,h=b.mediaTypes[a],i=h.groups,j=h.tracks,k=b.masterPlaylistLoader;g[a]&&0!==Object.keys(g[a]).length||(g[a]={main:{default:{default:!0}}});for(var l in g[a]){i[l]||(i[l]=[]);for(var m in g[a][l]){var n=g[a][l][m],o=void 0;if(o=n.resolvedUri?new Ml(n.resolvedUri,c,f):n.playlists&&"dash"===d?new Ln(n.playlists[0],c,f,k):null,n=ib.mergeOptions({id:m,playlistLoader:o},n),Go[a](a,n.playlistLoader,b),i[l].push(n),"undefined"==typeof j[m]){var p=new ib.AudioTrack({id:m,kind:Ao(n),enabled:!1,language:n.language,default:n.default,label:m});j[m]=p}}}e.on("error",Fo[a](a,b))},SUBTITLES:function(a,b){var c=b.tech,d=b.hls,e=b.sourceType,f=b.segmentLoaders[a],g=b.requestOptions,h=b.master.mediaGroups,i=b.mediaTypes[a],j=i.groups,k=i.tracks,l=b.masterPlaylistLoader;for(var m in h[a]){j[m]||(j[m]=[]);for(var n in h[a][m])if(!h[a][m][n].forced){var o=h[a][m][n],p=void 0;if("hls"===e?p=new Ml(o.resolvedUri,d,g):"dash"===e&&(p=new Ln(o.playlists[0],d,g,l)),o=ib.mergeOptions({id:n,playlistLoader:p},o),Go[a](a,o.playlistLoader,b),j[m].push(o),"undefined"==typeof k[n]){var q=c.addRemoteTextTrack({id:n,kind:"subtitles",default:o.default&&o.autoselect,language:o.language,label:n},!1).track;k[n]=q}}}f.on("error",Fo[a](a,b))},"CLOSED-CAPTIONS":function(a,b){var c=b.tech,d=b.master.mediaGroups,e=b.mediaTypes[a],f=e.groups,g=e.tracks;for(var h in d[a]){f[h]||(f[h]=[]);for(var i in d[a][h]){var j=d[a][h][i];if(j.instreamId.match(/CC\d/)&&(f[h].push(ib.mergeOptions({id:i},j)),"undefined"==typeof g[i])){var k=c.addRemoteTextTrack({id:j.instreamId,kind:"captions",default:j.default&&j.autoselect,language:j.language,label:i},!1).track;g[i]=k}}}}},Io=function(a,b){return function(c){var d=b.masterPlaylistLoader,e=b.mediaTypes[a].groups,f=d.media();if(!f)return null;var g=null;return f.attributes[a]&&(g=e[f.attributes[a]]),g=g||e.main,"undefined"==typeof c?g:null===c?null:g.filter(function(a){return a.id===c.id})[0]||null}},Jo={AUDIO:function(a,b){return function(){var c=b.mediaTypes[a].tracks;for(var d in c)if(c[d].enabled)return c[d];return null}},SUBTITLES:function(a,b){return function(){var c=b.mediaTypes[a].tracks;for(var d in c)if("showing"===c[d].mode||"hidden"===c[d].mode)return c[d];return null}}},Ko=function(a){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(b){Ho[b](b,a)});var b=a.mediaTypes,c=a.masterPlaylistLoader,d=a.tech,e=a.hls;["AUDIO","SUBTITLES"].forEach(function(c){b[c].activeGroup=Io(c,a),b[c].activeTrack=Jo[c](c,a),b[c].onGroupChanged=Do(c,a),b[c].onTrackChanged=Eo(c,a)});var f=b.AUDIO.activeGroup(),g=(f.filter(function(a){return a.default})[0]||f[0]).id;b.AUDIO.tracks[g].enabled=!0,b.AUDIO.onTrackChanged(),c.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(a){return b[a].onGroupChanged()})});var h=function(){b.AUDIO.onTrackChanged(),d.trigger({type:"usage",name:"hls-audio-change"})};d.audioTracks().addEventListener("change",h),d.remoteTextTracks().addEventListener("change",b.SUBTITLES.onTrackChanged),e.on("dispose",function(){d.audioTracks().removeEventListener("change",h),d.remoteTextTracks().removeEventListener("change",b.SUBTITLES.onTrackChanged)}),d.clearTracks("audio");for(var i in b.AUDIO.tracks)d.audioTracks().addTrack(b.AUDIO.tracks[i])},Lo=function(){var a={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(b){a[b]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:tc,activeTrack:tc,onGroupChanged:tc,onTrackChanged:tc}}),a},Mo=120,No=void 0,Oo=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Po=function(a){return this.audioSegmentLoader_[a]+this.mainSegmentLoader_[a]},Qo=function(a){var b=a.currentPlaylist,c=a.nextPlaylist,d=a.forwardBuffer,e=a.bufferLowWaterLine,f=a.duration;a.log;return c?!b.endList||(f<On.MAX_BUFFER_LOW_WATER_LINE||(c.attributes.BANDWIDTH<b.attributes.BANDWIDTH||d>=e)):(ib.log.warn("We received no playlist to switch to. Please check your stream."),!1)},Ro=function(b){function c(a){vl(this,c);var b=zl(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),d=a.url,e=a.handleManifestRedirects,f=a.withCredentials,g=a.tech,h=a.bandwidth,i=a.externHls,j=a.useCueTags,k=a.blacklistDuration,l=a.enableLowInitialPlaylist,m=a.cacheEncryptionKeys,n=a.sourceType;if(!d)throw new Error("A non-empty playlist URL is required");No=i,b.withCredentials=f,b.tech_=g,b.hls_=g.hls,b.sourceType_=n,b.useCueTags_=j,b.blacklistDuration=k,b.enableLowInitialPlaylist=l,b.useCueTags_&&(b.cueTagsTrack_=b.tech_.addTextTrack("metadata","ad-cues"),b.cueTagsTrack_.inBandMetadataTrackDispatchType=""),b.requestOptions_={withCredentials:f,handleManifestRedirects:e,timeout:null},b.mediaTypes_=Lo(),b.mediaSource=new ib.MediaSource,b.mediaSource.addEventListener("sourceopen",b.handleSourceOpen_.bind(b)),b.seekable_=ib.createTimeRanges(),b.hasPlayed_=!1,b.syncController_=new yo(a),b.segmentMetadataTrack_=g.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,b.decrypter_=new zo,b.inbandTextTracks_={};var o={hls:b.hls_,mediaSource:b.mediaSource,currentTime:b.tech_.currentTime.bind(b.tech_),seekable:function(){return b.seekable()},seeking:function(){return b.tech_.seeking()},duration:function(){return b.mediaSource.duration},hasPlayed:function(){return b.hasPlayed_},goalBufferLength:function(){return b.goalBufferLength()},bandwidth:h,syncController:b.syncController_,decrypter:b.decrypter_,sourceType:b.sourceType_,inbandTextTracks:b.inbandTextTracks_,cacheEncryptionKeys:m};return b.masterPlaylistLoader_="dash"===b.sourceType_?new Ln(d,b.hls_,b.requestOptions_):new Ml(d,b.hls_,b.requestOptions_),b.setupMasterPlaylistLoaderListeners_(),b.mainSegmentLoader_=new qo(ib.mergeOptions(o,{segmentMetadataTrack:b.segmentMetadataTrack_,loaderType:"main"}),a),b.audioSegmentLoader_=new qo(ib.mergeOptions(o,{loaderType:"audio"}),a),b.subtitleSegmentLoader_=new to(ib.mergeOptions(o,{loaderType:"vtt",featuresNativeTextTracks:b.tech_.featuresNativeTextTracks}),a),b.setupSegmentLoaderListeners_(),Oo.forEach(function(a){b[a+"_"]=Po.bind(b,a)}),b.logger_=Mn("MPC"),b.masterPlaylistLoader_.load(),b}return yl(c,b),wl(c,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var a=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var b=a.masterPlaylistLoader_.media(),c=1.5*b.targetDuration*1e3;hm(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=c,b.endList&&"none"!==a.tech_.preload()&&(a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.mainSegmentLoader_.load()),Ko({sourceType:a.sourceType_,segmentLoaders:{AUDIO:a.audioSegmentLoader_,SUBTITLES:a.subtitleSegmentLoader_,main:a.mainSegmentLoader_},tech:a.tech_,requestOptions:a.requestOptions_,masterPlaylistLoader:a.masterPlaylistLoader_,hls:a.hls_,master:a.master(),mediaTypes:a.mediaTypes_,blacklistCurrentPlaylist:a.blacklistCurrentPlaylist.bind(a)}),a.triggerPresenceUsage_(a.master(),b);try{a.setupSourceBuffers_()}catch(b){return ib.log.warn("Failed to create SourceBuffers",b),a.mediaSource.endOfStream("decode")}a.setupFirstPlay(),!a.mediaTypes_.AUDIO.activePlaylistLoader||a.mediaTypes_.AUDIO.activePlaylistLoader.media()?a.trigger("selectedinitialmedia"):a.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){a.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var b=a.masterPlaylistLoader_.media();if(!b){a.excludeUnsupportedVariants_();var c=void 0;return a.enableLowInitialPlaylist&&(c=a.selectInitialPlaylist()),c||(c=a.selectPlaylist()),a.initialMedia_=c,void a.masterPlaylistLoader_.media(a.initialMedia_)}if(a.useCueTags_&&a.updateAdCues_(b),a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.updateDuration(),a.tech_.paused()||(a.mainSegmentLoader_.load(),a.audioSegmentLoader_&&a.audioSegmentLoader_.load()),!b.endList){var d=function(){var b=a.seekable();0!==b.length&&a.mediaSource.addSeekableRange_(b.start(0),b.end(0))};if(a.duration()!==1/0){var e=function b(){a.duration()===1/0?d():a.tech_.one("durationchange",b)};a.tech_.one("durationchange",e)}else d()}}),this.masterPlaylistLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){a.mainSegmentLoader_.abort(),a.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var b=a.masterPlaylistLoader_.media(),c=1.5*b.targetDuration*1e3;hm(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=c,a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.mainSegmentLoader_.load(),a.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var b=a.masterPlaylistLoader_.media(),c=a.stuckAtPlaylistEnd_(b);c&&(a.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),a.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){a.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){a.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(a,b){var c=a.mediaGroups||{},d=!0,e=Object.keys(c.AUDIO);for(var f in c.AUDIO)for(var g in c.AUDIO[f]){var h=c.AUDIO[f][g];h.uri||(d=!1)}d&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(c.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),No.Playlist.isAes(b)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),No.Playlist.isFmp4(b)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.length&&Object.keys(c.AUDIO[e[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var a=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var b=a.selectPlaylist(),c=a.masterPlaylistLoader_.media(),d=a.tech_.buffered(),e=d.length?d.end(d.length-1)-a.tech_.currentTime():0,f=a.bufferLowWaterLine();Qo({currentPlaylist:c,nextPlaylist:b,forwardBuffer:e,bufferLowWaterLine:f,duration:a.duration(),log:a.logger_})&&a.masterPlaylistLoader_.media(b),a.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){a.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){a.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){a.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){a.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},Mo)}),this.mainSegmentLoader_.on("reseteverything",function(){a.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(b){a.tech_.trigger({type:"hls-segment-time-mapping",mapping:b.mapping})}),this.audioSegmentLoader_.on("ended",function(){a.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var a=this.selectPlaylist();a!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(a),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var a=this,b=this.selectPlaylist();b!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(b),this.mainSegmentLoader_.resetEverything(function(){ib.browser.IE_VERSION||ib.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var a=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<a.start(0)?this.tech_.setCurrentTime(a.end(a.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var a=this,b=this.masterPlaylistLoader_.media();if(!b||this.tech_.paused()||this.hasPlayed_)return!1;if(!b.endList){var c=this.seekable();if(!c.length)return!1;if(ib.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){a.trigger("firstplay"),a.tech_.setCurrentTime(c.end(0)),a.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(c.end(0))}return this.hasPlayed_=!0,this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(a){return ib.log.warn("Failed to create Source Buffers",a),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var a=this.tech_.play();"undefined"!=typeof a&&"function"==typeof a.then&&a.then(null,function(a){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var a=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?a&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),a){this.logger_("calling mediaSource.endOfStream()");try{
this.mediaSource.endOfStream()}catch(a){ib.log.warn("Failed to call media source endOfStream",a)}}}},{key:"stuckAtPlaylistEnd_",value:function(a){var b=this.seekable();if(!b.length)return!1;var c=this.syncController_.getExpiredTime(a,this.mediaSource.duration);if(null===c)return!1;var d=No.Playlist.playlistEnd(a,c),e=this.tech_.currentTime(),f=this.tech_.buffered();if(!f.length)return d-e<=Im;var g=f.end(f.length-1);return g-e<=Im&&d-g<=Im}},{key:"blacklistCurrentPlaylist",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1],c=void 0,d=void 0;if(c=a.playlist||this.masterPlaylistLoader_.media(),b=b||a.blacklistDuration||this.blacklistDuration,!c){this.error=a;try{return this.mediaSource.endOfStream("network")}catch(a){return this.trigger("error")}}var e=1===this.masterPlaylistLoader_.master.playlists.filter(bm).length,f=this.masterPlaylistLoader_.master.playlists;return 1===f.length?(ib.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(e)):(e&&(ib.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),f.forEach(function(a){a.excludeUntil!==1/0&&delete a.excludeUntil}),this.tech_.trigger("retryplaylist")),c.excludeUntil=Date.now()+1e3*b,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),d=this.selectPlaylist(),ib.log.warn("Problem encountered with the current HLS playlist."+(a.message?" "+a.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(d,e))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(a){var b=Km(this.tech_.buffered(),a);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?b&&b.length?a:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:No.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var a=void 0;if(this.masterPlaylistLoader_){var b=this.masterPlaylistLoader_.media();if(b){var c=this.syncController_.getExpiredTime(b,this.mediaSource.duration);if(null!==c){var d=this.masterPlaylistLoader_.master.suggestedPresentationDelay,e=No.Playlist.seekable(b,c,d);if(0!==e.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(b=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),c=this.syncController_.getExpiredTime(b,this.mediaSource.duration),null===c)return;if(a=No.Playlist.seekable(b,c,d),0===a.length)return}var f=void 0,g=void 0;this.seekable_&&this.seekable_.length&&(f=this.seekable_.end(0),g=this.seekable_.start(0)),a?a.start(0)>e.end(0)||e.start(0)>a.end(0)?this.seekable_=e:this.seekable_=ib.createTimeRanges([[a.start(0)>e.start(0)?a.start(0):e.start(0),a.end(0)<e.end(0)?a.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===f&&this.seekable_.start(0)===g||(this.logger_("seekable updated ["+Nm(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}}},{key:"updateDuration",value:function(){var a=this,b=this.mediaSource.duration,c=No.Playlist.duration(this.masterPlaylistLoader_.media()),d=this.tech_.buffered(),e=function b(){a.logger_("Setting duration from "+a.mediaSource.duration+" => "+c);try{a.mediaSource.duration=c}catch(a){ib.log.warn("Failed to set media source duration",a)}a.tech_.trigger("durationchange"),a.mediaSource.removeEventListener("sourceopen",b)};d.length>0&&(c=Math.max(c,d.end(d.length-1))),b!==c&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",e):e())}},{key:"dispose",value:function(){var a=this;this.trigger("dispose"),this.decrypter_&&this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(b){var c=a.mediaTypes_[b].groups;for(var d in c)c[d].forEach(function(a){a.playlistLoader&&a.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.off(),this.mediaSource.dispose&&this.mediaSource.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var a=this.masterPlaylistLoader_.media(),b=void 0;if(a&&"open"===this.mediaSource.readyState){if(b=mn(this.masterPlaylistLoader_.master,a),b.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+a.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(b),this.excludeIncompatibleVariants_(a)}}},{key:"configureLoaderMimeTypes_",value:function(a){var b=a.length>1&&a[0].indexOf(",")===-1&&a[0]!==a[1]?new ib.EventTarget:null;this.mainSegmentLoader_.mimeType(a[0],b),a[1]&&this.audioSegmentLoader_.mimeType(a[1],b)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(b){b.attributes.CODECS&&a.MediaSource&&a.MediaSource.isTypeSupported&&!a.MediaSource.isTypeSupported('video/mp4; codecs="'+gn(b.attributes.CODECS)+'"')&&(b.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(a){var b=2,c=null,d=void 0;a.attributes.CODECS&&(d=fn(a.attributes.CODECS),c=d.videoCodec,b=d.codecCount),this.master().playlists.forEach(function(a){var d={codecCount:2,videoCodec:null};a.attributes.CODECS&&(d=fn(a.attributes.CODECS)),d.codecCount!==b&&(a.excludeUntil=1/0),d.videoCodec!==c&&(a.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(a){var b=0,c=this.seekable();c.length&&(b=c.start(0)),vo(a,this.cueTagsTrack_,b)}},{key:"goalBufferLength",value:function(){var a=this.tech_.currentTime(),b=On.GOAL_BUFFER_LENGTH,c=On.GOAL_BUFFER_LENGTH_RATE,d=Math.max(b,On.MAX_GOAL_BUFFER_LENGTH);return Math.min(b+a*c,d)}},{key:"bufferLowWaterLine",value:function(){var a=this.tech_.currentTime(),b=On.BUFFER_LOW_WATER_LINE,c=On.BUFFER_LOW_WATER_LINE_RATE,d=Math.max(b,On.MAX_BUFFER_LOW_WATER_LINE);return Math.min(b+a*c,d)}}]),c}(ib.EventTarget),So=function(a,b,c){return function(d){var e=a.master.playlists[b],f=am(e),g=bm(e);return"undefined"==typeof d?g:(d?delete e.disabled:e.disabled=!0,d===g||f||(c(),d?a.trigger("renditionenabled"):a.trigger("renditiondisabled")),d)}},To=function a(b,c,d){vl(this,a);var e=b.masterPlaylistController_,f=b.options_.smoothQualityChange,g=f?"smooth":"fast",h=e[g+"QualityChange_"].bind(e);if(c.attributes.RESOLUTION){var i=c.attributes.RESOLUTION;this.width=i.width,this.height=i.height}this.bandwidth=c.attributes.BANDWIDTH,this.id=d,this.enabled=So(b.playlists,c.id,h)},Uo=function(a){var b=a.playlists;a.representations=function(){return b&&b.master&&b.master.playlists?b.master.playlists.filter(function(a){return!am(a)}).map(function(b,c){return new To(a,b,b.id)}):[]}},Vo=["seeking","seeked","pause","playing","error"],Wo=function(){function b(c){var d=this;vl(this,b),this.tech_=c.tech,this.seekable=c.seekable,this.allowSeeksWithinUnsafeLiveWindow=c.allowSeeksWithinUnsafeLiveWindow,this.media=c.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Mn("PlaybackWatcher"),this.logger_("initialize");var e=function(){return d.monitorCurrentTime_()},f=function(){return d.techWaiting_()},g=function(){return d.cancelTimer_()},h=function(){return d.fixesBadSeeks_()};this.tech_.on("seekablechanged",h),this.tech_.on("waiting",f),this.tech_.on(Vo,g),this.tech_.on("canplay",e),this.dispose=function(){d.logger_("dispose"),d.tech_.off("seekablechanged",h),d.tech_.off("waiting",f),d.tech_.off(Vo,g),d.tech_.off("canplay",e),d.checkCurrentTimeTimeout_&&a.clearTimeout(d.checkCurrentTimeTimeout_),d.cancelTimer_()}}return wl(b,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var a=this.tech_.currentTime(),b=this.tech_.buffered();return this.lastRecordedTime===a&&(!b.length||a+Im>=b.end(b.length-1))?this.techWaiting_():void(this.consecutiveUpdates>=5&&a===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):a===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=a))}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var a=this.tech_.seeking();if(!a)return!1;var b=this.seekable(),c=this.tech_.currentTime(),d=this.afterSeekableWindow_(b,c,this.media(),this.allowSeeksWithinUnsafeLiveWindow),e=void 0;if(d){var f=b.end(b.length-1);e=f}if(this.beforeSeekableWindow_(b,c)){var g=b.start(0);e=g+Im}return"undefined"!=typeof e&&(this.logger_("Trying to seek outside of seekable at time "+c+" with "+("seekable range "+Nm(b)+". Seeking to ")+(e+".")),this.tech_.setCurrentTime(e),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var a=this.tech_.currentTime(),b=this.tech_.buffered(),c=Km(b,a);return c.length&&a+3<=c.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(a),this.logger_("Stopped at "+a+" while inside a buffered region "+("["+c.start(0)+" -> "+c.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var a=this.seekable(),b=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(a,b)){var c=a.end(a.length-1);return this.logger_("Fell out of live window at time "+b+". Seeking to live point (seekable end) "+c),this.cancelTimer_(),this.tech_.setCurrentTime(c),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var d=this.tech_.buffered(),e=Lm(d,b);if(this.videoUnderflow_(e,d,b))return this.cancelTimer_(),this.tech_.setCurrentTime(b),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(e.length>0){var f=e.start(0)-b;return this.logger_("Stopped at "+b+", setting timer for "+f+", seeking to "+e.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*f,b),!0}return!1}},{key:"afterSeekableWindow_",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!a.length)return!1;var e=a.end(a.length-1)+Im,f=!c.endList;return f&&d&&(e=a.end(a.length-1)+3*c.targetDuration),b>e}},{key:"beforeSeekableWindow_",value:function(a,b){return!!(a.length&&a.start(0)>0&&b<a.start(0)-Im)}},{key:"videoUnderflow_",value:function(a,b,c){if(0===a.length){var d=this.gapFromVideoUnderflow_(b,c);if(d)return this.logger_("Encountered a gap in video from "+d.start+" to "+d.end+". Seeking to current time "+c),!0}return!1}},{key:"skipTheGap_",value:function(a){var b=this.tech_.buffered(),c=this.tech_.currentTime(),d=Lm(b,c);this.cancelTimer_(),0!==d.length&&c===a&&(this.logger_("skipTheGap_:","currentTime:",c,"scheduled currentTime:",a,"nextRange start:",d.start(0)),this.tech_.setCurrentTime(d.start(0)+Hm),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(a,b){for(var c=Mm(a),d=0;d<c.length;d++){var e=c.start(d),f=c.end(d);if(b-e<4&&b-e>2)return{start:e,end:f}}return null}}]),b}(),Xo={errorInterval:30,getSource:function(a){var b=this.tech({IWillNotUseThisInPlugins:!0}),c=b.currentSource_;return a(c)}},Yo=function a(b,c){var d=0,e=0,f=ib.mergeOptions(Xo,c);b.ready(function(){b.trigger({type:"usage",name:"hls-error-reload-initialized"})});var g=function(){e&&b.currentTime(e)},h=function(a){null!==a&&void 0!==a&&(e=b.duration()!==1/0&&b.currentTime()||0,b.one("loadedmetadata",g),b.src(a),b.trigger({type:"usage",name:"hls-error-reload"}),b.play())},i=function(){return Date.now()-d<1e3*f.errorInterval?void b.trigger({type:"usage",name:"hls-error-reload-canceled"}):f.getSource&&"function"==typeof f.getSource?(d=Date.now(),f.getSource.call(b,h)):void ib.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},j=function a(){b.off("loadedmetadata",g),b.off("error",i),b.off("dispose",a)},k=function(c){j(),a(b,c)};b.on("error",i),b.on("dispose",j),b.reloadSourceOnError=k},Zo=function(a){Yo(this,a)},$o="1.13.3",_o={PlaylistLoader:Ml,Playlist:im,Decrypter:sl,AsyncStream:pl,decrypt:rl,utils:xm,STANDARD_PLAYLIST_SELECTOR:fo,INITIAL_PLAYLIST_SELECTOR:ho,comparePlaylistBandwidth:bo,comparePlaylistResolution:co,xhr:lm()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(a){Object.defineProperty(_o,a,{get:function(){return ib.log.warn("using Hls."+a+" is UNSAFE be sure you know what you are doing"),On[a]},set:function(b){return ib.log.warn("using Hls."+a+" is UNSAFE be sure you know what you are doing"),"number"!=typeof b||b<0?void ib.log.warn("value of Hls."+a+" must be greater than or equal to 0"):void(On[a]=b)}})});var ap="videojs-vhs",bp=function(a){var b=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;if(b.test(a))return"hls";var c=/^application\/dash\+xml/i;return c.test(a)?"dash":null},cp=function(a,b){for(var c=b.media(),d=-1,e=0;e<a.length;e++)if(a[e].id===c.id){d=e;break}a.selectedIndex_=d,a.trigger({selectedIndex:d,type:"change"})},dp=function(a,b){b.representations().forEach(function(b){a.addQualityLevel(b)}),cp(a,b.playlists)};_o.canPlaySource=function(){return ib.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ep=function(a,b,c){if(!a)return a;var d=void 0,e=void 0;if(c.mimeType_)d=b.mimeType_,e=c.mimeType_;else{var f=nn(b.mimeType_),g=f.parameters.codecs.split(","),h=void 0,i=void 0;g.forEach(function(a){a=a.trim(),on(a)?h=a:pn(a)&&(i=a)}),d=f.type+'; codecs="'+i+'"',e=f.type.replace("video","audio")+'; codecs="'+h+'"'}var j={},k=b.playlist_;for(var l in a)j[l]={audioContentType:e,videoContentType:d},k.contentProtection&&k.contentProtection[l]&&k.contentProtection[l].pssh&&(j[l].pssh=k.contentProtection[l].pssh),"string"==typeof a[l]&&(j[l].url=a[l]);return ib.mergeOptions(a,j)},fp=function(a){var b=a.masterPlaylistController_.mainSegmentLoader_,c=a.masterPlaylistController_.audioSegmentLoader_,d=ib.players[a.tech_.options_.playerId];if(d.eme){var e=ep(a.source_.keySystems,b,c);e&&(d.currentSource().keySystems=e,11!==ib.browser.IE_VERSION&&d.eme.initializeMediaKeys&&d.eme.initializeMediaKeys())}},gp=function(){if(!window.localStorage)return null;var a=window.localStorage.getItem(ap);if(!a)return null;try{return JSON.parse(a)}catch(a){return null}},hp=function(a){if(!window.localStorage)return!1;var b=gp();b=b?ib.mergeOptions(b,a):a;try{window.localStorage.setItem(ap,JSON.stringify(b))}catch(a){return!1}return b};_o.supportsNativeHls=function(){var a=b.createElement("video");if(!ib.getTech("Html5").isSupported())return!1;var c=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return c.some(function(b){return/maybe|probably/i.test(a.canPlayType(b))})}(),_o.supportsNativeDash=function(){return!!ib.getTech("Html5").isSupported()&&/maybe|probably/i.test(b.createElement("video").canPlayType("application/dash+xml"))}(),_o.supportsTypeNatively=function(a){return"hls"===a?_o.supportsNativeHls:"dash"===a&&_o.supportsNativeDash},_o.isSupported=function(){return ib.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ip=ib.getComponent("Component"),jp=function(a){function c(a,d,e){vl(this,c);var f=zl(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,d,e.hls));if(d.options_&&d.options_.playerId){var g=ib(d.options_.playerId);g.hasOwnProperty("hls")||Object.defineProperty(g,"hls",{get:function(){return ib.log.warn("player.hls is deprecated. Use player.tech().hls instead."),d.trigger({type:"usage",name:"hls-player-access"}),f},configurable:!0}),g.vhs=f,g.dash=f,f.player_=g}if(f.tech_=d,f.source_=a,f.stats={},f.ignoreNextSeekingEvent_=!1,f.setOptions_(),f.options_.overrideNative&&d.overrideNativeAudioTracks&&d.overrideNativeVideoTracks)d.overrideNativeAudioTracks(!0),d.overrideNativeVideoTracks(!0);else if(f.options_.overrideNative&&(d.featuresNativeVideoTracks||d.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return f.on(b,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(a){var c=b.fullscreenElement||b.webkitFullscreenElement||b.mozFullScreenElement||b.msFullscreenElement;c&&c.contains(f.tech_.el())&&f.masterPlaylistController_.smoothQualityChange_()}),f.on(f.tech_,"seeking",function(){return this.ignoreNextSeekingEvent_?void(this.ignoreNextSeekingEvent_=!1):void this.setCurrentTime(this.tech_.currentTime())}),f.on(f.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),f.on(f.tech_,"play",f.play),f}return yl(c,a),wl(c,[{key:"setOptions_",value:function(){var a=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!=typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var b=gp();b&&b.bandwidth&&(this.options_.bandwidth=b.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),b&&b.throughput&&(this.options_.throughput=b.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=On.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===On.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(b){"undefined"!=typeof a.source_[b]&&(a.options_[b]=a.source_[b])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}},{key:"src",value:function(a,b){var c=this;a&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=_o,this.options_.sourceType=bp(b),this.options_.seekTo=function(a){c.tech_.setCurrentTime(a)},this.masterPlaylistController_=new Ro(this.options_),this.playbackWatcher_=new Wo(ib.mergeOptions(this.options_,{seekable:function(){return c.seekable()},media:function(){return c.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){var a=ib.players[c.tech_.options_.playerId];a.error(c.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):_o.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=_o.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(a){this.masterPlaylistController_.selectPlaylist=a.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=a,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=a,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var a=1/(this.bandwidth||1),b=void 0;b=this.throughput>0?1/this.throughput:0;var c=Math.floor(1/(a+b));return c},set:function(){ib.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return c.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return c.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return c.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return c.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return c.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return c.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return c.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return c.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Pm(c.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return c.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return c.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return c.tech_.name_},enumerable:!0},duration:{get:function(){return c.tech_.duration()},enumerable:!0},master:{get:function(){return c.playlists.master},enumerable:!0},playerDimensions:{get:function(){return c.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Pm(c.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return c.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){c.options_.useBandwidthFromLocalStorage&&hp({bandwidth:c.bandwidth,throughput:Math.round(c.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){Uo(c),fp(c)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&this.tech_.src(ib.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var a=this,b=ib.players[this.tech_.options_.playerId];b&&b.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=b.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){dp(a.qualityLevels_,a)}),this.playlists.on("mediachange",function(){cp(a.qualityLevels_,a.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(a){this.masterPlaylistController_.setCurrentTime(a)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,xl(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(a,b){return Fm({playlist:this.masterPlaylistController_.media(),time:a,callback:b})}},{key:"seekToProgramTime",value:function(a,b){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Gm({programTime:a,playlist:this.masterPlaylistController_.media(),retryCount:d,pauseAfterSeek:c,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:b})}}]),c}(ip),kp={name:"videojs-http-streaming",VERSION:$o,canHandleSource:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ib.mergeOptions(ib.options,b);return kp.canPlayType(a.type,c)},handleSource:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=ib.mergeOptions(ib.options,c);return b.hls=new jp(a,b,d),b.hls.xhr=lm(),b.hls.src(a.src,a.type),b.hls},canPlayType:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ib.mergeOptions(ib.options,b),d=c.hls.overrideNative,e=bp(a),f=e&&(!_o.supportsTypeNatively(e)||d);return f?"maybe":""}};return"undefined"!=typeof ib.MediaSource&&"undefined"!=typeof ib.URL||(ib.MediaSource=Bn,ib.URL=Cn),Bn.supportsNativeMediaSources()&&ib.getTech("Html5").registerSourceHandler(kp,0),ib.HlsHandler=jp,ib.HlsSourceHandler=kp,ib.Hls=_o,ib.use||ib.registerComponent("Hls",_o),ib.options.hls=ib.options.hls||{},ib.registerPlugin?ib.registerPlugin("reloadSourceOnError",Zo):ib.plugin("reloadSourceOnError",Zo),ib}),function(){var define=void 0;!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("videojs"),require("react"),require("react-dom"),require("Hls"),require("dashjs")):"function"==typeof define&&define.amd?define(["videojs","react","react-dom","Hls","dashjs"],b):a.audioSwitchVoicePlayer=b(a.videojs,a.React,a.ReactDOM,a.Hls,a.dashjs)}(this,function(videojs,React,ReactDOM,Hls,dashjs){"use strict";function unwrapExports(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function createCommonjsModule(a,b){return b={exports:{}},a(b,b.exports),b.exports}function make_assign(){return Object.assign?Object.assign:function(a,b,c,d){for(var e=1;e<arguments.length;e++)each$1(Object(arguments[e]),function(b,c){a[c]=b});return a}}function make_create(){function a(){}return Object.create?function(a,b,c,d){var e=slice$1(arguments,1);return assign.apply(this,[Object.create(a)].concat(e))}:function(b,c,d,e){var f=slice$1(arguments,1);return a.prototype=b,assign.apply(this,[new a].concat(f))}}function make_trim(){return String.prototype.trim?function(a){return String.prototype.trim.call(a)}:function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function bind$1(a,b){return function(){return b.apply(a,Array.prototype.slice.call(arguments,0))}}function slice$1(a,b){return Array.prototype.slice.call(a,b||0)}function each$1(a,b){pluck$1(a,function(a,c){return b(a,c),!1})}function map(a,b){var c=isList$1(a)?[]:{};return pluck$1(a,function(a,d){return c[d]=b(a,d),!1}),c}function pluck$1(a,b){if(isList$1(a)){for(var c=0;c<a.length;c++)if(b(a[c],c))return a[c]}else for(var d in a)if(a.hasOwnProperty(d)&&b(a[d],d))return a[d]}function isList$1(a){return null!=a&&"function"!=typeof a&&"number"==typeof a.length}function isFunction$1(a){return a&&"[object Function]"==={}.toString.call(a)}function isObject$1(a){return a&&"[object Object]"==={}.toString.call(a)}function _warn(){var a="undefined"==typeof console?null:console;if(a){var b=a.warn?a.warn:a.log;b.apply(a,arguments)}}function createStore(a,b,c){c||(c=""),a&&!isList(a)&&(a=[a]),b&&!isList(b)&&(b=[b]);var d=c?"__storejs_"+c+"_":"",e=c?new RegExp("^"+d):null,f=/^[a-zA-Z0-9_\-]*$/;if(!f.test(c))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var g={_namespacePrefix:d,_namespaceRegexp:e,_testStorage:function(a){try{var b="__storejs__test__";a.write(b,b);var c=a.read(b)===b;return a.remove(b),c}catch(a){return!1}},_assignPluginFnProp:function(a,b){var c=this[b];this[b]=function(){function b(){if(c)return each(arguments,function(a,b){d[b]=a}),c.apply(e,d)}var d=slice(arguments,0),e=this,f=[b].concat(d);return a.apply(e,f)}},_serialize:function(a){return JSON.stringify(a)},_deserialize:function(a,b){if(!a)return b;var c="";try{c=JSON.parse(a)}catch(b){c=a}return void 0!==c?c:b},_addStorage:function(a){this.enabled||this._testStorage(a)&&(this.storage=a,this.enabled=!0)},_addPlugin:function(a){var b=this;if(isList(a))return void each(a,function(a){b._addPlugin(a)});var c=pluck(this.plugins,function(b){return a===b});if(!c){if(this.plugins.push(a),!isFunction(a))throw new Error("Plugins must be function values that return objects");var d=a.call(this);if(!isObject(d))throw new Error("Plugins must return an object of function properties");each(d,function(c,d){if(!isFunction(c))throw new Error("Bad plugin property: "+d+" from plugin "+a.name+". Plugins should only return functions.");b._assignPluginFnProp(c,d)})}},addStorage:function(a){_warn("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(a)}},h=create(g,storeAPI,{plugins:[]});return h.raw={},each(h,function(a,b){isFunction(a)&&(h.raw[b]=bind(h,a))}),each(a,function(a){h._addStorage(a)}),each(b,function(a){h._addPlugin(a)}),h}function localStorage(){return Global$1.localStorage}function read(a){return localStorage().getItem(a)}function write(a,b){return localStorage().setItem(a,b)}function each$2(a){for(var b=localStorage().length-1;b>=0;b--){var c=localStorage().key(b);a(read(c),c)}}function remove(a){return localStorage().removeItem(a)}function clearAll(){return localStorage().clear()}function read$1(a){return globalStorage[a]}function write$1(a,b){globalStorage[a]=b}function each$3(a){for(var b=globalStorage.length-1;b>=0;b--){var c=globalStorage.key(b);a(globalStorage[c],c)}}function remove$1(a){return globalStorage.removeItem(a)}function clearAll$1(){each$3(function(a,b){delete globalStorage[a]})}function write$2(a,b){if(!disable){var c=fixKey(a);_withStorageEl(function(a){a.setAttribute(c,b),a.save(storageName)})}}function read$2(a){if(!disable){var b=fixKey(a),c=null;return _withStorageEl(function(a){c=a.getAttribute(b)}),c}}function each$4(a){_withStorageEl(function(b){for(var c=b.XMLDocument.documentElement.attributes,d=c.length-1;d>=0;d--){var e=c[d];a(b.getAttribute(e.name),e.name)}})}function remove$2(a){var b=fixKey(a);_withStorageEl(function(a){a.removeAttribute(b),a.save(storageName)})}function clearAll$2(){_withStorageEl(function(a){
var b=a.XMLDocument.documentElement.attributes;a.load(storageName);for(var c=b.length-1;c>=0;c--)a.removeAttribute(b[c].name);a.save(storageName)})}function fixKey(a){return a.replace(/^\d/,"___$&").replace(forbiddenCharsRegex,"___")}function _makeIEStorageElFunction(){if(!doc||!doc.documentElement||!doc.documentElement.addBehavior)return null;var a,b,c,d="script";try{b=new ActiveXObject("htmlfile"),b.open(),b.write("<"+d+">document.w=window</"+d+'><iframe src="/favicon.ico"></iframe>'),b.close(),a=b.w.frames[0].document,c=a.createElement("div")}catch(b){c=doc.createElement("div"),a=doc.body}return function(b){var d=[].slice.call(arguments,0);d.unshift(c),a.appendChild(c),c.addBehavior("#default#userData"),c.load(storageName),b.apply(this,d),a.removeChild(c)}}function read$3(a){if(!a||!_has(a))return null;var b="(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(doc$1.cookie.replace(new RegExp(b),"$1"))}function each$5(a){for(var b=doc$1.cookie.split(/; ?/g),c=b.length-1;c>=0;c--)if(trim$1(b[c])){var d=b[c].split("="),e=unescape(d[0]),f=unescape(d[1]);a(f,e)}}function write$3(a,b){a&&(doc$1.cookie=escape(a)+"="+escape(b)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove$3(a){a&&_has(a)&&(doc$1.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll$3(){each$5(function(a,b){remove$3(b)})}function _has(a){return new RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(doc$1.cookie)}function sessionStorage(){return Global$5.sessionStorage}function read$4(a){return sessionStorage().getItem(a)}function write$4(a,b){return sessionStorage().setItem(a,b)}function each$6(a){for(var b=sessionStorage().length-1;b>=0;b--){var c=sessionStorage().key(b);a(read$4(c),c)}}function remove$4(a){return sessionStorage().removeItem(a)}function clearAll$4(){return sessionStorage().clear()}function read$5(a){return memoryStorage[a]}function write$5(a,b){memoryStorage[a]=b}function each$7(a){for(var b in memoryStorage)memoryStorage.hasOwnProperty(b)&&a(memoryStorage[b],b)}function remove$5(a){delete memoryStorage[a]}function clearAll$5(a){memoryStorage={}}function json2Plugin(){return{}}function detectiveAgents(){var a=/Chrome/i.test(navigator.userAgent),b=/MSIE/i.test(navigator.userAgent),c=/Edge/i.test(navigator.userAgent),d=/Firefox/i.test(navigator.userAgent),e=/Safari/i.test(navigator.userAgent),f=/op/i.test(navigator.userAgent);return a&&e&&(e=!1),a&&f&&(a=!1),{isMobile:mobileAndTabletcheck(),isIEMobile:/IEMobile/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isiPad:/iPad/i.test(navigator.userAgent)||/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1,isIOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1,isIE:b,isFireFox:d,isChrome:a,isSafari:e,isSony:/(Xperia| (C|D|E)\d{4}|CMD|SO|SGP|Z3)(.*?)Build/i.test(navigator.userAgent),isWebKit:/AppleWebKit/i.test(navigator.userAgent),isEdge:c,isLinux:/Linux/i.test(navigator.userAgent),version:version()}}function version(){var a,b=navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(c[1])?(a=/\brv[ :]+(\d+)/g.exec(b)||[],"IE "+(a[1]||"")):"Chrome"===c[1]&&(a=b.match(/\b(OPR|Edge)\/(\d+)/),null!=a)?a.slice(1).join(" ").replace("OPR","Opera"):(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=b.match(/version\/(\d+)/i))&&c.splice(1,1,a[1]),c[1])}function mobileAndTabletcheck(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a}function isEncoded(a){return decodeURIComponent(a)!==a}function parserQuerry(){for(var a=/[?&]([^=#]+)=([^&#]*)/g,b=location.href,c=a.exec(b);c;){var d=c[2];"string"==typeof d&&isEncoded(d)&&(d=decodeURIComponent(d)),"false"===d?d=!1:"true"===d&&(d=!0),query[c[1]]=d,info[c[1]]=c[2],c=a.exec(b)}query.mp4=query.mp4||query.file;try{var e=document.location.href||document.referrer,f=query.urlParent||e.replace(/(http(s?)):\/\//,"");query.domain=(f.match(/(.*?)(\/.*)/)||[])[1]||"",query.pathname=(f.match(/(.*?)(\/.*)/)||[])[2]||"",info.domain=query.domain,info.pathname=query.pathname}catch(a){}}function isSupportShadowDom(){return!(!document.head.createShadowRoot&&!document.head.attachShadow)}function initShadowDom(a,b,c){var d=document.querySelector("#"+b),e=d.shadowRoot;if(document.getElementsByClassName(a+"ShadowDomCss")&&!e.getElementById(a+"ShadowDomCss"))for(var f=0;f<document.getElementsByClassName(a+"ShadowDomCss").length;f++){var g=document.createElement("link");g.href=document.getElementsByClassName(a+"ShadowDomCss")[f].href,g.type="text/css",g.rel="stylesheet",g.id=a+"ShadowDomCss",e.appendChild(g)}window.playerShadowRoot[""+c]=e}function retargetEvents(a){var b=[];return reactEvents.forEach(function(c){function d(b){for(var d=b.path||b.composedPath&&b.composedPath()||composedPath(b.target),e=0;e<d.length;e++){var f=d[e],g=findReactComponent(f),h=findReactProps(g);if(g&&h&&dispatchEvent(b,c,h),g&&h&&mimickedReactEvents[c]&&dispatchEvent(b,mimickedReactEvents[c],h),b.cancelBubble)break;if(f===a)break}}var e=getNativeEventName(c);a.addEventListener(e,d,!1),b.push(function(){a.removeEventListener(e,d,!1)})}),function(){b.forEach(function(a){a()})}}function findReactComponent(a){for(var b in a)if(a.hasOwnProperty(b)&&b.indexOf("_reactInternal")!==-1)return a[b]}function findReactProps(a){if(a)return a.memoizedProps?a.memoizedProps:a._currentElement&&a._currentElement.props?a._currentElement.props:void 0}function dispatchEvent(a,b,c){a.persist=function(){a.isPersistent=function(){return!0}},c[b]&&c[b](a)}function getNativeEventName(a){return divergentNativeEvents[a]?divergentNativeEvents[a]:a.replace(/^on/,"").toLowerCase()}function composedPath(a){for(var b=[];a;){if(b.push(a),"HTML"===a.tagName)return b.push(document),b.push(window),b;a=a.parentElement}}function handleClick(){document.removeEventListener("click",handleClick),userActive=!0}function checkReferrer(){if(document.referrer&&window.top===window){var a=document.referrer.split("/")[2];a.indexOf(document.location.hostname)===-1&&document.location.hostname.indexOf(a)===-1||(isReferrer=!0)}}function makeEmptyFunction(a){return function(){return a}}function invariant(a,b,c,d,e,f,g,h){if(!a){var i;if(void 0===b)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[c,d,e,f,g,h],k=0;i=new Error(b.replace(/%s/g,function(){return j[k++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}function _applyDecoratedDescriptor(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$1(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function encryptKey(){return Promise.reject()}function stripQueryStringAndHashFromPath(a){return a.split("?")[0].split("#")[0]}function hexToBase64(a){return btoa(a.match(/\w{2}/g).map(function(a){return String.fromCharCode(parseInt(a,16))}).join(""))}function getSecureExpire(a){return new Promise(function(b){a=stripQueryStringAndHashFromPath(a);var c=7200,d=Math.floor(Date.now()/1e3)+c,e=void 0,f=a.match(/(http[s]?:\/\/)?([^\/\s]+)(\/.*)/);f&&f.length&&a&&(e=f[3]);var g=d.toString()+"|"+e;encryptKey(g).then(function(a){var c=hexToBase64(a);c=c.replace(/\+/g,"-").replace(/\//g,"_"),b("e="+d+"&s="+c)}).catch(function(){b("")})})}function noop(){}function jsonp(a,b,c){function d(){f.parentNode&&f.parentNode.removeChild(f),window[i]=noop,g&&clearTimeout(g)}function e(){window[i]&&d()}"function"==typeof b&&(c=b,b={}),b||(b={});var f,g,h=b.prefix||"__jp",i=b.name||h+count++,j=b.param||"callback",k=null!=b.timeout?b.timeout:6e4,l=encodeURIComponent,m=document.getElementsByTagName("script")[0]||document.head;return k&&(g=setTimeout(function(){d(),c&&c(new Error("Timeout"))},k)),window[i]=function(a){d(),c&&c(null,a)},a+=(~a.indexOf("?")?"&":"?")+j+"="+l(i),a=a.replace("?&","?"),f=document.createElement("script"),f.src=a,m.parentNode.insertBefore(f,m),e}function _applyDecoratedDescriptor$2(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function reverse(a){for(var b="",c=a.length-1;c>=0;c--)b+=a[c];return b}function stringToArrayBuffer(a,b){return/^data:/i.test(a)?decode(a):"utf8"===b?str2ab(a):(isBase64(a)&&(a=atobBrowser(a)),str2ab(a))}function str2ab(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer}function decode(a){a=a.replace(/\r?\n/g,"");var b=a.indexOf(",");if(-1===b||b<=4)throw new TypeError("malformed data-URI");for(var c=a.substring(5,b).split(";"),d=!1,e="US-ASCII",f=0;f<c.length;f++)"base64"==c[f]?d=!0:0==c[f].indexOf("charset=")&&(e=c[f].substring(8));var g=unescape(a.substring(b+1));d&&(g=atobBrowser(g));var h=str2ab(g);return h.type=c[0]||"text/plain",h.charset=e,h}function toHex(a){return a<16?"0"+a.toString(16):a.toString(16)}function isObject$2(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function isFunction$2(a){return isObject_1(a)&&objToString.call(a)==funcTag}function isObjectLike(a){return!!a&&"object"==typeof a}function isNative(a){return null!=a&&(isFunction_1(a)?reIsNative.test(fnToString.call(a)):isObjectLike_1(a)&&(isHostObject_1(a)?reIsNative:reIsHostCtor).test(a))}function getNative(a,b){var c=null==a?void 0:a[b];return isNative_1(c)?c:void 0}function debounce(a,b,c){function d(){n&&clearTimeout(n),j&&clearTimeout(j),p=0,j=n=o=void 0}function e(b,c){c&&clearTimeout(c),j=n=o=void 0,b&&(p=now_1(),k=a.apply(m,i),n||j||(i=m=void 0))}function f(){var a=b-(now_1()-l);a<=0||a>b?e(o,j):n=setTimeout(f,a)}function g(){e(r,n)}function h(){if(i=arguments,l=now_1(),m=this,o=r&&(n||!s),q===!1)var c=s&&!n;else{j||s||(p=l);var d=q-(l-p),e=d<=0||d>q;e?(j&&(j=clearTimeout(j)),p=l,k=a.apply(m,i)):j||(j=setTimeout(g,d))}return e&&n?n=clearTimeout(n):n||b===q||(n=setTimeout(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=void 0),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!0;if("function"!=typeof a)throw new TypeError(FUNC_ERROR_TEXT$1);if(b=b<0?0:+b||0,c===!0){var s=!0;r=!1}else isObject_1(c)&&(s=!!c.leading,q="maxWait"in c&&nativeMax(+c.maxWait||0,b),r="trailing"in c?!!c.trailing:r);return h.cancel=d,h}function throttle(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new TypeError(FUNC_ERROR_TEXT);return c===!1?d=!1:isObject_1(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),debounce_1(a,b,{leading:d,maxWait:+b,trailing:e})}function toTitleCase(a){return a.charAt(0).toUpperCase()+a.slice(1)}function is(a,b){return a===b?0!==a||0!==b||1/a===1/b:a!==a&&b!==b}function shallowEqual(a,b){if(is(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var e=0;e<c.length;e++)if(!hasOwnProperty$1.call(b,c[e])||!is(a[c[e]],b[c[e]]))return!1;return!0}function shouldComponentUpdate(a,b){return!shallowEqual_1(this.props,a)||!shallowEqual_1(this.state,b)}function pureRenderDecorator(a){return a.prototype.shouldComponentUpdate=shouldComponentUpdate,a}function _applyDecoratedDescriptor$4(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$6(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function formatTime(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;a=a<0?0:a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&d<10?"0"+d:d)+":",c=c<10?"0"+c:c,e+d+c}function _applyDecoratedDescriptor$7(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$8(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$9(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$11(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function getPointerPosition(a,b){var c={},d=findElPosition(a),e=a.offsetWidth,f=a.offsetHeight,g=d.top,h=d.left,i=b.pageY,j=b.pageX;return b.changedTouches&&(j=b.changedTouches[0].pageX,i=b.changedTouches[0].pageY),c.y=Math.max(0,Math.min(1,(g-i+f)/f)),c.x=Math.max(0,Math.min(1,(j-h)/e)),c}function findElPosition(a){var b=void 0;if(a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect()),!b)return{left:0,top:0};var c=document.documentElement,d=document.body,e=c.clientLeft||d.clientLeft||0,f=window.pageXOffset||d.scrollLeft,g=b.left+f-e,h=c.clientTop||d.clientTop||0,i=window.pageYOffset||d.scrollTop,j=b.top+i-h;return{left:Math.round(g),top:Math.round(j)}}function _applyDecoratedDescriptor$12(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$10(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$14(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$15(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$13(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$16(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$17(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$18(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$20(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$21(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function settingIcon(a,b){return React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,fill:b,x:"0",y:"0",version:"1.1",viewBox:"142.513 242.513 602 602",xmlSpace:"preserve"},React__default.createElement("path",{d:"M654.835 510.332l-45.139-7.56c-3.426-13.405-8.121-26.28-14.355-38.218l28.889-35.819c6.088-7.57 5.949-18.484-.58-25.829l-17.879-20.264c-6.625-7.29-17.312-8.822-25.707-3.563l-38.521 24.272a171.19 171.19 0 00-56.996-25.787l-7.545-45.407c-1.653-9.632-10.014-16.646-19.754-16.646h-26.984c-9.789 0-18.159 7.014-19.702 16.646l-7.626 45.435c-17.186 4.176-33.23 11.061-47.925 19.971l-36.742-26.274c-7.912-5.584-18.751-4.705-25.668 2.183l-19.105 19.134c-6.888 6.917-7.774 17.758-2.202 25.662l26.279 36.813c-8.798 14.654-15.544 30.636-19.719 47.614l-45.697 7.638c-9.624 1.563-16.642 9.869-16.642 19.636v27.135c0 9.797 7.018 18.025 16.644 19.594l45.696 7.558c3.456 14.14 8.461 27.526 15.099 39.856l-28.787 35.68c-6.087 7.57-5.797 18.438.667 25.75l17.917 20.297c6.565 7.172 17.27 8.863 25.509 3.563l39.186-24.503c16.68 11.144 35.394 19.593 55.492 24.503l7.626 45.436c1.545 9.688 9.912 16.678 19.702 16.678h26.985c9.74 0 18.099-6.99 19.754-16.678l7.568-45.436c16.979-4.022 32.73-10.688 47.344-19.594l38.297 27.322c7.98 5.631 18.703 4.74 25.74-2.037l19.119-19.119c6.797-7.057 7.688-17.744 1.979-25.76l-27.244-38.297c8.906-14.596 15.584-30.627 19.922-47.661l45.107-7.558c9.717-1.568 16.678-9.797 16.678-19.594v-27.136c-.032-9.767-6.993-18.072-16.68-19.636zM444.178 629.011c-47.116 0-85.397-38.297-85.397-85.499 0-47.217 38.281-85.499 85.397-85.499 47.203 0 85.5 38.281 85.5 85.499 0 47.202-38.297 85.499-85.5 85.499z"}))}function _applyDecoratedDescriptor$19(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$5(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$22(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$23(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$24(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$26(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$25(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$27(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$3(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function playBtn$1(){return React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"16",height:"16",enableBackground:"new 0 0 210 210",version:"1.1",viewBox:"0 0 210 210",xmlSpace:"preserve"},React__default.createElement("path",{fill:"#666",d:"M179.07 105L30.93 210V0l148.14 105z"}))}function pauseBtn$1(){return React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"16",height:"16",enableBackground:"new 0 0 365 365",version:"1.1",viewBox:"0 0 365 365",xmlSpace:"preserve"},React__default.createElement("path",{fill:"#666",d:"M74.5 0H147.5V365H74.5z"}),React__default.createElement("path",{fill:"#666",d:"M217.5 0H290.5V365H217.5z"}))}function micBtn(a){return React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 512 512"},React__default.createElement("path",{fill:"none",stroke:"#666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 448L320 448"}),React__default.createElement("path",{fill:"none",stroke:"#666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M384 208v32c0 70.4-57.6 128-128 128h0c-70.4 0-128-57.6-128-128v-32"}),React__default.createElement("path",{fill:"none",stroke:"#666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 368L256 448"}),React__default.createElement("path",{d:"M256 320a78.83 78.83 0 01-56.55-24.1A80.89 80.89 0 01176 239V128a79.69 79.69 0 0180-80c44.86 0 80 35.14 80 80v111c0 44.66-35.89 81-80 81z"}))}function downBtn(a){return React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,fill:"none",viewBox:"0 0 48 48"},React__default.createElement("path",{fill:"#fff",fillOpacity:"0.01",d:"M0 0H48V48H0z"}),React__default.createElement("path",{stroke:"#666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M37 18L25 30 13 18"}))}function upBtn(a){return React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,fill:"none",viewBox:"0 0 48 48"},React__default.createElement("path",{fill:"#fff",fillOpacity:"0.01",d:"M0 0H48V48H0z"}),React__default.createElement("path",{stroke:"#666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M13 30l12-12 12 12"}))}function _applyDecoratedDescriptor$28(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$29(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$30(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$31(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){
return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$32(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function _applyDecoratedDescriptor$33(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}function withAd(a){var b;return b=function(b){function c(a){classCallCheck(this,c);var b=possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));return b.state={adSystem:null,ad:!1},b}return inherits(c,b),createClass(c,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on(event$1.AD_START,this._handleAdStart),a.on(event$1.AD_END,this._handleAdEnd),a.on(event$1.VAST_AD_START,this._handleVastStart),a.on(event$1.VPAID_AD_START,this._handleVpaidStart),a.on(event$1.IMA_AD_START,this._handleImaStart)}},{key:"_handleAdStart",value:function(){this.setState({ad:!0})}},{key:"_handleAdEnd",value:function(){var a=this.props.player;a.adSystem=null,this.setState({adSystem:null,ad:!1})}},{key:"_handleVastStart",value:function(){var a=this.props.player;a.adSystem="vast",this.setState({adSystem:"vast"})}},{key:"_handleVpaidStart",value:function(){var a=this.props.player;a.adSystem="vpaid",this.setState({adSystem:"vpaid"})}},{key:"_handleImaStart",value:function(){var a=this.props.player;a.adSystem="ima",this.setState({adSystem:"ima"})}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off(event$1.AD_START,this._handleAdStart),a.off(event$1.AD_END,this._handleAdEnd),a.on(event$1.VAST_AD_START,this._handleVastStart),a.off(event$1.VPAID_AD_START,this._handleVpaidStart)}},{key:"className",value:function(){var a=this.state,b=a.ad,c=a.adSystem,d=[];return b&&d.push("ad"),c&&d.push("ad-"+c),d.join(" ")}},{key:"render",value:function(){var b=this.state.adSystem,c=this.className();return React__default.createElement(a,_extends({},this.props,{adSystem:b,className:c}))}}]),c}(React.Component),_applyDecoratedDescriptor$33(b.prototype,"_handleAdStart",[autobind],Object.getOwnPropertyDescriptor(b.prototype,"_handleAdStart"),b.prototype),_applyDecoratedDescriptor$33(b.prototype,"_handleAdEnd",[autobind],Object.getOwnPropertyDescriptor(b.prototype,"_handleAdEnd"),b.prototype),_applyDecoratedDescriptor$33(b.prototype,"_handleVastStart",[autobind],Object.getOwnPropertyDescriptor(b.prototype,"_handleVastStart"),b.prototype),_applyDecoratedDescriptor$33(b.prototype,"_handleVpaidStart",[autobind],Object.getOwnPropertyDescriptor(b.prototype,"_handleVpaidStart"),b.prototype),_applyDecoratedDescriptor$33(b.prototype,"_handleImaStart",[autobind],Object.getOwnPropertyDescriptor(b.prototype,"_handleImaStart"),b.prototype),b}function vcplayer(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)}),e=b.params||{};for(var f in e)"true"===e[f]&&(e[f]=!0),"false"===e[f]&&(e[f]=!1);!query.autoplay&&!e.autoplay||isUserActive()||(e.muted=!0),b=videojs.mergeOptions(options_default,b,{params:_extends({},query,e,{pid:d})});var g=agent.isMobile,h=agent.isFireFox,i=agent.isIOS;(g||i)&&(b.autoplay=!1,b.params.autoplay=!1),h&&"AudioPlayer"!=playername&&"audioWavePlayer"!=playername&&"audioTransPlayer"!=playername&&"audioPodcastPlayer"!=playername&&"audioSwitchVoicePlayer"!=playername&&(b.params.muted=!0,b.params.mute=!0),b.params.idShadowDom&&isSupportShadowDom()&&initShadowDom(playername,b.params.idShadowDom,a);var j=videojs(a,b,c);return g?j.addClass(playername+"-mobile"):j.addClass(playername+"-pc"),b.params.nonFullWidth||(j.addClass(playername+"-full-width"),"VinFastPlayer"===playername&&setTimeout(function(){var a=j.width_,b=j.height_;b=j.el_.clientWidth/a*b,j.height(b)},0)),"AudioPlayer"===playername&&j.addClass("short-audio"),"audioTransPlayer"===playername&&(g?j.height("40px"):j.height("60px"),j.addClass("audioTransPlayer")),"audioPodcastPlayer"===playername&&(g?j.addClass("audioTransPlayer-mobile"):j.height("70px")),"audioSwitchVoicePlayer"===playername&&(j.height("35px"),j.addClass("AudioSwitchVoice")),"AudioPlayer"!==playername&&"audioWavePlayer"!==playername&&"audioTransPlayer"!==playername&&"audioPodcastPlayer"!==playername&&"audioSwitchVoicePlayer"!==playername||j.setAttribute("data-role","audio-player"),(b.params["embed-iframe"]||b.params.embedIframe)&&j.addClass("embed-iframe"),j.addClass(playername),j.addClass("default-skin"),e.audio&&j.addClass(playername+"-audio"),j.removeClass("hidden"),j.trigger(event$1.PLAYER_READY),b.params.idShadowDom&&isSupportShadowDom()&&retargetEvents(j.el_),j}videojs=videojs&&videojs.hasOwnProperty("default")?videojs.default:videojs;var React__default="default"in React?React.default:React;ReactDOM=ReactDOM&&ReactDOM.hasOwnProperty("default")?ReactDOM.default:ReactDOM,Hls=Hls&&Hls.hasOwnProperty("default")?Hls.default:Hls,dashjs=dashjs&&dashjs.hasOwnProperty("default")?dashjs.default:dashjs;var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},assign=make_assign(),create$1=make_create(),trim=make_trim(),Global="undefined"!=typeof window?window:commonjsGlobal,util={assign:assign,create:create$1,trim:trim,bind:bind$1,slice:slice$1,each:each$1,map:map,pluck:pluck$1,isList:isList$1,isFunction:isFunction$1,isObject:isObject$1,Global:Global},slice=util.slice,pluck=util.pluck,each=util.each,bind=util.bind,create=util.create,isList=util.isList,isFunction=util.isFunction,isObject=util.isObject,storeEngine={createStore:createStore},storeAPI={version:"2.0.12",enabled:!1,get:function(a,b){var c=this.storage.read(this._namespacePrefix+a);return this._deserialize(c,b)},set:function(a,b){return void 0===b?this.remove(a):(this.storage.write(this._namespacePrefix+a,this._serialize(b)),b)},remove:function(a){this.storage.remove(this._namespacePrefix+a)},each:function(a){var b=this;this.storage.each(function(c,d){a.call(b,b._deserialize(c),(d||"").replace(b._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(a){return this._namespacePrefix=="__storejs_"+a+"_"},createStore:function(){return createStore.apply(this,arguments)},addPlugin:function(a){this._addPlugin(a)},namespace:function(a){return createStore(this.storage,this.plugins,a)}},Global$1=util.Global,localStorage_1={name:"localStorage",read:read,write:write,each:each$2,remove:remove,clearAll:clearAll},Global$2=util.Global,oldFFGlobalStorage={name:"oldFF-globalStorage",read:read$1,write:write$1,each:each$3,remove:remove$1,clearAll:clearAll$1},globalStorage=Global$2.globalStorage,Global$3=util.Global,oldIEUserDataStorage={name:"oldIE-userDataStorage",write:write$2,read:read$2,each:each$4,remove:remove$2,clearAll:clearAll$2},storageName="storejs",doc=Global$3.document,_withStorageEl=_makeIEStorageElFunction(),disable=(Global$3.navigator?Global$3.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),Global$4=util.Global,trim$1=util.trim,cookieStorage={name:"cookieStorage",read:read$3,write:write$3,each:each$5,remove:remove$3,clearAll:clearAll$3},doc$1=Global$4.document,Global$5=util.Global,sessionStorage_1={name:"sessionStorage",read:read$4,write:write$4,each:each$6,remove:remove$4,clearAll:clearAll$4},memoryStorage_1={name:"memoryStorage",read:read$5,write:write$5,each:each$7,remove:remove$5,clearAll:clearAll$5},memoryStorage={},all=[localStorage_1,oldFFGlobalStorage,oldIEUserDataStorage,cookieStorage,sessionStorage_1,memoryStorage_1];"object"!=typeof JSON&&(JSON={}),function(){function f(a){return a<10?"0"+a:a}function this_value(){return this.valueOf()}function quote(a){return rx_escapable.lastIndex=0,rx_escapable.test(a)?'"'+a.replace(rx_escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var json2=json2Plugin,plugins=[json2],store_legacy=storeEngine.createStore(all,plugins),agent=detectiveAgents(),query={},info={};parserQuerry();var reactEvents=["onAbort","onAnimationCancel","onAnimationEnd","onAnimationIteration","onAuxClick","onBlur","onChange","onClick","onClose","onContextMenu","onDoubleClick","onError","onFocus","onGotPointerCapture","onInput","onKeyDown","onKeyPress","onKeyUp","onLoad","onLoadEnd","onLoadStart","onLostPointerCapture","onMouseEnter","onMouseLeave","onMouseDown","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onReset","onResize","onScroll","onSelect","onSelectionChange","onSelectStart","onSubmit","onTouchCancel","onTouchMove","onTouchStart","onTransitionCancel","onTransitionEnd","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onFocusOut"],divergentNativeEvents={onDoubleClick:"dblclick"},mimickedReactEvents={onInput:"onChange",onFocusOut:"onBlur",onSelectionChange:"onSelect"};window.playerShadowRoot={};var userActive=!1,isReferrer=!1;document.addEventListener("click",handleClick),window.performance?(checkReferrer(),0==performance.navigation.type&&isReferrer&&(userActive=!0)):isReferrer&&(userActive=!0);var isUserActive=function(){return userActive},util$3=Object.freeze({isUserActive:isUserActive}),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},asyncGenerator=function(){function a(a){this.value=a}function b(b){function c(a,b){return new Promise(function(c,e){var h={key:a,arg:b,resolve:c,reject:e,next:null};g?g=g.next=h:(f=g=h,d(a,b))})}function d(c,f){try{var g=b[c](f),h=g.value;h instanceof a?Promise.resolve(h.value).then(function(a){d("next",a)},function(a){d("throw",a)}):e(g.done?"return":"normal",g.value)}catch(a){e("throw",a)}}function e(a,b){switch(a){case"return":f.resolve({value:b,done:!0});break;case"throw":f.reject(b);break;default:f.resolve({value:b,done:!1})}f=f.next,f?d(f.key,f.arg):g=null}var f,g;this._invoke=c,"function"!=typeof b.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this}),b.prototype.next=function(a){return this._invoke("next",a)},b.prototype.throw=function(a){return this._invoke("throw",a)},b.prototype.return=function(a){return this._invoke("return",a)},{wrap:function(a){return function(){return new b(a.apply(this,arguments))}},await:function(b){return new a(b)}}}(),classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},inherits=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},possibleConstructorReturn=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},toConsumableArray=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},isProduction=!0,stateInfo=function(a){a.label,a.prevState,a.nextState},config={levels:{error:0,warn:1,info:2,trace:3,debug:4},colors:{error:"red",warn:"yellow",info:"cyan",trace:"magenta",debug:"blue"}},log_level=4,logs={};isProduction&&(log_level=1);for(var name in config.levels){var logFn=function(a){if(!(config.levels[a]>log_level)){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(/error|warn/.test(a)){var e;(e=console)[a].apply(e,c)}else{var f;(f=console).log.apply(f,c)}}};logs[name]=logFn.bind(null,name)}window.setPlayerLogLevel=function(a){log_level=a};var log=_extends({stateInfo:stateInfo},logs),lib=createCommonjsModule(function(a,b){function c(){return 1===arguments.length?d.apply(void 0,arguments):e.apply(void 0,arguments)}function d(a){var b=void 0;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?b=Reflect.ownKeys(a.prototype):(b=Object.getOwnPropertyNames(a.prototype),"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(a.prototype)))),b.forEach(function(b){if("constructor"!==b){var c=Object.getOwnPropertyDescriptor(a.prototype,b);"function"==typeof c.value&&Object.defineProperty(a.prototype,b,e(a,b,c))}}),a}function e(a,b,c){var d=c.value;if("function"!=typeof d)throw new Error("@autobind decorator can only be applied to methods not: "+("undefined"==typeof d?"undefined":f(d)));var e=!1;return{configurable:!0,get:function(){if(e||this===a.prototype||this.hasOwnProperty(b)||"function"!=typeof d)return d;var c=d.bind(this);return e=!0,Object.defineProperty(this,b,{configurable:!0,get:function(){return c},set:function(a){d=a,delete this[b]}}),e=!1,c},set:function(a){d=a}}}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.default=c}),autobind=unwrapExports(lib),event={UPDATE_MEDIA_INFO:"updatemediainfo",UPDATE_VIDEO_SOURCE:"updatevideosource",FILL_PLAY_FILLING:"filling",FILL_PLAY_COMPLETE:"fillcomplete"},event$1={USER_SEEK:"user:seek",USER_CHANGE_VOLUME:"user:changevolume",USER_CHANGE_MUTE:"user:changemute",USER_REPLAY_CONTENT:"user:replaycontent",USER_SCRUBBING_PROGRESS:"user:scrubningprogress",USER_PAN_PROGRESS:"user:panprogress",USER_PAN_VOLUME:"user:panvolume",USER_CHANGE_QUALITY:"user:changequality",USER_PAUSE:"user:pause",USER_RESUME:"user:resume",USER_SKIP_AD:"user:skipad",TRACKING_VOLUME:"tracking:volume",PLAYER_ENDED_CONTEND:"player:endedcontent",PLAYER_REPLAY_CONTEND:"player:replaycontent",PLAYER_ERROR:"player:error",PLAYER_READY:"player:ready",PLAYER_NOTI:"player:noti",PLAYER_WARNING:"player:warning",PLAYER_REQUEST_QUALITY_INFO:"player:requestQualityInfo",AD_ORDER_START_MIDROLL:"adOrder:startMidroll",AD_ORDER_START_POSTROLL:"adOrder:startPostroll",AD_START:"ad:start",AD_PLAY:"ad:play",AD_END:"ad:end",AD_PAUSE_AD:"ad:pauseAd",AD_RESUME_AD:"ad:resumeAd",AD_CANCEL:"ad:cancel",AD_SKIP:"ad:skip",AD_ENDED_POSTROLL:"ad:endedPostroll",AD_RESTORED_PLAYBACK:"ad:restoredplayback",AD_MIDROLL_VASTRESPONSE:"ad:midroll:vastresponse",AD_VASTRESPONSE:"ad:vastresponse",VAST_AD_VIDEO_START:"vast:AdVideoStart",VAST_AD_START:"vast:ad_start",VAST_AD_CLICK_THRU:"vast:AdClickThru",VAST_AD_VIDEO_SHOW:"vast:AdVideoShow",VAST_AD_PAUSE:"vast:AdPause",VAST_AD_RESUME:"vast:AdResume",VAST_AD_TIMEUPDATE:"vast:AdTimeupdate",VAST_AD_VOLUMECHANGE:"vast:AdVolumeChange",VAST_AD_DURATIONCHANGE:"vast:AdDurationChange",VAST_AD_VIDEO_COMPLETE:"vast:AdVideoComplete",VPAID_AD_START:"vpaid:ad_start",VPAID_PAUSE_AD:"vpaid:pauseAd",VPAID_RESUME_AD:"vpaid:resumeAd",VPAID_AD_SKIPPED:"vpaid:AdSkipped",VPAID_AD_STARTED:"vpaid:AdStarted",VPAID_AD_STOPPED:"vpaid:AdStopped",VPAID_AD_IMPRESSION:"vpaid:AdImpression",VPAID_AD_PLAYING:"vpaid:AdPlaying",VPAID_AD_PAUSED:"vpaid:AdPaused",VPAID_AD_VIDEO_START:"vpaid:AdVideoStart",VPAID_AD_VIDEO_FIRST_QUARTILE:"vpaid:AdVideoFirstQuartile",VPAID_AD_VIDEO_MID_POINT:"vpaid:AdVideoMidpoint",VPAID_AD_VIDEO_THIRD_QUARTILE:"vpaid:AdVideoThirdQuartile",VPAID_AD_VIDEO_COMPLETE:"vpaid:AdVideoComplete",VPAID_AD_VOLUME_CHANGE:"vpaid:AdVolumeChange",VPAID_AD_CLICK_THRU:"vpaid:AdClickThru",VPAID_AD_USER_ACCEPT_INVITATION:"vpaid:AdUserAcceptInvitation",VPAID_AD_USER_CLOSE:"vpaid:AdUserClose",VPAID_AD_USER_MINIMIZE:"vpaid:AdUserMinimize",VPAID_AD_ERROR:"vpaid:AdError",IMA_AD_START:"ima:AdStart",IMA_AD_SKIPPED:"ima:AdSkipped",IMA_AD_STARTED:"ima:AdStarted",IMA_AD_STOPPED:"ima:AdStopped",IMA_AD_IMPRESSION:"ima:AdImpression",IMA_AD_PLAYING:"ima:AdPlaying",IMA_AD_PAUSED:"ima:AdPaused",PLAYER_FILLING_VOLUME:"player-filling-volume",LIVE_SHOW_SSID:"live:show-ssid",LIVE_VIEW_CCU:"live:view-ccu",LIVE_LIMIT_MAX_QUALITY:"live:limit-max-quality",MOUSE_TIME_UPDATE:"mouse:timeUpdate",MOUSE_DOWN_TIME_UPDATE:"mousedown:timeUpdate",HLS_FRAG_BUFFERED:"hlsFragBuffered",HLS_BUFFER_APPENDED:"hlsBufferAppended",HLS_BUFFER_APPENDING:"hlsBufferAppending",DASH_UPDATE_QUALITY:"dash:updateQuality",DASH_SET_QUALITY:"dash:setQuality",NOTIFY_BUFFER_EMTY:"stast:notifyBufferEmty"},Error$1=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments[2];classCallCheck(this,a),this.code=b,this.msg=c,d&&(this.data=d)}return createClass(a,[{key:"extendsWithData",value:function(b){var c=this.code,d=this.msg;return new a(c,d,b)}}]),a}(),generateError=function(a,b){return new Error$1(a,b)},error={ERROR_100:generateError(100,"Video hiện chưa sẵn sàng"),ERROR_101:generateError(101,"Video không tồn tại"),ERROR_102:generateError(102,"Video đã được mã hóa"),ERROR_103:generateError(103,"Tải video bị lỗi"),ERROR_104:generateError(104,"Tải video key bị lỗi"),ERROR_105:generateError(105,"Video bị lỗi"),ERROR_106:generateError(106,"Trình duyệt không được hỗ trợ, \nbạn vui lòng cập nhật trình duyệt hoặc dùng trình duyệt khác"),ERROR_107:generateError(107,"Fatal media error encountered, try to recover"),ERROR_108:generateError(108,"Fatal network error encountered, try to recover"),ERROR_109:generateError(109,"You aborted the video playback"),ERROR_110:generateError(110,"The video playback was aborted due to a corruption problem or because the video used features your browser did not support"),ERROR_111:generateError(111,"A network error caused the video download to fail part-way"),ERROR_112:generateError(112,"The video could not be loaded, either because the server or network failed or because the format is not supported"),ERROR_113:generateError(113,"Window error")},Noti=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments[2];classCallCheck(this,a),this.code=b,this.msg=c,d&&(this.data=d)}return createClass(a,[{key:"extendsWithData",value:function(b){var c=this.code,d=this.msg;return new a(c,d,b)}}]),a}(),generateNoti=function(a,b){return new Noti(a,b)},noti={NOTI_200:generateNoti(200,"Chương trình phát sóng đã kết thúc"),NOTI_201:generateNoti(201,"Phiên đã hết hạn. \nVui lòng tải lại trang.")},index=Object.freeze({EVENT:event$1,ERROR:error,NOTI:noti}),playerconfig=Object.freeze({EVENT:event,DEFAULT:index}),emptyFunction=function(){};emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(a){return a};var emptyFunction_1=emptyFunction,invariant_1=invariant,ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret,factoryWithThrowingShims=function(){function a(a,b,c,d,e,f){f!==ReactPropTypesSecret_1&&invariant_1(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function b(){return a}a.isRequired=a;var c={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b};return c.checkPropTypes=emptyFunction_1,c.PropTypes=c,c},propTypes=createCommonjsModule(function(a){a.exports=factoryWithThrowingShims()}),_class$2,_temp$1,VCPlayerObject$1=(_temp$1=_class$2=function(){function a(b){classCallCheck(this,a),this.state={},this._validProps(b),this._initProps(b)}return createClass(a,[{key:"getDefaultProps",value:function(){return this.constructor.defaultProps}},{key:"setState",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.state||{};this.state=_extends({},b,a),log.stateInfo({label:this.constructor.name,prevState:b,nextState:a})}},{key:"updateProps",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.props||{};this.props=_extends({},b,a)}},{key:"_initProps",value:function(a){var b=this.getDefaultProps(a);this.props=_extends({},b,a)}},{key:"_validProps",value:function(a){var b=this.constructor.propTypes;propTypes.checkPropTypes(b,a,"prop",this.constructor.name)}}]),a}(),_class$2.propTypes={},_class$2.defaultProps={},_temp$1),_class$1,_temp,Plugin=(_temp=_class$1=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c.props.player;return c._onReadyPlayer=c._onReadyPlayer.bind(c),d.one("ready",c._onReadyPlayer),c}return inherits(b,a),createClass(b,[{key:"_onReadyPlayer",value:function(){}}]),b}(VCPlayerObject$1),_class$1.propTypes={player:propTypes.object.isRequired},_class$1.defaultProps={},_temp),_class,EndedPlugin=(_class=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c.props.player;return d.on("ended",c._onEnded),d.on(event$1.AD_START,c._onAdStart),d.on(event$1.AD_END,c._onAdEnded),c}return inherits(b,a),createClass(b,[{key:"_onAdStart",value:function(){log.info("EndedPlugin > handle when ad start");var a=this.props.player;a.off("ended",this._onEnded)}},{key:"_onAdEnded",value:function(){log.info("EndedPlugin > handle when ad ended");var a=this.props.player;a.on("ended",this._onEnded)}},{key:"_onEnded",value:function(){log.info("EndedPlugin > trigger event "+event$1.PLAYER_ENDED_CONTEND);var a=this.props.player;a.trigger(event$1.PLAYER_ENDED_CONTEND)}}]),b}(Plugin),_applyDecoratedDescriptor(_class.prototype,"_onAdStart",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,"_onAdStart"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onAdEnded",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,"_onAdEnded"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onEnded",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,"_onEnded"),_class.prototype),_class),_class$3,_temp$2,StatsPlugin=(_temp$2=_class$3=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={enablePlayerStats:!1,enableAdStats:!1},window.enablePlayerStats=c._enablePlayerStats.bind(c,!0),window.disablePlayerStats=c._enablePlayerStats.bind(c,!1),window.enableAdStats=c._enableAdStats.bind(c,!0),window.disableAdStats=c._enableAdStats.bind(c,!1),c}return inherits(b,a),createClass(b,[{key:"_enablePlayerStats",value:function(a){var b=this.state.enablePlayerStats;b!==a&&(this.setState({enablePlayerStats:a}),this._updatePlayerStats())}},{key:"_enableAdStats",value:function(a){var b=this.state.enableAdStats;b!==a&&(this.setState({enableAdStats:a}),this._updateAdStats())}},{key:"_updatePlayerStats",value:function(){var a=this.state.enablePlayerStats,b=this.props,c=b.player,d=b.player_events,e=this;a?d.map(function(a){c.on(a,e._handlePlayerStats)}):d.map(function(a){c.off(a,e._handlePlayerStats)})}},{key:"_updateAdStats",value:function(){var a=this.state.enableAdStats,b=this.props,c=b.player,d=b.ad_events,e=this;a?d.map(function(a){c.on(a,e._handleAdStats)}):d.map(function(a){c.off(a,e._handleAdStats)})}},{key:"_handlePlayerStats",value:function(a){}},{key:"_handleAdStats",value:function(a){}}]),b}(Plugin),_class$3.defaultProps={player_events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],ad_events:["vast.firstPlay","vast.adStart","vast.adSkip","vast.adError","vast.adsCancel","vast.contentStart","vast.contentEnd","vast.reset","html5-ad","flash-ad","restorePlayer"]},_temp$2),HookPlugin=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c.props.player,e=d.play,f=d.pause,g=!1,h=!1;return d.one("loadedmetadata",function(){h=!0}),d.play=function(){var a=void 0;try{throw new Error}catch(b){a=b.stack}var b=/executeDispatch|dispatchEvent|handleClick/.test(a);try{g||!agent.isIOS||isUserActive()?g||isUserActive()||(d.muted(!0),d.trigger(event$1.USER_CHANGE_MUTE,!0)):(d.muted(!0),d.trigger(event$1.USER_CHANGE_MUTE,!0)),"Flvjs"===d.techName_&&"number"==typeof d.bufferedEnd()&&d.currentTime(d.bufferedEnd()-.1);var c=e.call(d);c&&"function"==typeof c.catch&&c.catch(function(a){d.trigger(event$1.PLAYER_WARNING,a),log.warn("HookPlugin",a)})}catch(a){d.trigger(event$1.PLAYER_WARNING,a),log.trace(a)}b&&g&&d.trigger(event$1.USER_RESUME),g||(b?d.trigger("player:firstPlay",{isClick:!0}):d.trigger("player:firstPlay",{isClick:!1})),g=!!h},d.pause=function(){try{var a=f.call(d);a&&"function"==typeof a.catch&&a.catch(function(a){log.warn("HookPlugin",a)})}catch(a){log.trace(a)}var b=void 0;try{throw new Error}catch(a){b=a.stack}var c=/executeDispatch|dispatchEvent|handleClick/.test(b);c&&d.trigger(event$1.USER_PAUSE)},c}return inherits(b,a),b}(Plugin),_class$4,VolumePlugin=(_class$4=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.state={initedVolume:!1,firstFillVolume:!1,mute:!1};var d=c.props.player,e=c;return c.haveInitedVolume=!1,c._initPlayerVolume(!1),d.on("loadedmetadata",function(){d.paused()?d.one("play",function(){e._initPlayerVolume(!0)}):e._initPlayerVolume(!0)}),d.on(event$1.USER_CHANGE_VOLUME,c._onUserChangeVolume),d.on(event$1.USER_CHANGE_MUTE,c._onUserChangeMute),c}return inherits(b,a),createClass(b,[{key:"getDefaultProps",value:function(a){var b=a.player,c=b.options(),d=c.params,e=d._site,f=d.volume,g=d.muted,h=d.mute;return this.muted=g||h,{site:e||"volume",volume:f,mute:g||h}}}]),createClass(b,[{key:"_fillVolume",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.3,b=arguments[1],c=this.state.initedVolume,d=this.props.player;if(c)return void d.removeClass("player-filling-volume");if(d.volume(a.toFixed(2)),a>=b)return d.removeClass("player-filling-volume"),d.trigger("player-filling-volume",!1),void this.setState({initedVolume:!0,volume:b});var e=this;d.setTimeout(function(){a+=.01,e._fillVolume(a,b)},100)}},{key:"_initPlayerVolume",value:function(a){(this.gmuted||this.muted)&&this.setState({initedVolume:!0});var b=this.state,c=b.firstFillVolume,d=b.initedVolume,e=b.mute,f=b.volume,g=this.props.player;return this.haveInitedVolume&&!e&&f?void g.volume(f):d?(this.haveInitedVolume=!0,e=this.gmuted||this.state.mute||this.muted,g.muted(e),g.removeClass("player-filling-volume"),void g.trigger("player-filling-volume",!1)):(f=.6,g.muted(!1),e?void g.muted(!0):void(a&&(c||(this.setState({firstFillVolume:!0}),g.addClass("player-filling-volume"),g.trigger("player-filling-volume",!0),g.isAudio()||this._fillVolume(.3,f)))))}},{key:"_onUserChangeVolume",value:function(a,b){var c=this.props.player;b=parseFloat(b),log.trace("VolumePlugin > _onChangeVolume:",b),c.removeClass("player-filling-volume"),c.trigger("player-filling-volume",!1),this.setState({volume:b,mute:!1,initedVolume:!0})}},{key:"_onUserChangeMute",value:function(a,b){var c=this.props.player;b||c.volume()&&this.setState({volume:c.volume()}),c.removeClass("player-filling-volume"),
c.trigger("player-filling-volume",!1),this.setState({mute:b,initedVolume:!0}),this.gmuted=b}}]),b}(Plugin),_applyDecoratedDescriptor$1(_class$4.prototype,"_initPlayerVolume",[autobind],Object.getOwnPropertyDescriptor(_class$4.prototype,"_initPlayerVolume"),_class$4.prototype),_applyDecoratedDescriptor$1(_class$4.prototype,"_onUserChangeVolume",[autobind],Object.getOwnPropertyDescriptor(_class$4.prototype,"_onUserChangeVolume"),_class$4.prototype),_applyDecoratedDescriptor$1(_class$4.prototype,"_onUserChangeMute",[autobind],Object.getOwnPropertyDescriptor(_class$4.prototype,"_onUserChangeMute"),_class$4.prototype),_class$4),HandleErrorPlugin=function(a){function b(){return classCallCheck(this,b),possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return inherits(b,a),b}(Plugin),OverridePlugin=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c.props.player;return d.resetControlBarUI_=function(){},c}return inherits(b,a),b}(Plugin),attachDefaultPlugin=function(a){new HookPlugin({player:a}),new VolumePlugin({player:a}),new EndedPlugin({player:a}),new OverridePlugin({player:a}),a.setTimeout(function(){new StatsPlugin({player:a}),new HandleErrorPlugin({player:a})},1e3)},blankClass=function a(){classCallCheck(this,a)},blankComponents=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={renderAds:!1},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var a=this.state.renderAds;return a?React__default.createElement("div",null):null}}]),b}(React.Component),Vast=void 0,AdsPlugin=void 0;Vast=AdsPlugin=blankClass;var Ad=blankComponents,_class$5,_temp$3,protocol="http:"===location.protocol?"http:":"https:",MediaInfoPlugin=(_temp$3=_class$5=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c.props.player,e=d.options(),f=e.params,g=e.info;return d.mediaInfo={},d.mediaInfo=videojs.mergeOptions(d.mediaInfo,agent,f),d.mediaInfo=videojs.mergeOptions(d.mediaInfo,g),c._getMediaInfo(),c}return inherits(b,a),createClass(b,[{key:"getDefaultProps",value:function(a){var b=this.constructor.defaultProps,c=a.player,d=c.options(),e=d.params,f=e._info,g=e.new_info_domain,h=e.site,i=e.domain,j=b.info_domain;"tuoitre"===h?j="https://p1micro.tuoitre.vn/v1/video-api/info/":g||/autopro/.test(document.baseURI)?j=protocol+"//p1.cnnd.vn/v1/video-api/info/":/channelvn/.test(document.baseURI)&&(j="https://mic3.channelvn.net/v1/video-api/info/");var k=f?j+f:null;return"cuoi.tuoitre.vn"===i&&(k=f),_extends({},b,{info_url:k})}}]),createClass(b,[{key:"_getMediaInfo",value:function(){var a=this,b=this.props.player,c=b.options().info||{};this.getNewInfo().catch(function(){return null}).then(function(b){return b?b:a.getOldInfo()}).then(function(a){a&&(b.mediaInfo=videojs.mergeOptions(b.mediaInfo,a),b.mediaInfo=videojs.mergeOptions(b.mediaInfo,c),b.trigger("updateMediaInfo"))}).catch(function(){})}},{key:"getOldInfo",value:function(){var a=this.props.info_url;return new Promise(function(b,c){return a?void videojs.xhr.get(a,function(a,d,e){if(200===d.statusCode&&"string"==typeof e)try{if(e=JSON.parse(e),"object"===("undefined"==typeof e?"undefined":_typeof(e)))return b(e);c(e)}catch(a){c(a)}else c(a)}):void b(null)})}},{key:"getNewInfo",value:function(){var a=this.props.player,b=a.options().params.vid;return new Promise(function(a,c){if(!b)return void a(null);var d=b.replace(/^\w*\//,""),e=b.replace(/\/.*/,""),f=protocol+"//api.kinghub.vn/video/api/v1/detailVideoByGet?FileName="+d+"&np="+e;videojs.xhr.get(f,function(b,d,e){if(200===d.statusCode&&"string"==typeof e)try{if(e=JSON.parse(e),"object"===("undefined"==typeof e?"undefined":_typeof(e)))return a(e);c(e)}catch(a){c(a)}else c(b)})})}}]),b}(Plugin),_class$5.defaultProps={info_domain:"//vscc-hosting.mediacdn.vn/json/"},_temp$3),promiseXhr=function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(e,f){videojs.xhr(b,function(g,h,i){200===h.statusCode?e(i):c&&d<c?(++d,a(b,c,d).then(function(a){e(a)}).catch(function(a){f(a)})):f(g)})})},_class$6,_temp$4,protocol$1="http:"===location.protocol?"http:":"https:",VideoSourcePlugin=(_temp$4=_class$6=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c._parserVideoSource=c._parserVideoSource.bind(c);var d=a.player,e=d.options(),f=e.params,g=f.live,h=f.m3u8,i=f.vid,j=f.dash,k=f.file,l=f.mp4,m=f.sources;return m?(c._getVideoSourceWithSourceConfig(),possibleConstructorReturn(c)):k||l?(c._getVideoSourceWithFile(),possibleConstructorReturn(c)):g||h?(c._getVideoSourceWithLive(),possibleConstructorReturn(c)):j?(c._getVideoSourceWithDash(),possibleConstructorReturn(c)):i?(c._getVideoSourceWithVid(i),possibleConstructorReturn(c)):(d.one("ready",function(){d.trigger(event$1.PLAYER_ERROR,error.ERROR_101)}),c)}return inherits(b,a),createClass(b,[{key:"_parserVideoSource",value:function(a){var b=this.state.rq_time_start,c=this.props,d=c.bandwidths,e=c.player,f=new Date,g=f.getTime(),h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=36*a.length*1024/(g-b);if(a=JSON.parse(a),a.hls&&a.hls.indexOf(".m3u8")!==-1&&h.push({src:a.hls,type:"application/x-mpegURL"}),a.mpd&&a.mpd.indexOf(".mpd")!==-1&&n.push({src:a.mpd,type:"application/dash+xml"}),a.mhls&&a.hls.indexOf(".m3u8")!==-1&&i.push({src:a.mhls,type:"application/x-mpegURL"}),a.mp4&&/\.mp4/i.test(a.mp4)&&l.push({src:a.mp4,type:"video/mp4"}),a.html5&&0!==a.html5.length){a.html5.sort(function(a,b){try{var c=parseInt(a.match(/_(\d*)p\.(mp4)$/i)[1]),d=parseInt(b.match(/_(\d*)p\.(mp4)$/i)[1]);return"undefined"==typeof c?-1:c-d}catch(a){return-1}});for(var p=0;p<a.html5.length;p++)try{var q=parseInt(a.html5[p].match(/_(\d*)p\.(mp4)$/i)[1]),r={src:a.html5[p],type:"video/mp4","data-res":q};m.push(q),q<=360?(j.unshift(r),k.unshift(r)):d[q]<o?j.unshift(r):j.push(r)}catch(a){}}var s=h.concat(j);"function"==typeof(window.MediaSource||window.WebKitMediaSource)&&n.length&&dashjs&&(s=n.concat(j));var t=e.options(),u=t.agent;u.isSafari&&(s=h.concat(j));var v={full:s,hls:h,mhls:i,html5:j,mhtml5:k,mfull:i.concat(k),mp4:l,thumb_url:a.thumb_url,BANDWIDTH:o,qualities:m};if(0===v.full.length&&!v.mp4)throw new Error("video chưa convert");e.sources_=v,e.trigger(event.UPDATE_VIDEO_SOURCE,v)}},{key:"_getVideoSourceWithVid",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=this.props,e=d.video_source_domain,f=d.get_source_timeout,g=d.player,h=new Date,i=h.getTime();/^tuoitre/.test(a)&&(e="hls.tuoitre.vn");var j=protocol$1+"//"+e+"/"+a+".json?r="+i;this.setState({rq_time_start:i}),promiseXhr({uri:j,method:"GET",get_source_timeout:f},b,c).then(this._parserVideoSource).catch(function(){g.trigger(event$1.PLAYER_ERROR,error.ERROR_100)})}},{key:"_getVideoSourceWithSourceConfig",value:function(){var a=this.props.player,b=a.options(),c=b.params,d=c.sources;d=d.sort(function(a,b){return a.type.length-b.type.length});var e={full:d,hls:[],mhls:[],html5:[],mhtml5:[],mfull:d};a.sources_=e,a.trigger(event.UPDATE_VIDEO_SOURCE,e)}},{key:"_getVideoSourceWithFile",value:function(){var a=this.props.player,b=[],c=a.options(),d=c.params,e=d.file,f=d.mp4,g=f||e,h=g.indexOf("?")!==-1?"&":"?";getSecureExpire(g).then(function(c){g+=""+h+c,b.push({src:decodeURIComponent(g)});var d={full:b,hls:[],mhls:[],html5:b,mhtml5:b,mfull:b};a.sources_=d,a.trigger(event.UPDATE_VIDEO_SOURCE,d)})}},{key:"_getVideoSourceWithLive",value:function(){var a=this.props.player,b=[],c=a.options(),d=c.params,e=d.m3u8,f=d.live,g=e;!g&&f||b.push({src:decodeURIComponent(g),type:"application/x-mpegURL"});var h={full:b,hls:b,mhls:b,html5:[],mhtml5:[],mfull:b};a.sources_=h,a.trigger(event.UPDATE_VIDEO_SOURCE,h)}},{key:"_getVideoSourceWithDash",value:function(){var a=this.props.player,b=a.options(),c=b.params,d=c.dash,e=[];e.push({src:decodeURIComponent(d),type:"application/dash+xml"});var f={full:e,hls:[],mhls:[],html5:[],mhtml5:[],mfull:e};a.sources_=f,a.trigger(event.UPDATE_VIDEO_SOURCE,f)}}]),b}(Plugin),_class$6.defaultProps={video_source_domain:"hls.mediacdn.vn",get_source_timeout:5e3,bandwidths:{144:16e4,240:213333,360:506666,480:1e6,720:1693333}},_temp$4),count=0,_class$7,_temp$5,protocol$2="http:"===location.protocol?"http:":"https:",MPSVideoSourcePlugin=(_temp$5=_class$7=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c.props.player,e=d.options(),f=e.params,g=e.info;return c._getMediaInfo=c._getMediaInfo.bind(c),d.mediaInfo={},d.mediaInfo=videojs.mergeOptions(d.mediaInfo,agent,f),d.mediaInfo=videojs.mergeOptions(d.mediaInfo,g),d.one("updateNamespace",c._getMediaInfo),c}return inherits(b,a),createClass(b,[{key:"getDefaultProps",value:function(a){var b=this.constructor.defaultProps,c=a.player,d=c.options(),e=d.params,f=e._info,g=e.new_info_domain,h=e.site,i=b.info_domain;"tuoitre"===h?i="https://p1micro.tuoitre.vn/v1/video-api/info/":g||/autopro/.test(document.baseURI)?i=protocol$2+"//p1.cnnd.vn/v1/video-api/info/":/channelvn/.test(document.baseURI)&&(i="https://mic3.channelvn.net/v1/video-api/info/");var j=f?i+f:null;return _extends({},b,{info_url:j})}}]),createClass(b,[{key:"_getMediaInfo",value:function(a,b){var c=this,d=this.props.player,e=d.options().info||{};this.getNewInfo(b).catch(function(){return null}).then(function(a){return a?a:c.getOldInfo()}).then(function(a){a&&(d.mediaInfo=videojs.mergeOptions(d.mediaInfo,a),d.mediaInfo=videojs.mergeOptions(d.mediaInfo,e),d.trigger("updateMediaInfo"))}).catch(function(){})}},{key:"getOldInfo",value:function(){var a=this.props.info_url;return new Promise(function(b,c){return a?void jsonp(a,{},function(a,d){d?b(d):c(a)}):void b(null)})}},{key:"getNewInfo",value:function(a){var b=this.props.player,c=b.options().params.vid;return new Promise(function(b,d){if(!c)return void b(null);var e=c.substring(c.indexOf("/")+1),f=protocol$2+"//api.kinghub.vn/video/api/v1/detailVideoByGet?FileName="+e+"&np="+a;videojs.xhr.get(f,function(a,c,e){if(200===c.statusCode&&"string"==typeof e)try{if(e=JSON.parse(e),"object"===("undefined"==typeof e?"undefined":_typeof(e)))return b(e);d(e)}catch(a){d(a)}else d(a)})})}}]),b}(Plugin),_class$7.defaultProps={info_domain:"//vscc-hosting.mediacdn.vn/json/"},_temp$5),_class$8,_temp$6,protocol$3="http:"===location.protocol?"http:":"https:",MPSVideoSourcePlugin$1=(_temp$6=_class$8=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.retrySourceWithVid=0,c._parserVideoSource=c._parserVideoSource.bind(c);var d=a.player,e=d.options(),f=e.params,g=f.live,h=f.m3u8,i=f.vid,j=f.dash,k=f.file,l=f.mp4,m=f.sources;return m?(c._getVideoSourceWithSourceConfig(),possibleConstructorReturn(c)):k||l?(c._getVideoSourceWithFile(),possibleConstructorReturn(c)):g||h?(c._getVideoSourceWithLive(),possibleConstructorReturn(c)):j?(c._getVideoSourceWithDash(),possibleConstructorReturn(c)):i?(c._getVideoSourceWithVid(i),possibleConstructorReturn(c)):(d.one("ready",function(){d.trigger(event$1.PLAYER_ERROR,error.ERROR_101)}),c)}return inherits(b,a),createClass(b,[{key:"_parserVideoSource",value:function(a){var b=this.state.rq_time_start,c=this.props,d=c.bandwidths,e=c.player,f=new Date,g=f.getTime(),h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=36*a.length*1024/(g-b);if(a=JSON.parse(a),e.trigger("updateNamespace",a.namespace),a.mpd&&a.mpd.indexOf(".mpd")!==-1&&n.push({src:a.mpd,type:"application/dash+xml"}),a.hls&&a.hls.indexOf(".m3u8")!==-1&&h.push({src:a.hls,type:"application/x-mpegURL"}),a.mhls&&a.hls.indexOf(".m3u8")!==-1&&i.push({src:a.mhls,type:"application/x-mpegURL"}),a.video&&/\.mp4/i.test(a.video)&&l.push({src:a.video,type:"video/mp4"}),a.html5&&0!==a.html5.length){a.html5.sort(function(a,b){try{var c=parseInt(a.match(/_(\d*)p\.(mp4)$/i)[1]),d=parseInt(b.match(/_(\d*)p\.(mp4)$/i)[1]);return"undefined"==typeof c?-1:c-d}catch(a){return-1}});for(var p=0;p<a.html5.length;p++)try{var q=parseInt(a.html5[p].match(/_(\d*)p\.(mp4)$/i)[1]),r={src:a.html5[p],type:"video/mp4","data-res":q};m.push(q),q<=360?(j.unshift(r),k.unshift(r)):d[q]<o?j.unshift(r):j.push(r)}catch(a){}}var s=h.concat(j);"function"==typeof(window.MediaSource||window.WebKitMediaSource)&&n.length&&dashjs&&(s=n.concat(j));var t=e.options(),u=t.agent;u.isSafari&&(s=h.concat(j));var v={full:s,hls:h,mhls:i,html5:j,mhtml5:k,mfull:i.concat(k),mp4:l,thumb_url:a.thumb_url,BANDWIDTH:o,qualities:m};if(0===v.full.length&&!v.mp4)throw new Error("video chưa convert");e.sources_=v,e.trigger(event.UPDATE_VIDEO_SOURCE,v)}},{key:"_getVideoSourceWithVid",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=this,e=this.props,f=e.get_source_timeout,g=e.player,h="",i=new Date,j=i.getTime(),k=protocol$3+"//"+h+a+".json?r="+j;return this.setState({rq_time_start:j}),3===d.retrySourceWithVid?void g.trigger(event$1.PLAYER_ERROR,error.ERROR_100):void promiseXhr({uri:k,method:"GET",get_source_timeout:f},b,c).then(this._parserVideoSource).catch(function(){++d.retrySourceWithVid,window.setTimeout(function(){d._getVideoSourceWithVid(a)},2e3)})}},{key:"_getVideoSourceWithSourceConfig",value:function(){var a=this.props.player,b=a.options(),c=b.params,d=c.sources,e={full:d,hls:[],mhls:[],html5:[],mhtml5:[],mfull:d};a.sources_=e,a.trigger(event.UPDATE_VIDEO_SOURCE,e)}},{key:"_getVideoSourceWithFile",value:function(){var a=this.props.player,b=[],c=a.options(),d=c.params,e=d.file,f=d.mp4,g=f||e;b.push({src:decodeURIComponent(g)});var h={full:b,hls:[],mhls:[],html5:b,mhtml5:b,mfull:b};a.sources_=h,a.trigger(event.UPDATE_VIDEO_SOURCE,h)}},{key:"_getVideoSourceWithLive",value:function(){var a=this.props.player,b=[],c=a.options(),d=c.params,e=d.m3u8,f=d.live,g=e;!g&&f||b.push({src:decodeURIComponent(g),type:"application/x-mpegURL"});var h={full:b,hls:b,mhls:b,html5:[],mhtml5:[],mfull:b};a.sources_=h,a.trigger(event.UPDATE_VIDEO_SOURCE,h)}},{key:"_getVideoSourceWithDash",value:function(){var a=this.props.player,b=a.options(),c=b.params,d=c.dash,e=[];e.push({src:decodeURIComponent(d),type:"application/dash+xml"});var f={full:e,hls:[],mhls:[],html5:[],mhtml5:[],mfull:e};a.sources_=f,a.trigger(event.UPDATE_VIDEO_SOURCE,f)}}]),b}(Plugin),_class$8.defaultProps={video_source_domain:"hls.mediacdn.vn",get_source_timeout:5e3,bandwidths:{144:16e4,240:213333,360:506666,480:1e6,720:1693333}},_temp$6),_class$9,InitSourcePlugin=(_class$9=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.state={inited:!1,fillstate:"FILL_COMPLETED"};var d=c.props.player;return d.one(event.UPDATE_VIDEO_SOURCE,c._handleUpdateVideoSource),d.one(event.FILL_PLAY_FILLING,c._handleFillPlayFilling),d.one(event.FILL_PLAY_COMPLETE,c._handleFillPlayComplete),c}return inherits(b,a),createClass(b,[{key:"_handleUpdateVideoSource",value:function(a,b){this.setState({sources:b}),this._initSource()}},{key:"_handleFillPlayFilling",value:function(){this.setState({fillstate:"FILLING"}),this._initSource()}},{key:"_handleFillPlayComplete",value:function(){this.setState({fillstate:"FILL_COMPLETED"}),this._initSource()}},{key:"_initSourceMobile",value:function(){var a=this.props.player,b=this.state.sources;if(!agent.isMobile)return!1;var c,d=b.mfull,e=b.mhtml5,f=a.options(),g=f.params;return c=d,g.hlsjs===!1&&(c=e),!(!c||0===c.length)&&(a.src(c),!0)}},{key:"_initSourcePC",value:function(){var a=this.props.player,b=this.state.sources;if(agent.isMobile)return!1;var c,d=b.full,e=b.html5,f=a.options(),g=f.params;return c=d,g.hlsjs===!1&&(c=e),!(!c||0===c.length)&&(a.src(c),!0)}},{key:"_initSourceMp4",value:function(){var a=this.props.player,b=this.state.sources,c=b.mp4;return!(!c||0===c.length)&&(a.src(c),!0)}},{key:"_initSource",value:function(){var a=this.state,b=a.sources,c=a.inited;c||b&&(c=this._initSourceMobile()||this._initSourcePC()||this._initSourceMp4(),this.setState({inited:c}))}}]),b}(Plugin),_applyDecoratedDescriptor$2(_class$9.prototype,"_handleUpdateVideoSource",[autobind],Object.getOwnPropertyDescriptor(_class$9.prototype,"_handleUpdateVideoSource"),_class$9.prototype),_applyDecoratedDescriptor$2(_class$9.prototype,"_handleFillPlayFilling",[autobind],Object.getOwnPropertyDescriptor(_class$9.prototype,"_handleFillPlayFilling"),_class$9.prototype),_applyDecoratedDescriptor$2(_class$9.prototype,"_handleFillPlayComplete",[autobind],Object.getOwnPropertyDescriptor(_class$9.prototype,"_handleFillPlayComplete"),_class$9.prototype),_class$9),atobBrowser=function(a){return atob(a)},isBase64=createCommonjsModule(function(a,b){!function(c){function d(a,b){b instanceof Object||(b={});var c=/^(data:\w+\/[a-zA-Z\+\-\.]+;base64,)?(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/gi;return b.paddingRequired===!1&&(c=/^(data:\w+\/[a-zA-Z\+\-\.]+;base64,)?(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/gi),c.test(a)}a.exports&&(b=a.exports=d),b.isBase64=d}(commonjsGlobal)}),browser=function(a,b){null==b&&(b="utf8");var c=new Uint8Array(a);if("hex"===b){for(var d="",e=0,f=c.byteLength;e<f;++e)d+=toHex(c[e]);return d}if("base64"===b)return h=String.fromCharCode.apply(null,c),btoa(h);if("binary"===b||"latin1"===b||!commonjsGlobal.TextDecoder)return h=String.fromCharCode.apply(null,c);"utf16le"===b&&(b="utf-16le");var g=new TextDecoder(b),h=g.decode(c);return h},playername$1="audioSwitchVoicePlayer",e1=new Uint8Array([104,108,115,84,101,99,104,73,110,105,116]),e1d=browser(e1),e2=new Uint8Array([104,108,115,75,101,121,76,111,97,100,101,100]);e2=new Uint8Array(e2);var e2d=browser(e2),frag=new Uint8Array([102,114,97,103]),fragd=browser(frag),decryptdata=new Uint8Array([100,101,99,114,121,112,116,100,97,116,97]),decryptdatad=browser(decryptdata),key=new Uint8Array([107,101,121]),keyd=browser(key),_uri=new Uint8Array([95,117,114,105]),_urid=browser(_uri),dm=new Uint8Array([107,109,115,46,115,111,104,97,116,118,46,118,110,124,108,111,99,97,108,104,111,115,116,124,49,48,46,53]),dmd=browser(dm),re=new RegExp(dmd),ccc=15,attachPlugin=function(){var a=this,b=!1;attachDefaultPlugin(a),a.initVideo=function(c){a.options_.params=videojs.mergeOptions(a.options_.params,c),a.mediaInfo={};var d=a.options().params.vid;if(["BetaThanhnienPlayer","ThanhNienPlayer"].indexOf(playername$1)>=0&Boolean(d)&&(d=decodeURIComponent(d),a.options().params.vid=d=d.replace("thanhnien/","thanhnien.mediacdn.vn/")),["TheThaoVanHoaPlayer","vcplayer"].indexOf(playername$1)>=0&Boolean(d)&&(d=decodeURIComponent(d),a.options().params.vid=d=d.replace("thethaovanhoa/","thethaovanhoa.mediacdn.vn/")),d){d=decodeURIComponent(d);var e=d.replace(/\/.*/,"");b=e.indexOf(".")>=0}new AdsPlugin({player:a}),a.options().params.mps||b?(a.options().params.vidMps=!0,new MPSVideoSourcePlugin({player:a}),new InitSourcePlugin({player:a}),new MPSVideoSourcePlugin$1({player:a})):(new MediaInfoPlugin({player:a}),new InitSourcePlugin({player:a}),new VideoSourcePlugin({player:a}))},a.initVideo(),a.on(e1d,function(a,b){b.on(e2d,function(a,b){var c=b[fragd];if(re.test(c[decryptdatad][_urid])){var d=browser(new Uint8Array(c[decryptdatad][keyd])),e=reverse(d);e=e.substring(ccc),c[decryptdatad][keyd]=new Uint8Array(stringToArrayBuffer(e))}})})};videojs.registerPlugin("attachPlugin",attachPlugin);var isObject_1=isObject$2,funcTag="[object Function]",objectProto$1=Object.prototype,objToString=objectProto$1.toString,isFunction_1=isFunction$2,isHostObject=function(){try{}catch(a){return function(){return!1}}return function(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}}(),isHostObject_1=isHostObject,isObjectLike_1=isObjectLike,reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),isNative_1=isNative,getNative_1=getNative,nativeNow=getNative_1(Date,"now"),now=nativeNow||function(){return(new Date).getTime()},now_1=now,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,debounce_1=debounce,FUNC_ERROR_TEXT="Expected a function",throttle_1=throttle,lib$1=createCommonjsModule(function(a,b){function c(a){var b={};for(var c in a)a.hasOwnProperty(c)&&d[c]&&(b[c]=a[c]);return b}Object.defineProperty(b,"__esModule",{value:!0}),b.default=c;var d={abbr:"abbr",accept:"accept",acceptCharset:"accept-charset",accessKey:"accesskey",action:"action",allowFullScreen:"allowfullscreen",allowTransparency:"allowtransparency",alt:"alt",async:"async",autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",cellPadding:"cellpadding",cellSpacing:"cellspacing",challenge:"challenge",charset:"charset",checked:"checked",cite:"cite",class:"class",className:"class",cols:"cols",colSpan:"colspan",command:"command",content:"content",contentEditable:"contenteditable",contextMenu:"contextmenu",controls:"controls",coords:"coords",crossOrigin:"crossorigin",data:"data",dateTime:"datetime",default:"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",dropzone:"dropzone",encType:"enctype",for:"for",form:"form",formAction:"formaction",formEncType:"formenctype",formMethod:"formmethod",formNoValidate:"formnovalidate",formTarget:"formtarget",frameBorder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hrefLang:"hreflang",htmlFor:"for",httpEquiv:"http-equiv",icon:"icon",id:"id",inputMode:"inputmode",isMap:"ismap",itemId:"itemid",itemProp:"itemprop",itemRef:"itemref",itemScope:"itemscope",itemType:"itemtype",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",manifest:"manifest",max:"max",maxLength:"maxlength",media:"media",mediaGroup:"mediagroup",method:"method",min:"min",minLength:"minlength",multiple:"multiple",muted:"muted",name:"name",noValidate:"novalidate",open:"open",optimum:"optimum",pattern:"pattern",ping:"ping",placeholder:"placeholder",poster:"poster",preload:"preload",radioGroup:"radiogroup",readOnly:"readonly",rel:"rel",required:"required",role:"role",rows:"rows",rowSpan:"rowspan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",sortable:"sortable",span:"span",spellCheck:"spellcheck",src:"src",srcDoc:"srcdoc",srcSet:"srcset",start:"start",step:"step",style:"style",tabIndex:"tabindex",target:"target",title:"title",translate:"translate",type:"type",typeMustMatch:"typemustmatch",useMap:"usemap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",onCopy:"onCopy",onCut:"onCut",onPaste:"onPaste",onLoad:"onLoad",onError:"onError",onWheel:"onWheel",onScroll:"onScroll",onCompositionEnd:"onCompositionEnd",onCompositionStart:"onCompositionStart",onCompositionUpdate:"onCompositionUpdate",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onFocus:"onFocus",onBlur:"onBlur",onChange:"onChange",onInput:"onInput",onSubmit:"onSubmit",onClick:"onClick",onContextMenu:"onContextMenu",onDoubleClick:"onDoubleClick",onDrag:"onDrag",onDragEnd:"onDragEnd",onDragEnter:"onDragEnter",onDragExit:"onDragExit",onDragLeave:"onDragLeave",onDragOver:"onDragOver",onDragStart:"onDragStart",onDrop:"onDrop",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onSelect:"onSelect",onTouchCancel:"onTouchCancel",onTouchEnd:"onTouchEnd",onTouchMove:"onTouchMove",onTouchStart:"onTouchStart",onAnimationStart:"onAnimationStart",onAnimationEnd:"onAnimationEnd",onAnimationIteration:"onAnimationIteration",onTransitionEnd:"onTransitionEnd"}}),filterReactDomProps=unwrapExports(lib$1),_class$12,_temp2$1,PlayerComponent=(_temp2$1=_class$12=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={children:d.props.children||[]},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"addChild",value:function(a,b){var c=this.state.children||[];b=b||this.state.children.length,b==-1?c.unshift(a):c.splice(b,0,a),this.setState({children:[].concat(toConsumableArray(c))})}},{key:"renderEl",value:function(){var a=this.props.tag;return React__default.createElement(a,null)}},{key:"render",value:function(){var a=this.renderEl();if(!a)return null;var b=this.state.children,c={};return a.ref&&(c={ref:a.ref.bind(this)}),React__default.createElement(a.type,_extends({},filterReactDomProps(this.props),a.props,c),a.props.children,b)}}],[{key:"registerSkinComponent",value:function(a,b){return React.Component.components_||(React.Component.components_={}),a=toTitleCase(a),React.Component.components_[a]=b,b}},{key:"getSkinComponent",value:function(a){if(a)return a=toTitleCase(a),React.Component.components_&&React.Component.components_[a]?React.Component.components_[a]:void 0}}]),b}(React.Component),_class$12.defaultProps={tag:"div"},_temp2$1);PlayerComponent.registerSkinComponent("component",PlayerComponent);var hasOwnProperty$1=Object.prototype.hasOwnProperty,shallowEqual_1=shallowEqual,pureRenderDecorator_1=pureRenderDecorator,_class$13,_class2$1,_class3,_temp$8,playername$3="audioSwitchVoicePlayer",tapMovementThreshold=50,swipeTimeThreshold=300,Overlay=pureRenderDecorator_1((_temp$8=_class3=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.state={playing:null},c.touchState={firstTouchActive:!1,firstTouch:null,touchStart:0,couldBeTap:!1,xdiff:0,ydiff:0,touchDistance:0,moveType:null,firstMoveType:null},c.scrubbingProgress={},c.scrubbingVolume={};var d=a.player,e=d.options(),f=e.agent;return c.isMobile=f.isMobile,c.activePlayer=throttle_1(d.userActive.bind(d),300),c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"handleTap",value:function(){}},{key:"handleClick",value:function(){var a=this.props.player,b=this;clearTimeout(b.clearTimeout),this.setState({playing:null}),a.paused()?(a.play(),this.timeoutPlay=setTimeout(function(){b.setState({playing:!0}),b.clearTimeout=setTimeout(function(){b.setState({playing:null})},350)},10)):(a.pause(),this.timeoutPause=setTimeout(function(){b.setState({playing:!1}),b.clearTimeout=setTimeout(function(){b.setState({playing:null})},350)},10)),this.hasClick&&this.handleDbClick(),clearTimeout(this.hasClickTimeout),this.hasClick=!0,this.hasClickTimeout=setTimeout(function(){b.hasClick=!1},400)}},{key:"handleDbClick",value:function(){var a=this.props.player;clearTimeout(this.timeoutPlay),clearTimeout(this.timeoutPause),a.isFullscreen()?a.exitFullscreen():a.requestFullscreen()}},{key:"handleKeyDown",value:function(){this.handleClick()}},{key:"className",value:function a(){var a=this.props.className,b=this.state.playing,c=[a,playername$3+"-overlay"];return b===!1?c.push("playing"):b===!0?c.push("paused"):c.push("clear"),c.join(" ")}},{key:"handleTouchStart",value:function(a){var b=this.props.player;this.touchState.firstTouchActive=!!b.isFullscreen()||b.userActive(),this.touchState.touchDistance=0,1===a.touches.length&&(this.touchState.firstTouch={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},this.touchState.touchStart=(new Date).getTime(),this.touchState.couldBeTap=!0)}},{key:"handleTouchMove",value:function(a){if(this.touchState.firstTouchActive)if(this.activePlayer(!0),a.preventDefault(),a.touches.length>1)this.touchState.couldBeTap=!1;else if(this.touchState.firstTouch){var b=this.touchState.xdiff=a.touches[0].pageX-this.touchState.firstTouch.pageX,c=this.touchState.ydiff=a.touches[0].pageY-this.touchState.firstTouch.pageY;this.touchState.touchDistance=Math.sqrt(b*b+c*c);var d=this.touchState.swipeDiff=Math.abs(b/c),e=void 0;e=d>1?"horizotial":"vertical",this.touchState.firstMoveType||(this.touchState.firstMoveType=e),this.touchState.moveType=e;var f=(new Date).getTime()-this.touchState.touchStart;f>swipeTimeThreshold&&(this.touchState.panstart?this.handlePan("pan",{moveType:this.touchState.firstMoveType,xdiff:b,ydiff:c}):(this.touchState.panstart=!0,this.handlePan("panstart",{moveType:this.touchState.firstMoveType,xdiff:b,ydiff:c})))}}},{key:"resetTouchState",value:function(){this.touchState={firstTouchActive:!1,firstTouch:null,touchStart:0,couldBeTap:!1,panstart:!1}}},{key:"handleTouchEnd",value:function(a){if(this.touchState.firstTouchActive){var b=(new Date).getTime()-this.touchState.touchStart;if(b>swipeTimeThreshold)return this.handlePan("panstop",{moveType:this.touchState.firstMoveType,xdiff:this.touchState.xdiff,ydiff:this.touchState.ydiff}),this.resetTouchState();if(this.touchState.touchDistance<tapMovementThreshold&&this.touchState.couldBeTap)return this.handleClick();a.preventDefault(),this.handleSwipe()}}},{key:"handldeScrubbingProgress",value:function(a,b){var c=b.xdiff,d=this.props.player,e=d.el().clientWidth,f=void 0,g=d.duration();switch(a){case"panstart":this.scrubbingProgress.isPlaying=!d.paused(),d.pause(),this.scrubbingProgress.currentTime=d.currentTime();break;case"pan":f=(this.scrubbingProgress.currentTime+c/e*g).toFixed(2),f=f>g?g:f,d.trigger(event$1.USER_PAN_PROGRESS,{time:f,percent:(f/g).toFixed(2)});break;case"panstop":f=(this.scrubbingProgress.currentTime+c/e*g).toFixed(2),f=f>g?g:f,d.currentTime(f),this.scrubbingProgress.isPlaying&&d.play()}}},{key:"handldeScrubbingVolume",value:function(a,b){var c=b.ydiff,d=this.props.player,e=d.el().clientHeight/2;switch(a){case"panstart":this.scrubbingVolume.volume=d.volume();break;case"pan":var f=this.scrubbingVolume.volume-c/e;d.volume(f)}}},{key:"handlePan",value:function(a,b){log.trace("handlePan",a,b),"horizotial"===b.moveType?this.handldeScrubbingProgress(a,b):this.handldeScrubbingVolume(a,b)}},{key:"handleSwipe",value:function(){log.trace("handleSwipe");var a=this.props.player,b=this.touchState,c=b.xdiff,d=b.ydiff,e=b.swipeDiff,f=a.currentTime(),g=a.volume();e>1?c>0?a.currentTime(f+30):a.currentTime(f-30):d>0?a.volume(g-.1):a.volume(g+.1)}},{key:"render",value:function(){var a=this.props.player,b=this.className(),c=void 0;return c=this.isMobile?{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd}:{onClick:this.handleClick},React__default.createElement("div",_extends({id:a.id_+"-overlay",className:b},c),React__default.createElement("button",{className:"overlay-pause"}),React__default.createElement("button",{className:"overlay-play"}),React__default.createElement("div",{className:"overlay-shadow"}))}}]),b}(React.Component),_class3.defaultProps={className:""},_class2$1=_temp$8,_applyDecoratedDescriptor$4(_class2$1.prototype,"handleClick",[autobind],Object.getOwnPropertyDescriptor(_class2$1.prototype,"handleClick"),_class2$1.prototype),_applyDecoratedDescriptor$4(_class2$1.prototype,"handleTouchStart",[autobind],Object.getOwnPropertyDescriptor(_class2$1.prototype,"handleTouchStart"),_class2$1.prototype),_applyDecoratedDescriptor$4(_class2$1.prototype,"handleTouchMove",[autobind],Object.getOwnPropertyDescriptor(_class2$1.prototype,"handleTouchMove"),_class2$1.prototype),_applyDecoratedDescriptor$4(_class2$1.prototype,"handleTouchEnd",[autobind],Object.getOwnPropertyDescriptor(_class2$1.prototype,"handleTouchEnd"),_class2$1.prototype),
_class$13=_class2$1))||_class$13,_class$15,_class2$3,_class3$2,_temp2$3,playername$4="audioSwitchVoicePlayer",PlayToggle=pureRenderDecorator_1((_temp2$3=_class3$2=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={is_playing:!1},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var a=this.props.player;a.on("pause",this.handlePause),a.on("play",this.handlePlay),a.one("timeupdate",this.handlePlay),a.on("ended",this.handleEnded)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("pause",this.handlePause),a.off("play",this.handlePlay),a.off("ended",this.handleEnded)}},{key:"handlePause",value:function(){this.setState({is_playing:!1})}},{key:"handlePlay",value:function(){this.setState({is_playing:!0})}},{key:"handleEnded",value:function(){this.setState({is_playing:!1})}},{key:"handleClick",value:function(a){a.preventDefault();var b=this.props.player;b.paused()?b.play():b.pause()}},{key:"className",value:function a(){var a=this.props.className,b=[playername$4+"-control "+a+" "+playername$4+"-button play-control"],c=this.state.is_playing;return c&&b.push("playing"),b.join(" ")}},{key:"render",value:function(){var a=this.className(),b=this.props.id;return React__default.createElement("button",{id:b,className:a,onClick:this.handleClick})}}]),b}(React.Component),_class3$2.defaultProps={className:""},_class2$3=_temp2$3,_applyDecoratedDescriptor$6(_class2$3.prototype,"handlePause",[autobind],Object.getOwnPropertyDescriptor(_class2$3.prototype,"handlePause"),_class2$3.prototype),_applyDecoratedDescriptor$6(_class2$3.prototype,"handlePlay",[autobind],Object.getOwnPropertyDescriptor(_class2$3.prototype,"handlePlay"),_class2$3.prototype),_applyDecoratedDescriptor$6(_class2$3.prototype,"handleEnded",[autobind],Object.getOwnPropertyDescriptor(_class2$3.prototype,"handleEnded"),_class2$3.prototype),_applyDecoratedDescriptor$6(_class2$3.prototype,"handleClick",[autobind],Object.getOwnPropertyDescriptor(_class2$3.prototype,"handleClick"),_class2$3.prototype),_class$15=_class2$3))||_class$15,_class$16,_class2$4,_temp2$4,playername$5="audioSwitchVoicePlayer",CurrentTime=(_temp2$4=_class2$4=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={current_time:"0:00"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("timeupdate",this.updateContent),a.on(event$1.USER_PAN_PROGRESS,this.handlePanProgress)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("timeupdate",this.updateContent),a.off(event$1.USER_PAN_PROGRESS,this.handlePanProgress)}},{key:"updateContent",value:function(){var a=this.props.player;if(!a.adSystem&&a.duration()){var b=formatTime(a.currentTime());this.setState({current_time:b})}}},{key:"handlePanProgress",value:function(a,b){var c=b.time,d=formatTime(c);this.setState({current_time:d})}},{key:"renderEl",value:function(){var a=this.state.current_time,b=this.props,c=b.player,d=b.className,e=!!c.options().params.live||c.tech_.isLive();return e?null:React__default.createElement("div",{className:playername$5+"-control time-control current-time "+d},React__default.createElement("div",{className:"current-time-display"},React__default.createElement("span",{className:"control-text"},"Current Time"),""+a))}}]),b}(PlayerComponent),_class2$4.defaultProps={className:""},_class$16=_temp2$4,_applyDecoratedDescriptor$7(_class$16.prototype,"updateContent",[autobind],Object.getOwnPropertyDescriptor(_class$16.prototype,"updateContent"),_class$16.prototype),_applyDecoratedDescriptor$7(_class$16.prototype,"handlePanProgress",[autobind],Object.getOwnPropertyDescriptor(_class$16.prototype,"handlePanProgress"),_class$16.prototype),_class$16),_class$17,playername$6="audioSwitchVoicePlayer",TimeDivider=(_class$17=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={isLive:!1},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("durationchange",this.handleDurationChange)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("durationchange",this.handleDurationChange)}},{key:"handleDurationChange",value:function(){var a=this.props.player,b=a.tech_.isLive();this.setState({isLive:b})}},{key:"renderEl",value:function(){var a=this.props.player,b=this.state.isLive;return b=!!a.options().params.live||b,b?null:React__default.createElement("div",{className:playername$6+"-control time-control time-divider"},React__default.createElement("div",null,"/"))}}]),b}(PlayerComponent),_applyDecoratedDescriptor$8(_class$17.prototype,"handleDurationChange",[autobind],Object.getOwnPropertyDescriptor(_class$17.prototype,"handleDurationChange"),_class$17.prototype),_class$17),_class$18,playername$7="audioSwitchVoicePlayer",Duration=(_class$18=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={duration:"0:00"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var a=this.props.player;a.on("timeupdate",this.updateContent),a.on("loadedmetadata",this.updateContent),a.on("updatedurationdvr",this.updateContent)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("timeupdate",this.updateContent),a.off("loadedmetadata",this.updateContent),a.off("updatedurationdvr",this.updateContent)}},{key:"updateContent",value:function(){var a=this.props.player;if(!a.adSystem){var b=a.duration();if(b&&this.duration_!==b){this.duration_=b;var c=formatTime(b);this.setState({duration:c})}}}},{key:"render",value:function(){var a=this.props.player,b=!!a.options().params.live||a.tech_.isLive();if(b)return null;var c=this.state.duration;return React__default.createElement("div",{className:playername$7+"-control time-control "+playername$7+"-duration"},React__default.createElement("div",{className:"duration-display"},React__default.createElement("span",{className:"control-text"},"Duration"),""+c))}}]),b}(PlayerComponent),_applyDecoratedDescriptor$9(_class$18.prototype,"updateContent",[autobind],Object.getOwnPropertyDescriptor(_class$18.prototype,"updateContent"),_class$18.prototype),_class$18),_class$20,playername$9="audioSwitchVoicePlayer",VolumeToggle=(_class$20=function(a){function b(){return classCallCheck(this,b),possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return inherits(b,a),createClass(b,[{key:"className",value:function(){var a=[playername$9+"-control "+playername$9+"-button volume-toggle"];return a.join(" ")}},{key:"handleClick",value:function(a){a.preventDefault();var b=this.props.player,c=b.muted(),d=b.volume();return 0===d?(b.volume(.8),b.muted(!1),b.trigger(event$1.USER_CHANGE_VOLUME,.8),void b.trigger(event$1.TRACKING_VOLUME,80)):(b.muted(!c),void b.trigger(event$1.USER_CHANGE_MUTE,!c))}},{key:"render",value:function(){var a=this.className();return React__default.createElement("button",{className:a,onClick:this.handleClick})}}]),b}(React.Component),_applyDecoratedDescriptor$11(_class$20.prototype,"handleClick",[autobind],Object.getOwnPropertyDescriptor(_class$20.prototype,"handleClick"),_class$20.prototype),_class$20),_class$21,playername$10="audioSwitchVoicePlayer",VolumeSlider=(_class$21=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.state={percent:0,is_mouse_down:!1},c.handleMouseMove=throttle_1(c.handleMouseMove.bind(c),50);var d=a.player,e=d.options(),f=e.agent;return c.isMobile=f.isMobile,c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("volumechange",this.update),a.on("loadedmetadata",this.update),this.update()}},{key:"componentWillUnmount",value:function(){var a=this.props.player;this.clearListener(),a.off("volumechange",this.update),a.off("loadedmetadata",this.update)}},{key:"className",value:function(){var a=[playername$10+"-control volume-slider"];return a.join(" ")}},{key:"update",value:function(){var a=this.props.player,b=Math.ceil(100*a.volume()),c=a.muted();c&&(b=0),this.setState({percent:b})}},{key:"handleMouseDown",value:function(a){this.clearListener();var b=this.props.player;b.off("volumechange",this.update),b.trigger("scrubbing-volume-state-change",!0);var c=this.calculateDistance(a);this.setState({percent:100*c}),b.volume(c),b.trigger(event$1.USER_CHANGE_VOLUME,c);var d="GovPlayer"===playername$10?"pointerup":"mouseup";window.addEventListener("mousemove",this.handleMouseMove,!1),window.addEventListener(d,this.handleMouseUp,!1),window.addEventListener("touchmove",this.handleMouseMove,!1),window.addEventListener("touchend",this.handleMouseUp,!1)}},{key:"clearListener",value:function(){window.removeEventListener("mousemove",this.handleMouseMove,!1),window.removeEventListener("mouseup",this.handleMouseUp,!1),window.removeEventListener("pointerup",this.handleMouseUp,!1),window.removeEventListener("touchmove",this.handleMouseMove,!1),window.removeEventListener("touchend",this.handleMouseUp,!1)}},{key:"handleMouseMove",value:function(a){var b=this.props.player,c=this.calculateDistance(a);this.setState({percent:100*c}),b.volume(c),b.muted(!1),b.trigger(event$1.USER_CHANGE_VOLUME,c),a.preventDefault(),a.stopPropagation()}},{key:"handleMouseUp",value:function(a){this.clearListener();var b=this.props.player,c=this.calculateDistance(a);this.setState({percent:100*c});var d=Math.ceil(100*c);b.volume(c),b.muted(!1),b.on("volumechange",this.update),b.trigger("scrubbing-volume-state-change",!1),b.trigger(event$1.TRACKING_VOLUME,d),b.trigger(event$1.USER_CHANGE_VOLUME,c)}},{key:"calculateDistance",value:function(a){var b=getPointerPosition(this.targetDiv,a);return b.x.toFixed(2)}},{key:"render",value:function(){var a=this,b=void 0;b=this.isMobile?{onTouchStart:this.handleMouseDown}:"GovPlayer"===playername$10?{onPointerDown:this.handleMouseDown}:{onMouseDown:this.handleMouseDown};var c=this.className(),d=this.state.percent;return React__default.createElement("div",_extends({className:c},b,{ref:function(b){a.targetDiv=b}}),React__default.createElement("div",{className:"volume-slider-level"},React__default.createElement("div",{className:"volume-level",style:{width:d+"%"}})))}}]),b}(React.Component),_applyDecoratedDescriptor$12(_class$21.prototype,"update",[autobind],Object.getOwnPropertyDescriptor(_class$21.prototype,"update"),_class$21.prototype),_applyDecoratedDescriptor$12(_class$21.prototype,"handleMouseDown",[autobind],Object.getOwnPropertyDescriptor(_class$21.prototype,"handleMouseDown"),_class$21.prototype),_applyDecoratedDescriptor$12(_class$21.prototype,"handleMouseUp",[autobind],Object.getOwnPropertyDescriptor(_class$21.prototype,"handleMouseUp"),_class$21.prototype),_class$21),_class$19,_class2$5,_class3$3,_temp2$5,playername$8="audioSwitchVoicePlayer",VolumeControl=pureRenderDecorator_1((_temp2$5=_class3$3=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={volume_level:0,is_mute:!1,rerender:!1},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("volumechange",this.update),a.on("ready",this.update);var b=this;a.on("ready",function(){a.el_.clientWidth<=170&&a.on("play",b.checkWidthPlayer)})}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("volumechange",this.update),a.off("ready",this.update)}},{key:"checkWidthPlayer",value:function(){var a=this.props.player;a.el_.clientWidth>170&&(this.setState({rerender:!0}),a.off("play",this.checkWidthPlayer))}},{key:"update",value:function(){var a=this.props.player,b=a.volume(),c=a.muted(),d=Math.ceil(10*b/3);this.setState({is_mute:!!c,volume_level:d})}},{key:"className",value:function a(){var a=this.props.className,b=[playername$8+"-control "+playername$8+"-volume-control "+a],c=this.state,d=c.is_mute,e=c.volume_level;if(d)b.push("volume-mute");else switch(e){case 0:b.push("volume-mute");break;case 1:b.push("volume-level-1");break;case 2:b.push("volume-level-2");break;case 3:b.push("volume-level-3")}return b.join(" ")}},{key:"render",value:function(){var a=this.props.player,b=this.className(),c=a.options(),d=c.agent,e=d.isMobile;if(e)return null;var f=a.el_.clientWidth;return f<=170?null:React__default.createElement("div",{className:b},React__default.createElement(VolumeToggle,{player:a}),React__default.createElement(VolumeSlider,{player:a}),this.props.children)}}]),b}(React.Component),_class3$3.defaultProps={className:""},_class2$5=_temp2$5,_applyDecoratedDescriptor$10(_class2$5.prototype,"checkWidthPlayer",[autobind],Object.getOwnPropertyDescriptor(_class2$5.prototype,"checkWidthPlayer"),_class2$5.prototype),_applyDecoratedDescriptor$10(_class2$5.prototype,"update",[autobind],Object.getOwnPropertyDescriptor(_class2$5.prototype,"update"),_class2$5.prototype),_class$19=_class2$5))||_class$19,_class$23,_temp$10,playername$13="audioSwitchVoicePlayer",PlayProgress=(_temp$10=_class$23=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=a.player,e=d.options(),f=e.params,g=!!f.live||d.tech_.isLive();return c.state={isLive:g,play_progress:g?100:0},c.handleTimeUpdate=c.handleTimeUpdate.bind(c),c.handleAdEnd=c.handleAdEnd.bind(c),c.handleAdStart=c.handleAdStart.bind(c),c.handleDurationChange=c.handleDurationChange.bind(c),c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("durationchange",this.handleDurationChange),a.on(event$1.AD_START,this.handleAdStart)}},{key:"handleAdEnd",value:function(){var a=this.props.player;a.on("durationchange",this.handleDurationChange),this.handleDurationChange()}},{key:"handleAdStart",value:function(){var a=this.props.player;a.one(event$1.AD_END,this.handleAdEnd),a.off("durationchange",this.handleDurationChange),a.off("timeupdate",this.handleTimeUpdate),a.off("updatedurationdvr",this.handleTimeUpdate)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off(event$1.AD_END,this.handleAdEnd),a.off(event$1.AD_START,this.handleAdStart),a.off("durationchange",this.handleDurationChange),a.off("timeupdate",this.handleTimeUpdate),a.off("updatedurationdvr",this.handleTimeUpdate)}},{key:"handleDurationChange",value:function(){var a=this.props.player,b=this.state.play_progress,c=a.tech_.isLive();a.off("timeupdate",this.handleTimeUpdate),c||(a.on("timeupdate",this.handleTimeUpdate),a.on("updatedurationdvr",this.handleTimeUpdate)),this.setState({isLive:c,play_progress:c?100:b})}},{key:"handleTimeUpdate",value:function(){var a=this.props.player,b=100*a.currentTime()/a.duration();this.setState({play_progress:b.toFixed(6)})}},{key:"update",value:function(a){this.setState({play_progress:a})}},{key:"renderEl",value:function(){var a=this.props,b=a.skin_color,c=a.player,d=this.state,e=d.play_progress,f=d.isLive,g=c.options(),h=g.params,i=g.scriptinfo,j=h.audio?"#0085b7":b;return f&&(j="rgb(230 5 80)"),i&&i.options.colorProgress&&(j=i.options.colorProgress),React__default.createElement("div",{className:playername$13+"-play-progress",style:{width:e+"%",backgroundColor:j}})}}]),b}(PlayerComponent),_class$23.defaultProps={skin_color:"white"},_temp$10),_class$24,MouseTimeDisplay=(_class$24=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=a.player,e=d.options(),f=e.params,g=!!f.live||d.tech_.isLive();return c.state={isLive:g,mouse_position:0,mouse_time:0,is_show:!1},c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("durationchange",this.handleDurationChange)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("durationchange",this.handleDurationChange)}},{key:"handleDurationChange",value:function(){var a=this.props.player,b=a.tech_.isLive();this.setState({isLive:b})}},{key:"show",value:function(){var a=this.state.is_show;a||this.setState({is_show:!0})}},{key:"hide",value:function(){var a=this.state.is_show;a&&this.setState({is_show:!1})}},{key:"update",value:function(a,b){this.setState({mouse_time:a,mouse_position:b,is_show:!0})}},{key:"renderEl",value:function(){var a=this.props.player,b=this.state,c=b.isLive,d=b.is_show;if(c||!d)return null;var e=this.state,f=e.mouse_position,g=e.mouse_time,h=a.currentDimension("width");return React__default.createElement("div",{className:"mouse-display","data-current-time":g,style:{width:f+"%",minWidth:8,maxWidth:h-19}})}}]),b}(PlayerComponent),_applyDecoratedDescriptor$14(_class$24.prototype,"handleDurationChange",[autobind],Object.getOwnPropertyDescriptor(_class$24.prototype,"handleDurationChange"),_class$24.prototype),_class$24),_class$25,playername$14="audioSwitchVoicePlayer",LoadProgress=(_class$25=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c.props.player,e=d.options(),f=e.params,g=!!f.live||d.tech_.isLive();return c.state={isLive:g,play_progress:g?100:0},c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("durationchange",this.handleDurationChange)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("progress",this.handleProgress),a.off("durationchange",this.handleDurationChange),a.off("updatedurationdvr",this.handleProgress)}},{key:"handleDurationChange",value:function(){var a=this.props.player,b=a.tech_.isLive();a.off("progress",this.handleProgress),b||(a.on("progress",this.handleProgress),a.on("updatedurationdvr",this.handleProgress)),this.setState({isLive:b})}},{key:"percentify",value:function(a,b){var c=a/b||0;return 100*(c>=1?1:c)+"%"}},{key:"handleProgress",value:function(){for(var a=this.props.player,b=a.buffered(),c=a.duration(),d=a.bufferedEnd(),e=this.percentify(d,c),f=[],g=0;g<b.length;g++){var h=b.start(g),i=b.end(g),j={};j.left=this.percentify(h,d),j.width=this.percentify(i-h,d),f.push(j)}var k=f.map(function(a){var b=a.left,c=a.width;return React__default.createElement("div",{key:b,className:playername$14+"-buffer-progress",style:{width:c,left:b}})});this.setState({children:k,load_progress:e})}},{key:"renderEl",value:function(){var a=this.state.load_progress;return React__default.createElement("div",{className:playername$14+"-load-progress",style:{width:a}})}}]),b}(PlayerComponent),_applyDecoratedDescriptor$15(_class$25.prototype,"handleDurationChange",[autobind],Object.getOwnPropertyDescriptor(_class$25.prototype,"handleDurationChange"),_class$25.prototype),_applyDecoratedDescriptor$15(_class$25.prototype,"handleProgress",[autobind],Object.getOwnPropertyDescriptor(_class$25.prototype,"handleProgress"),_class$25.prototype),_class$25);PlayerComponent.registerSkinComponent("loadProgress",LoadProgress);var playername$12="audioSwitchVoicePlayer",ProgressSilder=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={children:[React__default.createElement(LoadProgress,{key:"0",player:d.props.player,ref:function(a){d.loadProgress=a}}),React__default.createElement(MouseTimeDisplay,{key:"1",player:d.props.player,ref:function(a){d.mouseTimeDisplay=a}}),React__default.createElement(PlayProgress,{key:"2",player:d.props.player,ref:function(a){d.playProgress=a}})]},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.one("loadedmetadata",function(){if(a.options().scriptinfo){var b=a.options().scriptinfo.options,c=b.skin,d=b.sizeEleControlbar;if("skin3"==c){var e=d?parseInt(d):10,f=6+.5*(e-10);a.el_.getElementsByClassName(playername$12+"-progress-slider")[0].style.setProperty("height",f+"px","important")}}})}},{key:"renderEl",value:function(){return React__default.createElement("div",{className:playername$12+"-progress-slider"})}}]),b}(PlayerComponent),_class$22,_class2$6,_temp$9,playername$11="audioSwitchVoicePlayer",ProgressControl=(_temp$9=_class2$6=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.state={is_paused:!1,children:[React__default.createElement(ProgressSilder,{key:"0",player:c.props.player,ref:function(a){c.progressSlider=a}})]},c.handleMouseMoveTimeDisplay=throttle_1(c.handleMouseMoveTimeDisplay.bind(c),50),c.handleMouseMove=throttle_1(c.handleMouseMove.bind(c),50);var d=a.player,e=d.options(),f=e.agent;return c.isMobile=f.isMobile,c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;if(a.on("durationchange",this._handleDurationChange),a.options().scriptinfo){var b=a.options().scriptinfo.options,c=b.skin,d=b.sizeEleControlbar;if("skin3"==c){var e=d?parseInt(d)-10:0,f=80+3*e,g=40+1.5*e,h=37+3.8*e,i="calc(100% - "+f+"px)";this.setState({leftProgress:g,bottomProgress:h,widthPgogress:i,skinPlayer:c})}}var j=this;a.on("player_useractive",function(){j.setState({userActive:!0})}),a.on("player_userinactive",function(){j.setState({userActive:!1})}),a.on("play",function(){j.setState({playVideo:!0})}),a.on("pause",function(){j.setState({playVideo:!1})})}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("durationchange",this._handleDurationChange);var b=this;a.off("player_useractive",function(){b.setState({userActive:!0})}),a.off("player_userinactive",function(){b.setState({userActive:!1})}),a.off("play",function(){b.setState({playVideo:!0})}),a.off("pause",function(){b.setState({playVideo:!1})})}},{key:"_handleDurationChange",value:function(){this.handleDurationChange()}},{key:"handleDurationChange",value:function(){var a=this.props.player,b=a.tech_.isLive();a.off(event$1.USER_PAN_PROGRESS,this.handlePanProgress),b||a.on(event$1.USER_PAN_PROGRESS,this.handlePanProgress),this.setState({isLive:b})}},{key:"handleMouseDown",value:function(a){this.clearListener();var b=this.props.player,c=this.state.isLive;if(!b.adSystem&&!c){var d=b.paused();this.setState({is_paused:d}),d||b.pause(),b.trigger("scrubbing-progress-state-change",!0);var e=this.calculateDistance(a),f={isMouseDown:!0};b.trigger(event$1.MOUSE_DOWN_TIME_UPDATE,f),this.progressSlider.playProgress.update(100*e);var g="GovPlayer"===playername$11?"pointerup":"mouseup";window.addEventListener("mousemove",this.handleMouseMove,!1),window.addEventListener(g,this.handleMouseUp,!1),window.addEventListener("touchmove",this.handleMouseMove,!1),window.addEventListener("touchend",this.handleMouseUp,!1)}}},{key:"clearListener",value:function(){window.removeEventListener("mousemove",this.handleMouseMove,!1),window.removeEventListener("mouseup",this.handleMouseUp,!1),window.removeEventListener("pointerup",this.handleMouseUp,!1),window.removeEventListener("touchmove",this.handleMouseMove,!1),window.removeEventListener("touchend",this.handleMouseUp,!1)}},{key:"handleMouseMove",value:function(a){var b=this.props.player,c=this.calculateDistance(a),d=b.duration();this.progressSlider.playProgress.update(100*c);var e={time:c*d,percent:c,duration:d,isMouseDown:!0};b.trigger(event$1.MOUSE_DOWN_TIME_UPDATE,e),b.currentTime(c*d),a.preventDefault(),a.stopPropagation()}},{key:"handlePanProgress",value:function(a,b){var c=b.percent,d=this.props.player,e=d.duration();this.progressSlider.playProgress.update(100*c),d.currentTime(c*e)}},{key:"handleMouseUp",value:function(a){this.clearListener();var b=this.props.player,c=this.state.is_paused,d=this.calculateDistance(a),e=b.duration();this.progressSlider.playProgress.update(100*d),b.trigger("scrubbing-progress-state-change",!1);var f={isMouseDown:!1};b.trigger(event$1.MOUSE_DOWN_TIME_UPDATE,f),b.currentTime(d*e),!c&&d<1&&b.play()}},{key:"handleMouseMoveThrood",value:function(a){var b=this.state.isLive;b||(a.persist(),this.handleMouseMoveTimeDisplay(a))}},{key:"handleTouchEnd",value:function(){this.progressSlider.mouseTimeDisplay.hide()}},{key:"handleMouseMoveTimeDisplay",value:function(a){var b=this.props.player,c=this.calculateDistance(a),d=b.duration(),e={time:c*d,percent:c,duration:d};b.trigger(event$1.MOUSE_TIME_UPDATE,e);var f=formatTime(c*d,d);this.progressSlider.mouseTimeDisplay.update(f,100*c)}},{key:"calculateDistance",value:function(a){var b=getPointerPosition(this.targetDiv,a);return b.x.toFixed(6)}},{key:"handleCustomProgress",value:function(a,b){var c=this.props.player;if("skin3"==b){var d=a-10,e=80+3*d,f=40+1.5*d,g=37+3.8*d,h="calc(100% - "+e+"px)",i=6+.5*d;this.setState({leftProgress:f,bottomProgress:g,widthPgogress:h,skinPlayer:b}),c.el_.getElementsByClassName(playername$11+"-progress-slider")[0].style.setProperty("height",i+"px","important")}else c.el_.getElementsByClassName(playername$11+"-progress-slider")[0].style="",this.setState({skinPlayer:b})}},{key:"renderEl",value:function(){var a=this,b=void 0,c=this.props.className,d=this.state,e=d.playVideo,f=d.userActive,g=d.skinPlayer,h=d.widthPgogress,i=d.leftProgress,j=d.bottomProgress,k=d.isLive;b=this.isMobile?{onTouchStart:this.handleMouseDown,onTouchMove:this.handleMouseMoveThrood,onTouchEnd:this.handleTouchEnd}:"GovPlayer"===playername$11?{onPointerDown:this.handleMouseDown,onMouseMove:this.handleMouseMoveThrood}:{onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMoveThrood};var l={};return"skin3"==g&&(!f&&e&&(j="-3px"),l={width:h,left:i,bottom:j,transition:"bottom 0.5s ease 0s"},k&&(l={width:"calc(100% - 20px)",left:10,bottom:j,transition:"bottom 0.5s ease 0s"})),"skin2"==g&&k&&(l={bottom:"98%"}),React__default.createElement("div",_extends({className:playername$11+"-control "+playername$11+"-progress-control "+c,style:l,ref:function(b){a.targetDiv=b}},b))}}]),b}(PlayerComponent),_class2$6.defaultProps={className:""},_class$22=_temp$9,_applyDecoratedDescriptor$13(_class$22.prototype,"_handleDurationChange",[autobind],Object.getOwnPropertyDescriptor(_class$22.prototype,"_handleDurationChange"),_class$22.prototype),_applyDecoratedDescriptor$13(_class$22.prototype,"handleMouseDown",[autobind],Object.getOwnPropertyDescriptor(_class$22.prototype,"handleMouseDown"),_class$22.prototype),_applyDecoratedDescriptor$13(_class$22.prototype,"handlePanProgress",[autobind],Object.getOwnPropertyDescriptor(_class$22.prototype,"handlePanProgress"),_class$22.prototype),_applyDecoratedDescriptor$13(_class$22.prototype,"handleMouseUp",[autobind],Object.getOwnPropertyDescriptor(_class$22.prototype,"handleMouseUp"),_class$22.prototype),_applyDecoratedDescriptor$13(_class$22.prototype,"handleMouseMoveThrood",[autobind],Object.getOwnPropertyDescriptor(_class$22.prototype,"handleMouseMoveThrood"),_class$22.prototype),_applyDecoratedDescriptor$13(_class$22.prototype,"handleTouchEnd",[autobind],Object.getOwnPropertyDescriptor(_class$22.prototype,"handleTouchEnd"),_class$22.prototype),_class$22);PlayerComponent.registerSkinComponent("progressControl",ProgressControl);var _class$26,PlayToggle$2=pureRenderDecorator_1(_class$26=function(a){function b(){return classCallCheck(this,b),possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return inherits(b,a),createClass(b,[{key:"className",value:function(){var a=["spacer"];return a.join(" ")}},{key:"render",value:function(){var a=this.className();return React__default.createElement("div",{className:a})}}]),b}(React.Component))||_class$26,_class$28,ResolutionSelector=pureRenderDecorator_1(_class$28=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={items:[]},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props,b=a.type,c=a.items,d=a.current_level;this.setState({type:b,items:c,current_level:d})}},{key:"componentWillReceiveProps",value:function(a){var b=a.type,c=a.items,d=a.current_level;this.setState({type:b,items:c,current_level:d})}},{key:"className",value:function(){var a=["resolution-selector"];return a.join(" ")}},{key:"renderItem",value:function(){var a=this.state,b=a.items,c=a.current_level,d=[],e=!0,f=!1,g=void 0;try{for(var h,i=b[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value,k="res-label";c===j.level&&(k+=" selected");var l=React__default.createElement("li",{key:j.level,onClick:this.props.changeRes.bind(null,j)},React__default.createElement("span",{className:k},j.label));d.push(l)}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}return d}},{key:"render",value:function(){var a=this.state.type,b=void 0;return"Mp4"!==a&&"M3u8"!==a||(b=this.renderItem()),React__default.createElement("div",{className:"resolution-wapper"},React__default.createElement("div",{className:"resolution-selector"},React__default.createElement("ul",null,b)))}}]),b}(React.Component))||_class$28,_class$27,_class2$7,playername$15="audioSwitchVoicePlayer",Setting=pureRenderDecorator_1((_class2$7=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={type:null,items:[],current_level:null,video_source:{mhtml5:[],html5:[]}},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("loadedmetadata",this.handleLoadedMetadata),a.on("playlist-hls",this.handlePlaylistHls)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("loadedmetadata",this.handleLoadedMetadata),a.off("playlist-hls",this.handlePlaylistHls)}},{key:"handleLoadedMetadata",value:function(){var a=this.props.player,b=this.state.video_source,c=b.mhtml5,d=b.html5,e=a.options().agent,f=a.currentSrc(),g=f.match(/.(mp4|m3u8)$/i)||[],h=(g[1]||"").toLowerCase();switch(h=toTitleCase(h)){case"Mp4":var i=void 0;this.clearInterValCheckVideoHeight();try{i=parseInt(f.match(/_(.*)p\.(mp4)$/i)[1])}catch(b){return void a.trigger("html5UrlIncorrect")}var j=void 0,k=[],l=e.isMobile?c:d;for(var m in l){var n=l[m],o=n["data-res"];o===i&&(j=m),k.push({src:n.src,type:n.type,label:o+"p",resolution:o,level:m})}this.setState({type:"Mp4",items:k,current_level:j});break;case"M3u8":}}},{key:"handlePlaylistHls",value:function(a,b){var c=this.state.type;if("M3u8"!==c){var d=b||[],e=[];d.length>1&&e.push({src:d.uri,type:"application/x-mpegURL",label:"Auto",resolution:0,level:-1});for(var f=0;f<d.length;f++){var g=d[f],h=void 0;try{h=g.attributes.RESOLUTION.height}catch(a){continue}e.push({
src:g.uri,type:"application/x-mpegURL",label:h+"p",resolution:h,level:f})}this.setInterValCheckVideoHeight(),this.setState({type:"M3u8",items:e,current_level:-1})}}},{key:"sortItems",value:function(a){return a.sort(function(a,b){return"undefined"==typeof a.resolution?-1:parseInt(b.resolution)-parseInt(a.resolution)})}},{key:"className",value:function(){var a=[playername$15+"-control "+playername$15+"-button setting"],b=this.state,c=b.current_item,d=b.resolution_hd;return(d||c&&c.resolution>=720)&&a.push("resolution-hd"),a.join(" ")}},{key:"changeRes",value:function(a){var b=this.state.current_level;if(b!==a.level){this.setState({current_level:a.level,current_item:a,hover:!1});var c=this.props.player,d=this.state.type;switch(d){case"Mp4":var e=c.currentTime(),f=c.paused();c.src(a).one("loadedmetadata",function(){c.currentTime(e),f?c.pause():c.play()});break;case"M3u8":c.trigger("vcplayerchangequality",a.level),this.setInterValCheckVideoHeight()}}}},{key:"setInterValCheckVideoHeight",value:function(){this.clearInterValCheckVideoHeight(),this.intervalCheckId=setInterval(this.checkVideoHeight,1e3)}},{key:"clearInterValCheckVideoHeight",value:function(){clearInterval(this.intervalCheckId)}},{key:"checkVideoHeight",value:function(){var a=this.props.player,b=this.state,c=b.hover,d=b.current_level,e=a.videoHeight();c||d===-1&&(e>=720?this.setState({resolution_hd:!0}):this.setState({resolution_hd:!1}))}},{key:"handleMouseEnter",value:function(){this.setState({hover:!0})}},{key:"handleMouseLeave",value:function(){this.setState({hover:!1})}},{key:"render",value:function(){var a=this.className(),b=this.props.player,c=this.state,d=c.type,e=c.items,f=c.current_level;return!d||"number"!=typeof f||e.length<2?null:(e=this.sortItems(e),React__default.createElement("div",{className:a,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},React__default.createElement(ResolutionSelector,{player:b,type:d,items:e,current_level:f,changeRes:this.changeRes}),React__default.createElement("button",{className:"setting-gear "+playername$15+"-button"}),React__default.createElement("span",{className:"hd-quality"},"HD")))}}]),b}(React.Component),_applyDecoratedDescriptor$16(_class2$7.prototype,"handleLoadedMetadata",[autobind],Object.getOwnPropertyDescriptor(_class2$7.prototype,"handleLoadedMetadata"),_class2$7.prototype),_applyDecoratedDescriptor$16(_class2$7.prototype,"handlePlaylistHls",[autobind],Object.getOwnPropertyDescriptor(_class2$7.prototype,"handlePlaylistHls"),_class2$7.prototype),_applyDecoratedDescriptor$16(_class2$7.prototype,"changeRes",[autobind],Object.getOwnPropertyDescriptor(_class2$7.prototype,"changeRes"),_class2$7.prototype),_applyDecoratedDescriptor$16(_class2$7.prototype,"checkVideoHeight",[autobind],Object.getOwnPropertyDescriptor(_class2$7.prototype,"checkVideoHeight"),_class2$7.prototype),_applyDecoratedDescriptor$16(_class2$7.prototype,"handleMouseEnter",[autobind],Object.getOwnPropertyDescriptor(_class2$7.prototype,"handleMouseEnter"),_class2$7.prototype),_applyDecoratedDescriptor$16(_class2$7.prototype,"handleMouseLeave",[autobind],Object.getOwnPropertyDescriptor(_class2$7.prototype,"handleMouseLeave"),_class2$7.prototype),_class$27=_class2$7))||_class$27,_class$29,_class2$8,_temp$11,playername$16="audioSwitchVoicePlayer",FullScreenToggle=pureRenderDecorator_1((_temp$11=_class2$8=function(a){function b(){return classCallCheck(this,b),possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return inherits(b,a),createClass(b,[{key:"handleClick",value:function(a){var b=this;a.preventDefault();var c=this.props.player;c.isFullscreen()?c.exitFullscreen():c.requestFullscreen(),c.setTimeout(function(){b.r_button.blur(),c.el_.focus()},0)}},{key:"className",value:function a(){var a=this.props.className,b=[playername$16+"-control "+a+" "+playername$16+"-button full-screen-toggle"];return b.join(" ")}},{key:"render",value:function(){var a=this,b=this.props.player,c=this.className(),d=b.options(),e=d.params;return e.audio?null:React__default.createElement("button",{ref:function(b){a.r_button=b},className:c,onClick:function(b){return a.handleClick(b)}})}}]),b}(React.Component),_class2$8.defaultProps={className:""},_class$29=_temp$11))||_class$29,_class$30,_class2$9,playername$17="audioSwitchVoicePlayer",inOtherIframe=!1;try{window.top!==window.self&&(inOtherIframe=!0)}catch(a){inOtherIframe=!0}var BtnMute=pureRenderDecorator_1((_class2$9=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={sizeEle:10,skinPlayer:"skin2",mute:!0,rerender:!1},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("volumechange",this.update),a.on("ready",this.update),a.on(event$1.PLAYER_READY,this.playerReady);var b=this;if(a.on("ready",function(){a.el_.clientWidth<=170&&a.on("play",b.checkWidthPlayer)}),a.options().scriptinfo){var c=a.options().scriptinfo.options,d=c.sizeEleControlbar,e=c.skin,f=d?parseInt(d):10,g=e?e:"skin2";this.setState({sizeEle:f,skinPlayer:g})}}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("volumechange",this.update),a.off("ready",this.update),a.off(event$1.PLAYER_READY,this.playerReady)}},{key:"checkWidthPlayer",value:function(){var a=this.props.player;a.el_.clientWidth>170&&(this.setState({rerender:!0}),a.off("play",this.checkWidthPlayer))}},{key:"playerReady",value:function(){this.setState({isReady:!0})}},{key:"update",value:function(){var a=this.props.player,b=a.volume(),c=!1;c=a.tech_?a.tech_.el_.muted:a.el_.firstElementChild.muted,0===b||c?this.setState({mute:!0}):this.setState({mute:!1})}},{key:"handleClick",value:function(){var a=this.props.player,b=a.muted(),c=a.volume();a.trigger(event$1.USER_CHANGE_MUTE,!b),c?a.muted(!b):(a.volume(.5),a.muted(!1),a.trigger(event$1.USER_CHANGE_VOLUME,.5)),a.trigger("player-filling-volume",!1)}},{key:"render",value:function(){var a=this.props.player,b=this.state,c=b.mute,d=b.sizeEle,e=b.skinPlayer,f=45+3*(d-10);"skin3"==e&&(f=65+5.5*(d-10));var g=a.el_.clientWidth;return g<=170&&!inOtherIframe?null:React__default.createElement("div",{style:{bottom:f},className:playername$17+"-btn-mute",onClick:this.handleClick},React__default.createElement("button",null,React__default.createElement("span",{className:playername$17+"-qmtwbs-base"}),React__default.createElement("span",{className:playername$17+"-qmtwbs-level"})),c?React__default.createElement("span",{className:playername$17+"-line-mute"}):null)}}]),b}(React.Component),_applyDecoratedDescriptor$17(_class2$9.prototype,"checkWidthPlayer",[autobind],Object.getOwnPropertyDescriptor(_class2$9.prototype,"checkWidthPlayer"),_class2$9.prototype),_applyDecoratedDescriptor$17(_class2$9.prototype,"playerReady",[autobind],Object.getOwnPropertyDescriptor(_class2$9.prototype,"playerReady"),_class2$9.prototype),_applyDecoratedDescriptor$17(_class2$9.prototype,"update",[autobind],Object.getOwnPropertyDescriptor(_class2$9.prototype,"update"),_class2$9.prototype),_applyDecoratedDescriptor$17(_class2$9.prototype,"handleClick",[autobind],Object.getOwnPropertyDescriptor(_class2$9.prototype,"handleClick"),_class2$9.prototype),_class$30=_class2$9))||_class$30,_class$31,playername$18="audioSwitchVoicePlayer",LiveDisplay=(_class$31=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={isLive:!1},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("durationchange",this.handleDurationChange)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("durationchange",this.handleDurationChange)}},{key:"handleDurationChange",value:function(){var a=this.props.player,b=a.tech_.isLive();this.setState({isLive:b})}},{key:"renderEl",value:function(){var a=this.props.player,b=this.state.isLive;return b=!!a.options().params.live||b,b?React__default.createElement("div",{className:playername$18+"-control time-control live-display"},React__default.createElement("div",{className:"live-display",style:{color:"red",fontWeight:800}},React__default.createElement("span",{className:"control-text"},"Duration"),"LIVE")):null}}]),b}(PlayerComponent),_applyDecoratedDescriptor$18(_class$31.prototype,"handleDurationChange",[autobind],Object.getOwnPropertyDescriptor(_class$31.prototype,"handleDurationChange"),_class$31.prototype),_class$31),_class$33,_class2$11,playername$20="audioSwitchVoicePlayer",QualitySelectMp4=pureRenderDecorator_1((_class2$11=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={class:"",currentQuality:144},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"activeQuality",value:function(a,b){var c=this.props.player;this.currentTime=c.currentTime();var d=c.options().params.shadowDom?window.playerShadowRoot[""+c.id_].getElementById(c.id_+"-qlt-select"):document.getElementById(c.id_+"-qlt-select");this.isPaused=c.paused(),this.setState({class:"quality-active",currentQuality:a}),c.src(b),c.one("loadedmetadata",this._restoreCurrentTime),d.style.display="none"}},{key:"_restoreCurrentTime",value:function(){var a=this.props,b=a.player,c=a.onChange,d=this.state.currentQuality,e=this.isPaused,f=this.currentTime;b.currentRes=d,c(d),b.currentTime(f),e||b.play()}},{key:"_renderQualityMp4",value:function(){var a=this,b=this.props,c=b.media,d=b.player,e=this.state,f=e.currentQuality,g=e.sizeEle,h=10;if(d.options().scriptinfo){var i=d.options().scriptinfo.options.sizeEleControlbar;h=i?parseInt(i):10}h=g?g:h;var j=30+2*(h-10);return c.sort(function(a,b){return parseFloat(b["data-res"])-parseFloat(a["data-res"])}),c.map(function(b,c){var d=!1,e=7;return f===b["data-res"]&&(d=!0,e=7+.5*(h-10)),React__default.createElement("li",{style:{height:j},"data-res":b["data-res"],className:playername$20+"-li-fix ",key:c,onClick:a.activeQuality.bind(a,b["data-res"],b.src)},b["data-res"],"p",d?React__default.createElement("div",{style:{width:e,height:e,position:"absolute",top:10,left:"1.5em",borderRadius:"50%",background:"#ff5400"}}):null)})}},{key:"render",value:function(){var a=this.props.player;return React__default.createElement("div",{id:a.id_+"-qlt-select",className:playername$20+"-quality-select"},this._renderQualityMp4())}}]),b}(React.Component),_applyDecoratedDescriptor$20(_class2$11.prototype,"activeQuality",[autobind],Object.getOwnPropertyDescriptor(_class2$11.prototype,"activeQuality"),_class2$11.prototype),_applyDecoratedDescriptor$20(_class2$11.prototype,"_restoreCurrentTime",[autobind],Object.getOwnPropertyDescriptor(_class2$11.prototype,"_restoreCurrentTime"),_class2$11.prototype),_class$33=_class2$11))||_class$33,_class$34,_class2$12,playername$21="audioSwitchVoicePlayer",QualityHlsSelect=pureRenderDecorator_1((_class2$12=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={class:"",currentQuality:"auto"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"activeQuality",value:function(a,b){var c=this.props.player,d=this.props.onChange,e=c.options().params.shadowDom?window.playerShadowRoot[""+c.id_].getElementById(c.id_+"-qlt-select"):document.getElementById(c.id_+"-qlt-select");this.setState({class:"quality-active",currentQuality:a}),d(a,b),e.style.display="none"}},{key:"_renderQualityHls",value:function(){var a=this,b=this.props,c=b.media,d=b.levels,e=b.player,f=this.state,g=f.currentQuality,h=f.sizeEle,i=10;if(e.options().scriptinfo){var j=e.options().scriptinfo.options.sizeEleControlbar;i=j?parseInt(j):10}i=h?h:i;var k=30+2*(i-10);return c.sort(function(a,b){return parseFloat(b.id)-parseFloat(a.id)}),c.map(function(b,c){var e=[],f=!1,h=7;g===b.label&&(f=!0,h=7+.5*(i-10)),d[0]+"p"===b.label&&e.push("current");var j=e.join(" ");return React__default.createElement("li",{style:{height:k},data:b.label,className:playername$21+"-li-fix "+j,key:c,onClick:a.activeQuality.bind(a,b.label,b.id)},b.label,f?React__default.createElement("div",{style:{width:h,height:h,position:"absolute",top:10,left:"1.5em",borderRadius:"50%",background:"#ff5400"}}):null)})}},{key:"render",value:function(){var a=this.props.player;return React__default.createElement("div",{id:a.id_+"-qlt-select",className:playername$21+"-quality-select"},this._renderQualityHls())}}]),b}(React.Component),_applyDecoratedDescriptor$21(_class2$12.prototype,"activeQuality",[autobind],Object.getOwnPropertyDescriptor(_class2$12.prototype,"activeQuality"),_class2$12.prototype),_class$34=_class2$12))||_class$34,_class$35,playername$22="audioSwitchVoicePlayer",QualitySelectMpd=pureRenderDecorator_1(_class$35=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={class:"",currentQuality:"Auto"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"activeQuality",value:function(a){var b=this.props.player,c=a.height,d=this.props.onChange,e=b.options().params.shadowDom?window.playerShadowRoot[""+b.id_].getElementById(b.id_+"-qlt-select"):document.getElementById(b.id_+"-qlt-select");this.setState({class:"quality-active",currentQuality:c}),d(a),e.style.display="none"}},{key:"_renderQualityMpd",value:function(){var a=this,b=this.props,c=b.media,d=b.player,e=this.state,f=e.sizeEle,g=e.currentQuality,h=10;if(d.options().scriptinfo){var i=d.options().scriptinfo.options.sizeEleControlbar;h=i?parseInt(i):10}h=f?f:h;var j=30+2*(h-10),k=function(a,b){return a.reduce(function(a,c){return(a[c[b]]=a[c[b]]||[]).push(c),a},[])},l=k(c,"height"),m=[];return l.map(function(a){var b=a.sort(function(a,b){return a.active||b.active?parseFloat(a.audioBandwidth)-parseFloat(b.audioBandwidth):parseFloat(b.audioBandwidth)-parseFloat(a.audioBandwidth)});return m.push(b[0]),m}),m.sort(function(a,b){return parseFloat(b.height)-parseFloat(a.height)}),m.push({height:"Auto"}),m.map(function(b,c){var d=!1,e=7;return g===b.height&&(d=!0,e=7+.5*(h-10)),React__default.createElement("li",{style:{height:j},"data-res":b.height,className:playername$22+"-li-fix ",key:c,onClick:a.activeQuality.bind(a,b)},"Auto"===b.height?b.height:b.height+"p",d?React__default.createElement("div",{style:{width:e,height:e,position:"absolute",top:10,left:"1.5em",borderRadius:"50%",background:"#ff5400"}}):null)})}},{key:"render",value:function(){var a=this.props.player;return React__default.createElement("div",{id:a.id_+"-qlt-select",className:playername$22+"-quality-select"},this._renderQualityMpd())}}]),b}(React.Component))||_class$35,_class$36,playername$23="audioSwitchVoicePlayer",ActiveMp4Control=pureRenderDecorator_1(_class$36=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={sizeEle:10,colorskin:"rgb(255, 255, 255)"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;if(a.options().scriptinfo){var b=a.options().scriptinfo.options,c=b.sizeEleControlbar,d=b.colorskin,e=c?parseInt(c):10,f=d?d:"rgb(255, 255, 255)";this.setState({sizeEle:e,colorskin:f})}}},{key:"_rederActiveMp4",value:function(){var a=this.props.quality,b=this.state.colorskin,c="sd";return a>=720&&(c="hd"),React__default.createElement("div",{style:{color:b},data:a,"data-res-def":c,className:playername$23+"-control selected-quality selected-mp4"},a,"p")}},{key:"className",value:function(){var a=this.props.quality,b=[];return a>=720&&b.push("hd-active"),b.join(" ")}},{key:"_renderHDactice",value:function(){var a=this.className();return React__default.createElement("div",{className:a})}},{key:"_renderHDacticeSkin",value:function(){var a=this.props.quality,b=this.state.sizeEle;if(a.height>=720){var c=7+.8*(b-10),d=12+(b-10),e=5+(b-10),f=15+b/4,g=7+(b-10);return b>15&&(g=5+(b-10)),React__default.createElement("div",{style:{height:c,width:d,top:e,left:f,fontSize:g,position:"absolute",background:"#f00",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"}},"HD")}}},{key:"render",value:function(){var a=this.props.player,b=a.options(),c=b.agent,d=this.state,e=d.colorskin,f=d.sizeEle,g=f+15,h=f+16;return React__default.createElement("div",{className:playername$23+"-quality-setting"},React__default.createElement("div",{style:{position:"relative",float:"left",display:"flex",alignItems:"center",width:h}},settingIcon(g,e),this._renderHDacticeSkin()),c.isMobile?null:this._rederActiveMp4())}}]),b}(React.Component))||_class$36,_class$37,playername$24="audioSwitchVoicePlayer",ActiveHlsControl=pureRenderDecorator_1(_class$37=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={sizeEle:10,colorskin:"rgb(255, 255, 255)"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;if(a.options().scriptinfo){var b=a.options().scriptinfo.options,c=b.sizeEleControlbar,d=b.colorskin,e=c?parseInt(c):10,f=d?d:"rgb(255, 255, 255)";this.setState({sizeEle:e,colorskin:f})}}},{key:"_rederActiveHls",value:function(){var a=this.props.quality,b=this.state.colorskin,c="sd";return"720p"!==a&&"1080p"!==a&&"1280p"!==a||(c="hd"),React__default.createElement("div",{style:{color:b},data:a,"data-res-def":c,className:playername$24+"-control selected-quality slected-hls"},a)}},{key:"className",value:function(){var a=this.props.levels,b=[];return a>=720&&b.push("hd-active"),b.join(" ")}},{key:"_renderHDactice",value:function(){var a=this.className();return React__default.createElement("div",{className:a})}},{key:"_renderHDacticeSkin",value:function(){var a=this.props.levels,b=this.state.sizeEle;if(a>=720){var c=7+.8*(b-10),d=12+(b-10),e=5+(b-10),f=15+b/4,g=7+(b-10);return b>15&&(g=5+(b-10)),React__default.createElement("div",{style:{height:c,width:d,top:e,left:f,fontSize:g,position:"absolute",background:"#f00",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"}},"HD")}}},{key:"render",value:function(){var a=this.props.player,b=a.options(),c=b.agent,d=this.state,e=d.colorskin,f=d.sizeEle,g=f+15,h=f+16;return React__default.createElement("div",{className:playername$24+"-quality-setting"},React__default.createElement("div",{style:{position:"relative",float:"left",display:"flex",alignItems:"center",width:h}},settingIcon(g,e),this._renderHDacticeSkin()),c.isMobile?null:this._rederActiveHls())}}]),b}(React.Component))||_class$37,_class$38,playername$25="audioSwitchVoicePlayer",ActiveMpdControl=pureRenderDecorator_1(_class$38=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={sizeEle:10,colorskin:"rgb(255, 255, 255)"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;if(a.options().scriptinfo){var b=a.options().scriptinfo.options,c=b.sizeEleControlbar,d=b.colorskin,e=c?parseInt(c):10,f=d?d:"rgb(255, 255, 255)";this.setState({sizeEle:e,colorskin:f})}}},{key:"_rederActiveMpd",value:function(){var a=this.props.quality,b=this.state.colorskin,c="sd";a.height>=720&&(c="hd");var d=void 0;return d="Auto"!=a.height&&a.height?a.height+"p":"Auto",React__default.createElement("div",{style:{color:b},data:a.height,"data-res-def":c,className:playername$25+"-control selected-quality selected-mp4"},d)}},{key:"className",value:function(){var a=this.props.quality,b=[];return a.height>=720&&b.push("hd-active"),b.join(" ")}},{key:"_renderHDactice",value:function(){var a=this.className();return React__default.createElement("div",{className:a})}},{key:"_renderHDacticeSkin",value:function(){var a=this.props.quality,b=this.state.sizeEle;if(a.height>=720){var c=7+.8*(b-10),d=12+(b-10),e=5+(b-10),f=15+b/4,g=7+(b-10);return b>15&&(g=5+(b-10)),React__default.createElement("div",{style:{height:c,width:d,top:e,left:f,fontSize:g,position:"absolute",background:"#f00",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"}},"HD")}}},{key:"render",value:function(){var a=this.props.player,b=a.options(),c=b.agent,d=this.state,e=d.colorskin,f=d.sizeEle,g=f+15,h=f+16;return React__default.createElement("div",{className:playername$25+"-quality-setting"},React__default.createElement("div",{style:{position:"relative",float:"left",display:"flex",alignItems:"center",width:h}},settingIcon(g,e),this._renderHDacticeSkin()),c.isMobile?null:this._rederActiveMpd())}}]),b}(React.Component))||_class$38,_class$32,_class2$10,playername$19="audioSwitchVoicePlayer",QualityControl=pureRenderDecorator_1((_class2$10=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={mediaMp4:[],mediaHls:[],mediaMpd:[],typeQuality:"",activeMp4:144,activeHls:"auto",activeMpd:"",currentNetwork:0,levelsArr:[]},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on(event.UPDATE_VIDEO_SOURCE,this.mediaInfoMp4),a.on("loadedmetadata",this.getMetadataPlaying);var b=a.src();if(b){var c=a.sources_,d=this._checkTypeSource();this.setState({typeQuality:d,mediaMp4:c.html5})}}},{key:"componentWillUnmount",value:function(){var a=this.props.player,b=a.tech_;b.off("loadedqualitydata",this.mediaInfoHls),a.off("loadedmetadata",this.getMetadataPlaying),b.off(event$1.HLS_FRAG_BUFFERED,this._onFragBuffered),clearTimeout(this.timeOutHover)}},{key:"_checkTypeSource",value:function(){var a=this.props.player;return a.src().indexOf(".m3u8")>0?"3u8":a.src().indexOf(".mpd")>0?"mpd":a.src().indexOf(".mp4")>0?"mp4":void 0}},{key:"getMetadataPlaying",value:function(){var a=this.props.player,b=this._checkTypeSource(),c=a.tech_;c.one("loadedqualitydata",this.mediaInfoHls),c.on("loadLevelsData",this.loadLevelsData),c.on("loadBitrateDash",this.mediaInfoDash),c.on(event$1.HLS_FRAG_BUFFERED,this._onFragBuffered),c.trigger("requestBitrateDash"),c.trigger("requestqualitydata"),this.setState({typeQuality:b}),a.on(event.UPDATE_VIDEO_SOURCE,this.mediaInfoMp4)}},{key:"loadLevelsData",value:function(a,b){this.setState({levelsArr:b})}},{key:"_onFragBuffered",value:function(a,b){var c=b.data,d=c.frag.level;this.setState({currentNetwork:d})}},{key:"mediaInfoHls",value:function(a,b){var c=b.qualityData,d=b.qualitySwitchCallback;this.qualitySwitchCallback=d,this.setState({mediaHls:c.video})}},{key:"mediaInfoMp4",value:function(a,b){this.setState({mediaMp4:b.html5})}},{key:"mediaInfoDash",value:function(a,b){var c=b.bitrateVideo,d=b.callBack;this.setState({mediaMpd:c,levelsArr:c}),this.callBack=d}},{key:"onChangeQualityMp4",value:function(a){this.setState({activeMp4:a})}},{key:"onChangeQualityMpd",value:function(a){this.callBack(a),this.setState({activeMpd:a})}},{key:"onChangeQualityHls",value:function(a,b){var c=this.props.player;c.trigger(event$1.USER_CHANGE_QUALITY,{data:a,id:b}),this.setState({activeHls:a}),this.qualitySwitchCallback(b)}},{key:"_renderQualityActive",value:function(){var a=this,b=this.props.player,c=this.state,d=c.typeQuality,e=c.activeMp4,f=c.activeMpd,g=c.mediaMpd,h=c.activeHls,i=c.levelsArr,j=c.currentNetwork,k=[];if(!i.length)return null;if("3u8"===d){var l=j<i.length?j:i.length-1,m=i[l].height;k.push(m)}return"mpd"===d?React__default.createElement(ActiveMpdControl,{ref:function(b){a.qualityMpdActive=b},player:b,quality:f,media:g}):"mp4"===d?React__default.createElement(ActiveMp4Control,{ref:function(b){a.qualityMp4=b},player:b,quality:e}):React__default.createElement(ActiveHlsControl,{ref:function(b){a.activehls=b},player:b,quality:h,levels:k})}},{key:"_renderQualitySelect",value:function(){var a=this,b=this.state,c=b.mediaMp4,d=b.mediaHls,e=b.mediaMpd,f=b.typeQuality,g=b.currentNetwork,h=b.levelsArr,i=[];if(!h.length)return null;if("3u8"===f){var j=g<h.length?g:h.length-1,k=h[j].height;i.push(k)}var l=this.props.player;return c||d?"mpd"===f?React__default.createElement(QualitySelectMpd,{player:l,media:e,onChange:this.onChangeQualityMpd,ref:function(b){return a.qualitySelectMpd=b}}):"mp4"===f?React__default.createElement(QualitySelectMp4,{player:l,media:c,onChange:this.onChangeQualityMp4,ref:function(b){return a.qualitySelectMp4=b}}):React__default.createElement(QualityHlsSelect,{player:l,media:d,onChange:this.onChangeQualityHls,levels:i,ref:function(b){return a.qualitySelectHls=b}}):null}},{key:"onMouseEnterHandler",value:function(){var a=this.props.player,b=a.options().params.shadowDom?window.playerShadowRoot[""+a.id_].getElementById(a.id_+"-qlt-select"):document.getElementById(a.id_+"-qlt-select");b.style.display="block",this.timeOutHover=setTimeout(function(){b.style.display="none"},8e3)}},{key:"onMouseLeaveHandler",value:function(){var a=this.props.player,b=a.options().params.shadowDom?window.playerShadowRoot[""+a.id_].getElementById(a.id_+"-qlt-select"):document.getElementById(a.id_+"-qlt-select");b.style.display="none",clearTimeout(this.timeOutHover)}},{key:"onTouchStartHandler",value:function(){var a=this.props.player,b=a.options().params.shadowDom?window.playerShadowRoot[""+a.id_].getElementById(a.id_+"-qlt-select"):document.getElementById(a.id_+"-qlt-select");b.style.display="block"}},{key:"render",value:function(){var a=this.props.player,b=a.options(),c=b.agent;if(c.isMobile)return null;var d=this.state,e=d.typeQuality,f=d.mediaHls,g=d.mediaMp4;if("mp4"===e&&g.length<=1)return null;if("3u8"===e&&f.length<=1)return null;if(!e||a.adSystem)return null;var h=a.el_.clientWidth;if(h<=170)return null;var i={onMouseEnter:this.onMouseEnterHandler,onMouseLeave:this.onMouseLeaveHandler,onTouchStart:this.onTouchStartHandler};return React__default.createElement("div",_extends({},i,{className:playername$19+"-quality-wrapper"}),this._renderQualityActive(),this._renderQualitySelect())}}]),b}(React.Component),_applyDecoratedDescriptor$19(_class2$10.prototype,"getMetadataPlaying",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"getMetadataPlaying"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"loadLevelsData",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"loadLevelsData"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"_onFragBuffered",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"_onFragBuffered"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"mediaInfoHls",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"mediaInfoHls"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"mediaInfoMp4",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"mediaInfoMp4"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"mediaInfoDash",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"mediaInfoDash"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"onChangeQualityMp4",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"onChangeQualityMp4"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"onChangeQualityMpd",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"onChangeQualityMpd"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"onChangeQualityHls",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"onChangeQualityHls"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"onMouseEnterHandler",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"onMouseEnterHandler"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"onMouseLeaveHandler",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"onMouseLeaveHandler"),_class2$10.prototype),_applyDecoratedDescriptor$19(_class2$10.prototype,"onTouchStartHandler",[autobind],Object.getOwnPropertyDescriptor(_class2$10.prototype,"onTouchStartHandler"),_class2$10.prototype),_class$32=_class2$10))||_class$32,_class$14,_class2$2,_class3$1,_temp2$2,ControlBar=pureRenderDecorator_1((_temp2$2=_class3$1=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={children:[React__default.createElement(PlayToggle,{key:"0",player:d.props.player}),React__default.createElement(CurrentTime,{key:"2",player:d.props.player}),React__default.createElement(TimeDivider,{key:"3",player:d.props.player}),React__default.createElement(Duration,{key:"4",player:d.props.player}),React__default.createElement(LiveDisplay,{key:"5",player:d.props.player}),React__default.createElement(PlayToggle$2,{key:"6",player:d.props.player}),React__default.createElement(ProgressControl,{key:"7",player:d.props.player,ref:function(a){return d.progressControl=a}}),React__default.createElement(Setting,{key:"8",player:d.props.player}),React__default.createElement(QualityControl,{key:"9",player:d.props.player,ref:function(a){return d.qualityControl=a}}),React__default.createElement(VolumeControl,{key:"10",player:d.props.player}),React__default.createElement(FullScreenToggle,{key:"12",player:d.props.player,ref:function(a){return d.fullScreenToggle=a}}),React__default.createElement(BtnMute,{key:"13",player:d.props.player})]},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"userActive",value:function(){this.props.controlBarActiveChange(!0)}},{key:"userInActive",value:function(){this.props.controlBarActiveChange(!1)}},{key:"className",value:function a(){var a=this.props.className,b=[a+" control-bar"];return b.join(" ")}},{key:"renderEl",value:function(){var a=this.className();return React__default.createElement("div",{className:a,onMouseEnter:this.userActive,onMouseLeave:this.userInActive})}}]),b}(PlayerComponent),_class3$1.defaultProps={className:""},_class2$2=_temp2$2,_applyDecoratedDescriptor$5(_class2$2.prototype,"userActive",[autobind],Object.getOwnPropertyDescriptor(_class2$2.prototype,"userActive"),_class2$2.prototype),_applyDecoratedDescriptor$5(_class2$2.prototype,"userInActive",[autobind],Object.getOwnPropertyDescriptor(_class2$2.prototype,"userInActive"),_class2$2.prototype),_class$14=_class2$2))||_class$14,_class$39,_class2$13,playername$26="audioSwitchVoicePlayer",InfoWaitPlay=pureRenderDecorator_1((_class2$13=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={title:"",duration:"0:00",
is_show:!0},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player,b=a.mediaInfo.title;a.mediaInfo.title&&this.setState({title:b}),a.on("updateMediaInfo",this.update),a.on("play",this.handeInfoOnPlay),a.one("timeupdate",this.handeInfoOnPlay)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("updateMediaInfo",this.update),a.off("play",this.handeInfoOnPlay)}},{key:"update",value:function(){var a=this.props.player,b=a.mediaInfo,c=b.title,d=b.duration;/(.*)\./.test(d)&&(d=d.match(/(.*)\./)[1]),this.setState({title:c,duration:d})}},{key:"handeInfoOnPlay",value:function(){this.setState({is_show:!1})}},{key:"_renderTitle",value:function(){var a=this.state.title;return React__default.createElement("div",{className:playername$26+"-title-video"},React__default.createElement("div",{className:playername$26+"-title-vd"},a),React__default.createElement("p",{className:playername$26+"-line"}))}},{key:"render",value:function(){var a=this.state,b=a.is_show,c=a.duration,d=this.props,e=d.player,f=d.className,g=e.options(),h=g.params;return!b||h.filler===!1||h.audio?null:React__default.createElement("div",{className:playername$26+"-info-waiting "+f},this._renderTitle(),React__default.createElement("div",{className:playername$26+"-time-video"},React__default.createElement("span",{className:playername$26+"-icon-time-video"}),React__default.createElement("span",{className:playername$26+"-total-time-video"},c)),React__default.createElement("div",{className:playername$26+"-setting-video"},React__default.createElement(VolumeControl,{player:e}),React__default.createElement(FullScreenToggle,{player:e})))}}]),b}(React.Component),_applyDecoratedDescriptor$22(_class2$13.prototype,"update",[autobind],Object.getOwnPropertyDescriptor(_class2$13.prototype,"update"),_class2$13.prototype),_applyDecoratedDescriptor$22(_class2$13.prototype,"handeInfoOnPlay",[autobind],Object.getOwnPropertyDescriptor(_class2$13.prototype,"handeInfoOnPlay"),_class2$13.prototype),_class$39=_class2$13))||_class$39,_class$40,_class2$14,playername$27="audioSwitchVoicePlayer",AnimationPlay=pureRenderDecorator_1((_class2$14=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={is_show:!0,is_hover:!1,counter:3,is_haveData:!1,firstRender:!1},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentWillMount",value:function(){var a=this.props.player,b=a.options(),c=b.agent,d=a.options(),e=d.params,f=this;a.on("loadedmetadata",this.handleLoadMetaData),a.one("play",this.handleFirstPlay),window.addEventListener("resize",this.handleResize),a.setTimeout(function(){if(f.handleResize(),e.autoplay&&!c.isMobile){var b=3;a.setTimeout(function(){f.onHoverBackground()},0);var d=a.setInterval(function(){return 0===b?void a.clearInterval(d):(b--,void f.setState({counter:b}))},800)}},0)}},{key:"handleLoadMetaData",value:function(){this.setState({is_haveData:!0})}},{key:"handleFirstPlay",value:function(){this.setState({is_show:!1}),window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.setState({resizeTime:Date.now()})}},{key:"handlePlay",value:function(){var a=this.props.player;a.play(),clearTimeout(this.timeoutID)}},{key:"onHoverBackground",value:function(){var a=this.props.player;clearTimeout(this.timeoutID),this.setState({is_hover:!0}),this.timeoutID=window.setTimeout(function(){a.play()},2e3)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;clearTimeout(this.timeoutID),a.off("play",this.handleFirstPlay),a.off("loadedmetadata",this.handleLoadMetaData),window.removeEventListener("resize",this.handleResize)}},{key:"onLeaveBackground",value:function(){this.setState({is_hover:!1}),clearTimeout(this.timeoutID)}},{key:"calculatePosition",value:function(){var a=this.props.player,b=a.el_.clientHeight,c=a.el_.clientWidth,d=160*b/400;return d=d<100?100:d>180?180:d,{top:b/2-d/2-30,left:c/2-d/2,boxHeight:d}}},{key:"className",value:function a(){var a=this.props.className,b=["play-box",""+a],c=this.props.player,d=c.options(),e=d.params;return e.autoplay&&b.push("box-autoplay"),b.join(" ")}},{key:"styleName",value:function(){var a=this.props.player,b=[playername$27+"-countdown-time"],c=a.options(),d=c.agent;return d.isMobile&&b.push("display-counttime"),b.join(" ")}},{key:"render",value:function(){var a=this.state,b=a.is_show,c=a.is_hover,d=a.resizeTime,e=a.counter,f=a.is_haveData,g=a.firstRender,h=this.props.player,i=h.options(),j=i.params;if(!b||!d||j.filler===!1||!f)return null;var k=void 0;try{k=this.calculatePosition()}catch(a){return null}var l=k,m=l.top,n=l.boxHeight,o=l.left,p=c?n:0,q={};g||(p=0,this.setState({firstRender:!0})),j.autoplay||(q={onMouseLeave:this.onLeaveBackground,onMouseEnter:this.onHoverBackground});var r=this.className(),s=this.styleName(),t={width:n,height:n,backgroundSize:n+"px",lineHeight:n+"px"},u=n;return n<130&&(u=130),React__default.createElement("div",_extends({className:r},q,{onClick:this.handlePlay}),React__default.createElement("div",{className:playername$27+"-animation-box",style:{top:m,left:o}},React__default.createElement("div",{className:playername$27+"-border-animation",style:t}),React__default.createElement("div",{className:playername$27+"-background-animation",style:{width:n,height:p,backgroundSize:n}}),j.autoplay?React__default.createElement("span",{style:{top:n,left:0,width:u},className:s},"Video play in ",e,"s"):null))}}]),b}(React.Component),_applyDecoratedDescriptor$23(_class2$14.prototype,"handleLoadMetaData",[autobind],Object.getOwnPropertyDescriptor(_class2$14.prototype,"handleLoadMetaData"),_class2$14.prototype),_applyDecoratedDescriptor$23(_class2$14.prototype,"handleFirstPlay",[autobind],Object.getOwnPropertyDescriptor(_class2$14.prototype,"handleFirstPlay"),_class2$14.prototype),_applyDecoratedDescriptor$23(_class2$14.prototype,"handleResize",[autobind],Object.getOwnPropertyDescriptor(_class2$14.prototype,"handleResize"),_class2$14.prototype),_applyDecoratedDescriptor$23(_class2$14.prototype,"handlePlay",[autobind],Object.getOwnPropertyDescriptor(_class2$14.prototype,"handlePlay"),_class2$14.prototype),_applyDecoratedDescriptor$23(_class2$14.prototype,"onHoverBackground",[autobind],Object.getOwnPropertyDescriptor(_class2$14.prototype,"onHoverBackground"),_class2$14.prototype),_applyDecoratedDescriptor$23(_class2$14.prototype,"onLeaveBackground",[autobind],Object.getOwnPropertyDescriptor(_class2$14.prototype,"onLeaveBackground"),_class2$14.prototype),_class$40=_class2$14))||_class$40,_class$41,_class2$15,ImagesThumb=pureRenderDecorator_1((_class2$15=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={is_show:!0,isFullscreen:!1,thumb_json:"",thumb_info:"",thumb_query:d.props.player.options().params.poster,liveUrl:""},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"handleOnPlay",value:function(){var a=this.props.player;a.paused()||this.setState({is_show:!1})}},{key:"thumbImageInfo",value:function(a,b){this.setState({thumb_info:b.thumb_url})}},{key:"setThumb",value:function(a){this.setState({thumb_info:a})}},{key:"thumbImageJson",value:function(){var a=this.props.player,b=a.mediaInfo.img;this.setState({thumb_json:b})}},{key:"reRenderThumb",value:function(){this.setState({is_show:!0})}},{key:"handleClick",value:function(){var a=this.props.player;a.play()}},{key:"componentDidMount",value:function(){var a=this,b=this.props.player;b.on("updateMediaInfo",this.thumbImageJson),b.on("fullscreenchange",this.handleFullscreenChange),b.on("posterchange",this.handlePosterChange),b.on("play",this.handleOnPlay),b.one("timeupdate",this.handleOnPlay),b.on(event.UPDATE_VIDEO_SOURCE,this.thumbImageInfo),b.poster=function(b){b&&a.setState({liveUrl:b})}}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("updateMediaInfo",this.thumbImageJson),a.off("fullscreenchange",this.handleFullscreenChange),a.off("play",this.handleOnPlay),a.off(event.UPDATE_VIDEO_SOURCE,this.thumbImageInfo)}},{key:"handleFullscreenChange",value:function(){var a=this.props.player,b=a.isFullscreen();this.setState({isFullscreen:b})}},{key:"handlePosterChange",value:function(a,b){this.setThumb(b)}},{key:"render",value:function(){var a=this.props.player,b=a.options(),c=b.agent,d=b.params,e=this.state,f=e.thumb_json,g=e.thumb_info,h=e.thumb_query,i=e.is_show,j=e.isFullscreen,k=e.liveUrl;if(!i&&!d.audio)return null;var l=h||f||g,m=600;c.isMobile&&(m=480),l=decodeURIComponent(l),l=l.replace(/([^:])(\/\/)/g,"$1/"),/thumb_w|zoom/.test(l)||(/video-thumbs.mediacdn.vn/.test(l)?l=l.replace(/mediacdn.vn\//,"mediacdn.vn/thumb_w/"+m+"/"):/video-thumbs.vcmedia.vn/.test(l)&&(l=l.replace(/vcmedia.vn\//,"vcmedia.vn/thumb_w/"+m+"/"))),j&&/thumb_w|zoom/.test(l)&&(l=l.replace(/(thumb_w|zoom)\/.*?\//,"")),l="undefined"===l?"":l;var n=k?k:l,o={};return!n&&c.isIOS?o.background="white":o.backgroundImage="url('"+n+"')",React__default.createElement("div",{style:o,className:"thumbnail",onClick:this.handleClick})}}]),b}(React.Component),_applyDecoratedDescriptor$24(_class2$15.prototype,"handleOnPlay",[autobind],Object.getOwnPropertyDescriptor(_class2$15.prototype,"handleOnPlay"),_class2$15.prototype),_applyDecoratedDescriptor$24(_class2$15.prototype,"thumbImageInfo",[autobind],Object.getOwnPropertyDescriptor(_class2$15.prototype,"thumbImageInfo"),_class2$15.prototype),_applyDecoratedDescriptor$24(_class2$15.prototype,"thumbImageJson",[autobind],Object.getOwnPropertyDescriptor(_class2$15.prototype,"thumbImageJson"),_class2$15.prototype),_applyDecoratedDescriptor$24(_class2$15.prototype,"reRenderThumb",[autobind],Object.getOwnPropertyDescriptor(_class2$15.prototype,"reRenderThumb"),_class2$15.prototype),_applyDecoratedDescriptor$24(_class2$15.prototype,"handleClick",[autobind],Object.getOwnPropertyDescriptor(_class2$15.prototype,"handleClick"),_class2$15.prototype),_applyDecoratedDescriptor$24(_class2$15.prototype,"handleFullscreenChange",[autobind],Object.getOwnPropertyDescriptor(_class2$15.prototype,"handleFullscreenChange"),_class2$15.prototype),_applyDecoratedDescriptor$24(_class2$15.prototype,"handlePosterChange",[autobind],Object.getOwnPropertyDescriptor(_class2$15.prototype,"handlePosterChange"),_class2$15.prototype),_class$41=_class2$15))||_class$41,_class$43,playername$29="audioSwitchVoicePlayer",RemainingTime=(_class$43=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={remaining_time:"0:00"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var a=this.props.player;a.on("timeupdate",this.updateContent)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("timeupdate",this.updateContent)}},{key:"updateContent",value:function(){var a=this.props.player;if(a.duration()){var b=formatTime(a.remainingTime());this.setState({remaining_time:b})}}},{key:"className",value:function(){var a=[playername$29+"-control time-control remaining-time"];return a.join(" ")}},{key:"render",value:function(){var a=this.className(),b=this.state.remaining_time;return React__default.createElement("div",{className:a},React__default.createElement("div",{className:"color-textt"},React__default.createElement("span",{className:"control-text"},"Remaining Time"),"-"+b))}}]),b}(PlayerComponent),_applyDecoratedDescriptor$26(_class$43.prototype,"updateContent",[autobind],Object.getOwnPropertyDescriptor(_class$43.prototype,"updateContent"),_class$43.prototype),_class$43);PlayerComponent.registerSkinComponent("remainingTime",RemainingTime);var _class$42,_class2$16,playername$28="audioSwitchVoicePlayer",VolumeAd=pureRenderDecorator_1((_class2$16=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={is_play:!1,mute:!0,on_show:!0,waiting_hide:!1,percent:0},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("play",this.handlePlay),a.on("volumechange",this.update),a.on("player-filling-volume",this.hideShowOnAuto)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("play",this.handlePlay),a.off("volumechange",this.update),a.off("player-filling-volume",this.hideShowOnAuto)}},{key:"hideShowOnAuto",value:function(a,b){if(!b){var c=this;this.timeoutHide_=setTimeout(function(){c.setState({on_show:!1})},1e3),this.setState({waiting_hide:!0})}}},{key:"handlePlay",value:function(){this.setState({is_play:!0})}},{key:"update",value:function(){var a=this.props.player,b=Math.ceil(100*a.volume()),c=a.muted();c&&(b=0),this.setState({percent:b})}},{key:"handleClick",value:function(){var a=this.props.player;a.trigger(event$1.USER_CHANGE_MUTE);var b=a.muted();this.setState({mute:b}),a.muted(!b)}},{key:"className",value:function(){var a=[playername$28+"-volume-ctn"],b=this.state.waiting_hide;return b&&a.push("waiting_hide"),a.join(" ")}},{key:"render",value:function(){var a=this.props.player,b=a.muted(),c=a.options(),d=c.agent,e=this.state,f=e.percent,g=e.on_show,h=e.is_play;if(!g||!h||f<31||b||d.isMobile)return null;var i=this.className();return React__default.createElement("div",{className:i},React__default.createElement("div",{onClick:this.handleClick,className:playername$28+"-volume-ad"},React__default.createElement("div",{className:playername$28+"-top-volumead"},React__default.createElement("span",{className:playername$28+"-text-volume"},"Âm lượng: ",f,"%")),React__default.createElement("div",{className:playername$28+"-bottom-volumead"},React__default.createElement(VolumeControl,{player:a})),React__default.createElement("div",{className:playername$28+"-hover-mute"},React__default.createElement("span",{className:playername$28+"-text-volume"},"Tắt tiếng"))))}}]),b}(React.Component),_applyDecoratedDescriptor$25(_class2$16.prototype,"hideShowOnAuto",[autobind],Object.getOwnPropertyDescriptor(_class2$16.prototype,"hideShowOnAuto"),_class2$16.prototype),_applyDecoratedDescriptor$25(_class2$16.prototype,"handlePlay",[autobind],Object.getOwnPropertyDescriptor(_class2$16.prototype,"handlePlay"),_class2$16.prototype),_applyDecoratedDescriptor$25(_class2$16.prototype,"update",[autobind],Object.getOwnPropertyDescriptor(_class2$16.prototype,"update"),_class2$16.prototype),_applyDecoratedDescriptor$25(_class2$16.prototype,"handleClick",[autobind],Object.getOwnPropertyDescriptor(_class2$16.prototype,"handleClick"),_class2$16.prototype),_class$42=_class2$16))||_class$42,_class$44,playername$30="audioSwitchVoicePlayer",Loading=(_class$44=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={waiting:!1,loadingSizes:100},c.handleUnWaiting=throttle_1(c.handleUnWaiting.bind(c),300),c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;window.addEventListener("resize",this.handleResize),this.handleResize(),a.one("play",this.handleFirstWaiting),a.on("waiting",this.handleWaiting),a.on("stalled",this.handleWaiting),a.on(event$1.AD_START,this.handleWaiting),a.on("timeupdate",this.handleUnWaiting)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;window.removeEventListener("resize",this.handleResize),a.off("play",this.handleFirstWaiting),a.off("waiting",this.handleWaiting),a.off("stalled",this.handleWaiting),a.off(event$1.AD_START,this.handleWaiting),a.off("timeupdate",this.handleUnWaiting),clearTimeout(this.waiting_delay)}},{key:"handleResize",value:function(){var a=this.props.player,b=a.el_.clientWidth;b<=790&&this.setState({loadingSizes:90}),b<=480&&this.setState({loadingSizes:60})}},{key:"handleFirstWaiting",value:function(){this.setState({waiting:!0})}},{key:"handleWaiting",value:function(){var a=this;this.waiting_delay||(this.waiting_delay=setTimeout(function(){this.waiting_delay=null,a.setState({waiting:!0})},700))}},{key:"handleUnWaiting",value:function(){clearTimeout(this.waiting_delay),this.waiting_delay=null,this.setState({waiting:!1})}},{key:"className",value:function(){var a=["loading"],b=this.state.waiting;return b||a.push("hidden"),a.join(" ")}},{key:"calculatePosition",value:function(){var a=this.props.player,b=this.state.loadingSizes,c=a.el_.clientHeight,d=a.el_.clientWidth;return{top:c/2-b/2-30,left:d/2-b/2,loadingSizes:b}}},{key:"render",value:function(){var a=this.props.player,b=a.options(),c=b.params,d=this.className(),e=this.calculatePosition(),f=e.top,g=e.left,h=e.loadingSizes;return c.audio?null:React__default.createElement("div",{className:d,onClick:this.handleClick},React__default.createElement("div",{style:{width:h,height:h,top:f,left:g},className:playername$30+"-loader-circle"}))}}]),b}(React.Component),_applyDecoratedDescriptor$27(_class$44.prototype,"handleResize",[autobind],Object.getOwnPropertyDescriptor(_class$44.prototype,"handleResize"),_class$44.prototype),_applyDecoratedDescriptor$27(_class$44.prototype,"handleFirstWaiting",[autobind],Object.getOwnPropertyDescriptor(_class$44.prototype,"handleFirstWaiting"),_class$44.prototype),_class$44),playername$31="audioSwitchVoicePlayer",ErrorDisplay=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={message:null},c._updatePlayerError=c._updatePlayerError.bind(c),c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on(event$1.PLAYER_ERROR,this._updatePlayerError)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off(event$1.PLAYER_ERROR,this._updatePlayerError)}},{key:"_updatePlayerError",value:function(a,b){this.setState({message:b.msg})}},{key:"render",value:function(){var a=this.state.message;return a?React__default.createElement("div",{className:playername$31+"-error-display"},React__default.createElement("div",{className:"error-display-message"},React__default.createElement("div",null,a))):null}}]),b}(React.Component),playername$32="audioSwitchVoicePlayer",NotiDisplay=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={message:null},c._updatePlayerNoti=c._updatePlayerNoti.bind(c),c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on(event$1.PLAYER_NOTI,this._updatePlayerNoti)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off(event$1.PLAYER_NOTI,this._updatePlayerNoti)}},{key:"_updatePlayerNoti",value:function(a,b){this.setState({message:b.msg})}},{key:"render",value:function(){var a=this.props.player,b=a.options().params.poster,c=b?"url("+b+")":null,d=this.state.message;return d?React__default.createElement("div",{className:playername$32+"-noti-display",style:{backgroundImage:c,objectPosition:"center",objectFit:"cover",backgroundPosition:"center",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"}},React__default.createElement("div",{className:"noti-display-message"},React__default.createElement("div",{style:{background:"black",width:"50%",margin:"auto",display:"unset"}},d))):null}}]),b}(React.Component),_class$11,_class2,_temp$7,DefaultSkin=(_temp$7=_class2=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.state={children:[React__default.createElement(Loading,{key:"loading",player:c.props.player}),React__default.createElement(Overlay,{key:"overlay",player:c.props.player,ref:function(a){c.overlay=a}}),React__default.createElement(ControlBar,{key:"controlbar",player:c.props.player,controlBarActiveChange:c.controlBarActiveChange,ref:function(a){c.controlBar=a}}),React__default.createElement(AnimationPlay,{key:"animationplay",player:c.props.player}),React__default.createElement(Ad,{key:"ads",player:c.props.player,ref:function(a){c.ad=a}}),React__default.createElement(InfoWaitPlay,{key:"videoinfo",player:c.props.player,ref:function(a){c.infoWaitPlay=a}}),React__default.createElement(VolumeAd,{key:"volume",player:c.props.player}),React__default.createElement(ImagesThumb,{key:"poster",player:c.props.player,ref:function(a){c.thumb=a}}),React__default.createElement(ErrorDisplay,{key:"errordisplay",player:c.props.player}),React__default.createElement(NotiDisplay,{key:"notidisplay",player:c.props.player})],is_playing:!1,is_has_started:!1,is_ended:!1,is_user_active:!1,is_controlbar_active:!1,is_scrubbing_progress:!1,is_scrubbing_volume:!1,userActivity_:!1,is_fullscreen:!1,is_hideControlBar:!1};var d=a.player,e=c;return c.userActive=throttle_1(c.userActive.bind(c),300),d.container=c,d.userActive=function(a){return void 0!==a?void(a?e.userActive():e.userInActive()):e.state.is_user_active},c}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.overlay=ReactDOM.findDOMNode(this.overlay),a.one("play",this.handeFirstPlay),a.one("playing",this.handeFirstPlay),a.on("play",this.handlePlay),a.on("pause",this.handlePause),a.on("ended",this.handleEnded),a.on("useractive",this.userActive),a.on("fullscreenchange",this.handleFullscreenChange),a.on("scrubbing-progress-state-change",this.handleScrubbingProgressStateChange),a.on("scrubbing-volume-state-change",this.handleScrubbingVolumeStateChange),this.activityCheck_=setInterval(this.activityCheck,500)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("play",this.handeFirstPlay),a.off("playing",this.handeFirstPlay),a.off("play",this.handlePlay),a.off("pause",this.handlePause),a.off("ended",this.handleEnded),a.off("useractive",this.userActive),a.off("fullscreenchange",this.handleFullscreenChange),a.off("scrubbing-progress-state-change",this.handleScrubbingProgressStateChange),a.off("scrubbing-volume-state-change",this.handleScrubbingVolumeStateChange),clearInterval(this.activityCheck_),clearTimeout(this.inactivityTimeout_)}},{key:"handeFirstPlay",value:function(){var a=this.props.player;a.off("play",this.handeFirstPlay),a.off("playing",this.handeFirstPlay),this.setState({is_has_started:!0})}},{key:"handlePlay",value:function(){this.setState({is_playing:!0,is_ended:!1})}},{key:"handlePause",value:function(){this.setState({is_playing:!1})}},{key:"handleEnded",value:function(){this.setState({is_playing:!1,is_ended:!0})}},{key:"handleFullscreenChange",value:function(){var a=this.props.player;a.isFullscreen()?(this.setState({is_fullscreen:!0}),a.addClass("player-fullscreen")):(this.setState({is_fullscreen:!1}),a.removeClass("player-fullscreen"))}},{key:"handleScrubbingProgressStateChange",value:function(a,b){this.setState({is_scrubbing_progress:b})}},{key:"handleScrubbingVolumeStateChange",value:function(a,b){this.setState({is_scrubbing_volume:b})}},{key:"className",value:function a(){var b=this.props,a=b.className,c=b.player,d=c.options(),e=d.params,f=this.state,g=f.is_playing,h=f.is_has_started,i=f.is_ended,j=f.is_user_active,k=f.is_scrubbing_volume,l=f.is_controlbar_active,m=f.is_fullscreen,n=f.is_hideControlBar,o=[a];return(n||e.control===!1)&&o.push("hide-control"),(h||e.filler===!1||e.audio)&&o.push("has-started"),g?o.push("playing"):o.push("paused"),i&&o.push("ended"),j||l||k?o.push("user-active"):o.push("user-inactive"),l&&o.push("controlbar-hover"),m&&o.push("fullscreen"),o.join(" ")}},{key:"activityCheck",value:function(){var a=this.state.userActivity_,b=this.props,c=b.inactivityTimeout,d=b.player,e=this;a&&(this.setState({userActivity_:!1}),d.clearTimeout(this.inactivityTimeout_),c>0&&(this.inactivityTimeout_=d.setTimeout(function(){var a=e.state.userActivity_;a||e.userInActive()},c)))}},{key:"userActive",value:function(){var a=this.props.player,b=this.state,c=b.is_user_active,d=b.userActivity_;c&&d||(this.setState({is_user_active:!0,userActivity_:!0}),a.trigger("player_useractive"),a.removeClass("player-user-inactive"),a.addClass("player-user-active"))}},{key:"userInActive",value:function(){var a=this.props.player,b=this.state,c=b.is_user_active,d=b.userActivity_;(c||d)&&(this.userActive.cancel(),this.setState({is_user_active:!1,userActivity_:!1}),a.trigger("player_userinactive"),a.removeClass("player-user-active"),a.addClass("player-user-inactive"),a.userActivity_=!1)}},{key:"handleKeyDown",value:function(a){var b=this.props.player;b.trigger(a)}},{key:"controlBarActiveChange",value:function(a){this.setState({is_controlbar_active:a})}},{key:"renderEl",value:function(){var a=this,b=this.className();return React__default.createElement("div",{id:"context-stats",className:b,onMouseEnter:this.userActive,onMouseLeave:this.userInActive,onMouseMove:this.userActive,onClick:this.userActive,tabIndex:"-1",role:"region","aria-label":"video player",ref:function(b){a.targetDiv=b}})}}]),b}(PlayerComponent),_class2.defaultProps={inactivityTimeout:2e3,className:""},_class$11=_temp$7,_applyDecoratedDescriptor$3(_class$11.prototype,"handeFirstPlay",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"handeFirstPlay"),_class$11.prototype),_applyDecoratedDescriptor$3(_class$11.prototype,"handlePlay",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"handlePlay"),_class$11.prototype),_applyDecoratedDescriptor$3(_class$11.prototype,"handlePause",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"handlePause"),_class$11.prototype),_applyDecoratedDescriptor$3(_class$11.prototype,"handleEnded",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"handleEnded"),_class$11.prototype),_applyDecoratedDescriptor$3(_class$11.prototype,"handleFullscreenChange",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"handleFullscreenChange"),_class$11.prototype),_applyDecoratedDescriptor$3(_class$11.prototype,"handleScrubbingProgressStateChange",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"handleScrubbingProgressStateChange"),_class$11.prototype),_applyDecoratedDescriptor$3(_class$11.prototype,"handleScrubbingVolumeStateChange",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"handleScrubbingVolumeStateChange"),_class$11.prototype),_applyDecoratedDescriptor$3(_class$11.prototype,"activityCheck",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"activityCheck"),_class$11.prototype),_applyDecoratedDescriptor$3(_class$11.prototype,"userInActive",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"userInActive"),_class$11.prototype),_applyDecoratedDescriptor$3(_class$11.prototype,"controlBarActiveChange",[autobind],Object.getOwnPropertyDescriptor(_class$11.prototype,"controlBarActiveChange"),_class$11.prototype),_class$11),_class$46,_class2$18,_class3$4,_temp2$7,PlayToggleAudio=pureRenderDecorator_1((_temp2$7=_class3$4=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={is_playing:!1},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;a.on("pause",this.handlePause),a.on("play",this.handlePlay),a.on("ended",this.handlePause)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("pause",this.handlePause),a.off("play",this.handlePlay),a.off("ended",this.handlePause)}},{key:"handlePause",value:function(){this.setState({is_playing:!1})}},{key:"handlePlay",value:function(){this.setState({is_playing:!0})}},{key:"clickButtonShortAudio",value:function(a){a.preventDefault();var b=this.props.player;b.paused()?b.play():b.pause()}},{key:"render",value:function(){var a=this.props,b=a.id,c=a.player,d=this.state.is_playing,e=c.options(),f=e.agent,g=f.isMobile?{width:25,height:20}:{};return React__default.createElement("div",{id:b,className:"btnToggle",style:g,onClick:this.clickButtonShortAudio},d?pauseBtn$1():playBtn$1())}}]),b}(React.Component),_class3$4.defaultProps={className:""},_class2$18=_temp2$7,_applyDecoratedDescriptor$28(_class2$18.prototype,"handlePause",[autobind],Object.getOwnPropertyDescriptor(_class2$18.prototype,"handlePause"),_class2$18.prototype),_applyDecoratedDescriptor$28(_class2$18.prototype,"handlePlay",[autobind],Object.getOwnPropertyDescriptor(_class2$18.prototype,"handlePlay"),_class2$18.prototype),_applyDecoratedDescriptor$28(_class2$18.prototype,"clickButtonShortAudio",[autobind],Object.getOwnPropertyDescriptor(_class2$18.prototype,"clickButtonShortAudio"),_class2$18.prototype),_class$46=_class2$18))||_class$46,_class$47,_class2$19,progress=pureRenderDecorator_1((_class2$19=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={displayProgress:!1,sliderPlay:0,checkPlay:!1},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player,b=this;a.one("play",function(){b.setState({displayProgress:!0})}),a.on("timeupdate",this.handleTime)}},{key:"componentWillUnmount",value:function(){var a=this.props.player;a.off("timeupdate",this.handleTime)}},{key:"handleTime",value:function(){var a=this.props.player,b=a.duration(),c=a.currentTime(),d=this.progress.clientWidth*(c/b);this.setState({sliderPlay:d})}},{key:"handleMouseDown",value:function(a){this.clearListener();var b=this.props.player,c=!1;b.paused()||(b.pause(),c=!0);var d=this.calculateDistance(a),e=b.duration();b.currentTime(e*d),this.setState({sliderPlay:d*this.progress.clientWidth,checkPlay:c}),window.addEventListener("mousemove",this.handleMouseMove,!1),window.addEventListener("mouseup",this.handleMouseUp,!1),window.addEventListener("touchmove",this.handleMouseMove,!1),window.addEventListener("touchend",this.handleMouseUp,!1)}},{key:"clearListener",value:function(){window.removeEventListener("mousemove",this.handleMouseMove,!1),window.removeEventListener("mouseup",this.handleMouseUp,!1),window.removeEventListener("touchmove",this.handleMouseMove,!1),window.removeEventListener("touchend",this.handleMouseUp,!1)}},{key:"handleMouseMove",value:function(a){var b=this.props.player,c=this.calculateDistance(a),d=b.duration();b.currentTime(d*c),this.setState({sliderPlay:c*this.progress.clientWidth}),a.preventDefault(),a.stopPropagation()}},{key:"handleMouseUp",value:function(a){this.clearListener();var b=this.props.player,c=this.state.checkPlay,d=this.calculateDistance(a),e=b.duration();b.currentTime(e*d),c&&b.play(),this.setState({sliderPlay:d*this.progress.clientWidth})}},{key:"calculateDistance",value:function(a){var b=getPointerPosition(this.progress,a);return b.x.toFixed(2)}},{key:"render",value:function(){var a=this,b=this.props.player,c=this.state,d=c.displayProgress,e=c.sliderPlay,f=b.options(),g=f.agent,h=g.isMobile?12:13,i=g.isMobile?"calc(100% - 60px)":"calc(100% - 80px)",j=void 0;d?j=g.isMobile?{onTouchStart:this.handleMouseDown}:{onMouseDown:this.handleMouseDown}:i=85;var k={width:i,fontSize:h};return React__default.createElement("div",_extends({},j,{className:"progress",style:k,
ref:function(b){a.progress=b}}),d?React__default.createElement("div",{className:"progressSlider",ref:function(b){a.progressSlider=b}},React__default.createElement("div",{style:{width:e,height:"100%",background:"#555",borderRadius:3}})):React__default.createElement("div",{style:{color:"#555",fontWeight:600}},"Nghe đọc bài"))}}]),b}(React.Component),_applyDecoratedDescriptor$29(_class2$19.prototype,"handleTime",[autobind],Object.getOwnPropertyDescriptor(_class2$19.prototype,"handleTime"),_class2$19.prototype),_applyDecoratedDescriptor$29(_class2$19.prototype,"handleMouseDown",[autobind],Object.getOwnPropertyDescriptor(_class2$19.prototype,"handleMouseDown"),_class2$19.prototype),_applyDecoratedDescriptor$29(_class2$19.prototype,"handleMouseMove",[autobind],Object.getOwnPropertyDescriptor(_class2$19.prototype,"handleMouseMove"),_class2$19.prototype),_applyDecoratedDescriptor$29(_class2$19.prototype,"handleMouseUp",[autobind],Object.getOwnPropertyDescriptor(_class2$19.prototype,"handleMouseUp"),_class2$19.prototype),_applyDecoratedDescriptor$29(_class2$19.prototype,"calculateDistance",[autobind],Object.getOwnPropertyDescriptor(_class2$19.prototype,"calculateDistance"),_class2$19.prototype),_class$47=_class2$19))||_class$47,_class$48,_class2$20,DurationAudio=pureRenderDecorator_1((_class2$20=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={duration:"00:00",countdownDuration:"00:00"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props,b=a.player,c=a.durationDisplay;b.on("timeupdate",this.handlecountdownDuration),b.on("loadedmetadata",this.time),this.setState({countdownDuration:c})}},{key:"time",value:function(){var a=this.props.player,b=Math.floor(a.duration());b=formatTime(b),this.setState({countdownDuration:b})}},{key:"handlecountdownDuration",value:function(){var a=this.props.player,b=a.duration(),c=a.currentTime(),d=Math.floor(b-c);d=formatTime(d),this.state.endAdPostroll&&(d="00:00"),this.setState({countdownDuration:d})}},{key:"render",value:function(){var a=this.props.player,b=this.state.countdownDuration,c=a.options(),d=c.agent,e=d.isMobile?{width:35,fontSize:12}:{};return React__default.createElement("div",{className:"duration",style:e}," ",b," ")}}]),b}(React.Component),_applyDecoratedDescriptor$30(_class2$20.prototype,"time",[autobind],Object.getOwnPropertyDescriptor(_class2$20.prototype,"time"),_class2$20.prototype),_applyDecoratedDescriptor$30(_class2$20.prototype,"handlecountdownDuration",[autobind],Object.getOwnPropertyDescriptor(_class2$20.prototype,"handlecountdownDuration"),_class2$20.prototype),_class$48=_class2$20))||_class$48,_class$49,_class2$21,SpeedRead=pureRenderDecorator_1((_class2$21=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={speed:1,arrSpeed:[.5,.75,1,1.25,1.5]},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player,b=this;a.on("loadedmetadata",function(){b.setState({speed:1})})}},{key:"onSpeed",value:function(){var a=this.props.player,b=a.options(),c=b.agent;c.isMobile?this.overlaySpeed.classList.toggle("show"):this.overlaySpeed.classList.add("show")}},{key:"offSpeed",value:function(){this.overlaySpeed.classList.remove("show")}},{key:"selectSpeed",value:function(a){var b=this.props.player;b.playbackRate(a),this.overlaySpeed.classList.remove("show"),this.setState({speed:a})}},{key:"render",value:function(){var a=this,b=this.props.player,c=this.state,d=c.speed,e=c.arrSpeed,f=b.options(),g=f.agent,h=void 0,i=void 0,j=void 0,k=void 0,l={},m={};return g.isMobile?(h={width:45,fontSize:10},i={width:45,height:25},j={width:30,height:20},k={width:28,height:25*e.length,margin:"30px 0 0 10px"},m={onTouchStart:this.onSpeed}):(l={onMouseMove:this.onSpeed,onMouseLeave:this.offSpeed},k={height:25*e.length},i={fontSize:12}),React__default.createElement("div",_extends({className:"overlaySpeedRead",style:h},l),React__default.createElement("div",_extends({className:"displaySpeedRead"},m,{style:i}),React__default.createElement("div",{className:"divider"}),React__default.createElement("div",{className:"speedRead",style:j}," ",d,"x "),React__default.createElement("div",{className:"divider"})),React__default.createElement("div",{className:"overlaySpeed",style:k,ref:function(b){a.overlaySpeed=b}},e.map(function(b,c){var d={},f=c==e.length-1;return g.isMobile?d=f?{height:25}:{borderBottom:"2px solid #66666630",height:25}:f||(d={borderBottom:"2px solid #66666630"}),React__default.createElement("div",{key:c,className:"speed",style:d,onClick:function(){a.selectSpeed(b)}}," ",b,"x ")})))}}]),b}(React.Component),_applyDecoratedDescriptor$31(_class2$21.prototype,"onSpeed",[autobind],Object.getOwnPropertyDescriptor(_class2$21.prototype,"onSpeed"),_class2$21.prototype),_applyDecoratedDescriptor$31(_class2$21.prototype,"offSpeed",[autobind],Object.getOwnPropertyDescriptor(_class2$21.prototype,"offSpeed"),_class2$21.prototype),_applyDecoratedDescriptor$31(_class2$21.prototype,"selectSpeed",[autobind],Object.getOwnPropertyDescriptor(_class2$21.prototype,"selectSpeed"),_class2$21.prototype),_class$49=_class2$21))||_class$49,_class$50,_class2$22,AccentRead=pureRenderDecorator_1((_class2$22=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={showIconUp:!1,labelVoice:"",sourceVoice:"",arrVoices:[]},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player,b=a.options(),c=b.params,d=[];d.push({name:c.firstLabelAudio,link:c.file}),c.audioSwitchVoice&&c.audioSwitchVoice.map(function(a){d.push(a)}),this.setState({arrVoices:d,labelVoice:c.firstLabelAudio})}},{key:"onListVoices",value:function(){var a=this.props.player,b=this.state.showIconUp,c=a.options(),d=c.agent;d.isMobile?(this.setState({showIconUp:!b}),this.eleSelectVoice.classList.toggle("show")):(this.setState({showIconUp:!0}),this.eleSelectVoice.classList.add("show"))}},{key:"offListVoices",value:function(){this.setState({showIconUp:!1}),this.eleSelectVoice.classList.remove("show")}},{key:"choiceVoice",value:function(a){var b=this.props.player,c=b.paused();b.src(a.link),b.trigger("audio:voiceSelect",a),b.one("loadedmetadata",function(){c||b.play()}),this.eleSelectVoice.classList.remove("show"),this.setState({labelVoice:a.name,showIconUp:!1})}},{key:"render",value:function(){var a=this,b=this.props.player,c=this.state,d=c.showIconUp,e=c.arrVoices,f=c.labelVoice,g=b.options(),h=g.agent,i={},j=void 0,k=18,l={width:115,height:30*e.length},m="iconAccentRead",n={},o={};return h.isMobile?(k=16,i={width:125,fontSize:12},j={width:85},l={width:105,height:25*e.length},m="iconAccentRead_mobile",o={onTouchStart:this.onListVoices}):n={onMouseMove:this.onListVoices,onMouseLeave:this.offListVoices},(b.el_.clientWidth<350&&!h.isMobile||b.el_.clientWidth<320&&h.isMobile)&&(j={display:"none"},i.width=45,i.fontSize=h.isMobile?12:13,l.left=h.isMobile?"-70px":"-85px"),React__default.createElement("div",_extends({className:"overlayAccentRead",style:i},n),React__default.createElement("div",_extends({className:"overlayVoice"},o),React__default.createElement("div",{className:m}," ",micBtn(k)," "),React__default.createElement("div",{className:"labelVoice",style:j}," ",f," "),React__default.createElement("div",{className:m,style:{marginRight:10}}," ",d?upBtn(k):downBtn(k)," ")),React__default.createElement("div",{className:"overlayNameVoice",style:l,ref:function(b){a.eleSelectVoice=b}},e.map(function(b,c){var d={},f=c==e.length-1;return h.isMobile?d=f?{height:25,paddingLeft:5}:{borderBottom:"2px solid #66666630",height:25,paddingLeft:5}:f||(d={borderBottom:"2px solid #66666630"}),h.isMobile?React__default.createElement("div",{key:c,className:"nameVoice",style:d,onTouchStart:function(){a.choiceVoice(b)}},b.name):React__default.createElement("div",{key:c,className:"nameVoice",style:d,onClick:function(){a.choiceVoice(b)}},b.name)})))}}]),b}(React.Component),_applyDecoratedDescriptor$32(_class2$22.prototype,"onListVoices",[autobind],Object.getOwnPropertyDescriptor(_class2$22.prototype,"onListVoices"),_class2$22.prototype),_applyDecoratedDescriptor$32(_class2$22.prototype,"offListVoices",[autobind],Object.getOwnPropertyDescriptor(_class2$22.prototype,"offListVoices"),_class2$22.prototype),_applyDecoratedDescriptor$32(_class2$22.prototype,"choiceVoice",[autobind],Object.getOwnPropertyDescriptor(_class2$22.prototype,"choiceVoice"),_class2$22.prototype),_class$50=_class2$22))||_class$50,_class$45,_class2$17,_temp2$6,ControlBar$2=pureRenderDecorator_1((_temp2$6=_class2$17=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={displayControl:!1,durationDisplay:"00:00"},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){var a=this.props.player;1!=a.options().params.autoPlay||a.options().agent.isMobile||a.play();var b=this;a.on("loadedmetadata",function(){var c=Math.floor(a.duration());c=formatTime(c),b.setState({displayControl:!0,durationDisplay:c})})}},{key:"renderEl",value:function(){var a=this,b=this.props,c=b.className,d=b.player,e=this.state,f=e.displayControl,g=e.durationDisplay,h=d.options(),i=h.agent;if(!f)return null;var j=i.isMobile?"calc(100% - 125px)":"calc(100% - 190px)";return(d.el_.clientWidth<350&&!i.isMobile||d.el_.clientWidth<320&&i.isMobile)&&(j="calc(100% - 95px)"),React__default.createElement("div",{className:c},React__default.createElement("div",{className:"overlay1",style:{width:j}},React__default.createElement(PlayToggleAudio,{key:"1",player:this.props.player,ref:function(b){a.playToggle=b}}),React__default.createElement(progress,{key:"2",player:this.props.player,ref:function(b){a.progress=b}}),React__default.createElement(DurationAudio,{key:"3",player:this.props.player,durationDisplay:g,ref:function(b){a.duration=b}})),React__default.createElement("div",{className:"overlay2"},React__default.createElement(SpeedRead,{key:"4",player:this.props.player,ref:function(b){a.speedRead=b}}),React__default.createElement(AccentRead,{key:"5",player:this.props.player,ref:function(b){a.accentRead=b}})))}}]),b}(PlayerComponent),_class2$17.defaultProps={className:""},_class$45=_temp2$6))||_class$45,_class$10,_temp2,AudioSwitchVoice=(_temp2=_class$10=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={children:[d.props.player.activePlugins_.AdsPlayerPlugin?React__default.createElement(Overlay,{key:"overlay",player:d.props.player,ref:function(a){d.overlay=a}}):null,React__default.createElement(ControlBar$2,{className:"AudioSwitchVoice-controlbar",key:"controlbar",player:d.props.player,ref:function(a){d.controlBar=a}})]},e=c,possibleConstructorReturn(d,e)}return inherits(b,a),b}(DefaultSkin),_class$10.propTypes={player:propTypes.object.isRequired,inactivityTimeout:propTypes.number},_class$10.defaultProps={inactivityTimeout:2e3},_temp2),Player=videojs.getComponent("Player"),playername$2="audioSwitchVoicePlayer",Component$1=videojs.getComponent("Component"),PlayerSkin=withAd(AudioSwitchVoice),oriAddClass=Player.prototype.addClass,oriRemoveClass=Player.prototype.removeClass;Player.prototype.addClass=function(a){var b=new RegExp(playername$2+"|embed-iframe|audioTransPlayer|AudioSwitchVoice|short-audio|default-skin|dimensions|player-.*");b.test(a)&&oriAddClass.call(this,a)},Player.prototype.removeClass=function(a){oriRemoveClass.call(this,a)};var CustomizeSkin=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return classCallCheck(this,b),possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return inherits(b,a),createClass(b,[{key:"dispose",value:function(){ReactDOM.unmountComponentAtNode(this.el_)}},{key:"createEl",value:function(){var a=this.player(),c=get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:playername$2+"-area-control"});return ReactDOM.render(React__default.createElement(PlayerSkin,{player:a}),c),c}}]),b}(Component$1);Component$1.registerComponent("CustomizeSkin",CustomizeSkin),videojs.log.level("off"),videojs.log=log,videojs.playerconfig=playerconfig,videojs.autobind=autobind,videojs.PropTypes=propTypes,videojs.getSkinComponent=PlayerComponent.getSkinComponent,videojs.agent=agent,videojs.Plugin=Plugin,videojs.store=store_legacy,videojs.Hls=Hls,videojs.util=util$3;var playername="audioSwitchVoicePlayer",playerOptions={audio:!0}||{},playsinlineBoolean=!0;"TuoiTrePlayer"==playername&&(playsinlineBoolean=!1);var options_default=_extends({playsinline:playsinlineBoolean,agent:agent,query:query,info:info,plugins:{attachPlugin:{}},children:["mediaLoader","customizeSkin"],params:{}},playerOptions);return vcplayer.plugin=videojs.plugin.bind(videojs),window[playername+"Core"]=videojs,window[playername]=vcplayer,window.vcReact=React__default,window.vcReactDOM=ReactDOM,vcplayer})}.bind({videojs:this.videojs,Hls:this.Hls,React:this.React?this.React:this.window.React,ReactDOM:this.ReactDOM?this.ReactDOM:this.window.ReactDOM,flvjs:window.flvjs,dashjs:window.dashjs,"aes-wasm":window["aes-wasm"]})()}).bind(a)();